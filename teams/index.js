/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

function Kt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function de(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ir(t){let e,r,n;t.length!==2?(e=Kt,r=(f,u)=>Kt(t(f),u),n=(f,u)=>t(f)-u):(e=t===Kt||t===de?t:ab,r=t,n=t);function o(f,u,c=0,s=f.length){if(c<s){if(e(u,u)!==0)return s;do{let d=c+s>>>1;r(f[d],u)<0?c=d+1:s=d}while(c<s)}return c}function i(f,u,c=0,s=f.length){if(c<s){if(e(u,u)!==0)return s;do{let d=c+s>>>1;r(f[d],u)<=0?c=d+1:s=d}while(c<s)}return c}function a(f,u,c=0,s=f.length){let d=o(f,u,c,s-1);return d>c&&n(f[d-1],u)>-n(f[d],u)?d-1:d}return{left:o,center:a,right:i}}function ab(){return 0}function Vo(t){return t===null?NaN:+t}function*Fp(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}var qp=ir(Kt),zp=qp.right,fb=qp.left,ub=ir(Vo).center,nn=zp;function sb(t){return t.length|0}function cb(t){return!(t>0)}function lb(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function db(t){return e=>t(...e)}function Na(...t){let e=typeof t[t.length-1]=="function"&&db(t.pop());t=t.map(lb);let r=t.map(sb),n=t.length-1,o=new Array(n+1).fill(0),i=[];if(n<0||r.some(cb))return i;for(;;){i.push(o.map((f,u)=>t[u][f]));let a=n;for(;++o[a]===r[a];){if(a===0)return e?i.map(e):i;o[a--]=0}}}function Yn(t,e){let r=0,n,o=0,i=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(n=a-o,o+=n/++r,i+=n*(a-o));else{let a=-1;for(let f of t)(f=e(f,++a,t))!=null&&(f=+f)>=f&&(n=f-o,o+=n/++r,i+=n*(f-o))}if(r>1)return i/(r-1)}function Ia(t,e){let r=Yn(t,e);return r&&Math.sqrt(r)}function Ut(t,e){let r,n;if(e===void 0)for(let o of t)o!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)));else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)))}return[r,n]}var oe=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let r=this._partials,n=0;for(let o=0;o<this._n&&o<32;o++){let i=r[o],a=e+i,f=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);f&&(r[n++]=f),e=a}return r[n]=e,this._n=n+1,this}valueOf(){let e=this._partials,r=this._n,n,o,i,a=0;if(r>0){for(a=e[--r];r>0&&(n=a,o=e[--r],a=n+o,i=o-(a-n),!i););r>0&&(i<0&&e[r-1]<0||i>0&&e[r-1]>0)&&(o=i*2,n=a+o,o==n-a&&(a=n))}return a}};var pe=class extends Map{constructor(e,r=Up){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(let[n,o]of e)this.set(n,o)}get(e){return super.get(oc(this,e))}has(e){return super.has(oc(this,e))}set(e,r){return super.set(Yp(this,e),r)}delete(e){return super.delete(Bp(this,e))}},Te=class extends Set{constructor(e,r=Up){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(let n of e)this.add(n)}has(e){return super.has(oc(this,e))}add(e){return super.add(Yp(this,e))}delete(e){return super.delete(Bp(this,e))}};function oc({_intern:t,_key:e},r){let n=e(r);return t.has(n)?t.get(n):r}function Yp({_intern:t,_key:e},r){let n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Bp({_intern:t,_key:e},r){let n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Up(t){return t!==null&&typeof t=="object"?t.valueOf():t}function jo(t){return t}function Bn(t,...e){return ac(t,jo,jo,e)}function Un(t,e,...r){return ac(t,jo,e,r)}function ic(t,e,...r){return ac(t,Array.from,e,r)}function ac(t,e,r,n){return function o(i,a){if(a>=n.length)return r(i);let f=new pe,u=n[a++],c=-1;for(let s of i){let d=u(s,++c,i),l=f.get(d);l?l.push(s):f.set(d,[s])}for(let[s,d]of f)f.set(s,o(d,a));return e(f)}(t,0)}function fc(t,e){return Array.from(e,r=>t[r])}function Qo(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[r]=e;if(r&&r.length!==2||e.length>1){let n=Uint32Array.from(t,(o,i)=>i);return e.length>1?(e=e.map(o=>t.map(o)),n.sort((o,i)=>{for(let a of e){let f=Zo(a[o],a[i]);if(f)return f}})):(r=t.map(r),n.sort((o,i)=>Zo(r[o],r[i]))),fc(t,n)}return t.sort(uc(r))}function uc(t=Kt){if(t===Kt)return Zo;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{let n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Zo(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}var pb=Math.sqrt(50),mb=Math.sqrt(10),hb=Math.sqrt(2);function Da(t,e,r){let n=(e-t)/Math.max(0,r),o=Math.floor(Math.log10(n)),i=n/Math.pow(10,o),a=i>=pb?10:i>=mb?5:i>=hb?2:1,f,u,c;return o<0?(c=Math.pow(10,-o)/a,f=Math.round(t*c),u=Math.round(e*c),f/c<t&&++f,u/c>e&&--u,c=-c):(c=Math.pow(10,o)*a,f=Math.round(t/c),u=Math.round(e/c),f*c<t&&++f,u*c>e&&--u),u<f&&.5<=r&&r<2?Da(t,e,r*2):[f,u,c]}function ar(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];let n=e<t,[o,i,a]=n?Da(e,t,r):Da(t,e,r);if(!(i>=o))return[];let f=i-o+1,u=new Array(f);if(n)if(a<0)for(let c=0;c<f;++c)u[c]=(i-c)/-a;else for(let c=0;c<f;++c)u[c]=(i-c)*a;else if(a<0)for(let c=0;c<f;++c)u[c]=(o+c)/-a;else for(let c=0;c<f;++c)u[c]=(o+c)*a;return u}function Ko(t,e,r){return e=+e,t=+t,r=+r,Da(t,e,r)[2]}function Gn(t,e,r){e=+e,t=+t,r=+r;let n=e<t,o=n?Ko(e,t,r):Ko(t,e,r);return(n?-1:1)*(o<0?1/-o:o)}function Gt(t,e){let r;if(e===void 0)for(let n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let o of t)(o=e(o,++n,t))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function Ra(t,e){let r,n=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(r<i||r===void 0&&i>=i)&&(r=i,n=o);else for(let i of t)(i=e(i,++o,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i,n=o);return n}function De(t,e){let r;if(e===void 0)for(let n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let o of t)(o=e(o,++n,t))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function La(t,e){let r,n=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(r>i||r===void 0&&i>=i)&&(r=i,n=o);else for(let i of t)(i=e(i,++o,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i,n=o);return n}function Oa(t,e,r=0,n=1/0,o){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(o=o===void 0?Zo:uc(o);n>r;){if(n-r>600){let u=n-r+1,c=e-r+1,s=Math.log(u),d=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*d*(u-d)/u)*(c-u/2<0?-1:1),p=Math.max(r,Math.floor(e-c*d/u+l)),m=Math.min(n,Math.floor(e+(u-c)*d/u+l));Oa(t,e,p,m,o)}let i=t[e],a=r,f=n;for(Jo(t,r,e),o(t[n],i)>0&&Jo(t,r,n);a<f;){for(Jo(t,a,f),++a,--f;o(t[a],i)<0;)++a;for(;o(t[f],i)>0;)--f}o(t[r],i)===0?Jo(t,r,f):(++f,Jo(t,f,n)),f<=e&&(r=f+1),e<=f&&(n=f-1)}return t}function Jo(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}function fr(t,e,r){if(t=Float64Array.from(Fp(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return De(t);if(e>=1)return Gt(t);var n,o=(n-1)*e,i=Math.floor(o),a=Gt(Oa(t,i).subarray(0,i+1)),f=De(t.subarray(i+1));return a+(f-a)*(o-i)}}function sc(t,e,r=Vo){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,o=(n-1)*e,i=Math.floor(o),a=+r(t[i],i,t),f=+r(t[i+1],i+1,t);return a+(f-a)*(o-i)}}function Pa(t,e){let r=0,n=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++r,n+=o);else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(i=+i)>=i&&(++r,n+=i)}if(r)return n/r}function on(t,e){return fr(t,.5,e)}function*xb(t){for(let e of t)yield*e}function Hn(t){return Array.from(xb(t))}function Fa(t,e){let r=new pe;if(e===void 0)for(let i of t)i!=null&&i>=i&&r.set(i,(r.get(i)||0)+1);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&a>=a&&r.set(a,(r.get(a)||0)+1)}let n,o=0;for(let[i,a]of r)a>o&&(o=a,n=i);return n}function qa(t,e=yb){let r=[],n,o=!1;for(let i of t)o&&r.push(e(n,i)),n=i,o=!0;return r}function yb(t,e){return[t,e]}function an(t,e,r){t=+t,e=+e,r=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(o);++n<o;)i[n]=t+n*r;return i}function fn(t,e){let r=0;if(e===void 0)for(let n of t)(n=+n)&&(r+=n);else{let n=-1;for(let o of t)(o=+e(o,++n,t))&&(r+=o)}return r}function Ir(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Gp(t){return t}var cc=1,lc=2,dc=3,za=4,Hp=1e-6;function bb(t){return"translate("+t+",0)"}function wb(t){return"translate(0,"+t+")"}function vb(t){return e=>+t(e)}function Mb(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function Sb(){return!this.__axis}function Tb(t,e){var r=[],n=null,o=null,i=6,a=6,f=3,u=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,c=t===cc||t===za?-1:1,s=t===za||t===lc?"x":"y",d=t===cc||t===dc?bb:wb;function l(p){var m=n==null?e.ticks?e.ticks.apply(e,r):e.domain():n,g=o==null?e.tickFormat?e.tickFormat.apply(e,r):Gp:o,h=Math.max(i,0)+f,b=e.range(),x=+b[0]+u,M=+b[b.length-1]+u,y=(e.bandwidth?Mb:vb)(e.copy(),u),v=p.selection?p.selection():p,w=v.selectAll(".domain").data([null]),S=v.selectAll(".tick").data(m,e).order(),C=S.exit(),k=S.enter().append("g").attr("class","tick"),I=S.select("line"),T=S.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(k),I=I.merge(k.append("line").attr("stroke","currentColor").attr(s+"2",c*i)),T=T.merge(k.append("text").attr("fill","currentColor").attr(s,c*h).attr("dy",t===cc?"0em":t===dc?"0.71em":"0.32em")),p!==v&&(w=w.transition(p),S=S.transition(p),I=I.transition(p),T=T.transition(p),C=C.transition(p).attr("opacity",Hp).attr("transform",function(D){return isFinite(D=y(D))?d(D+u):this.getAttribute("transform")}),k.attr("opacity",Hp).attr("transform",function(D){var R=this.parentNode.__axis;return d((R&&isFinite(R=R(D))?R:y(D))+u)})),C.remove(),w.attr("d",t===za||t===lc?a?"M"+c*a+","+x+"H"+u+"V"+M+"H"+c*a:"M"+u+","+x+"V"+M:a?"M"+x+","+c*a+"V"+u+"H"+M+"V"+c*a:"M"+x+","+u+"H"+M),S.attr("opacity",1).attr("transform",function(D){return d(y(D)+u)}),I.attr(s+"2",c*i),T.attr(s,c*h).text(g),v.filter(Sb).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===lc?"start":t===za?"end":"middle"),v.each(function(){this.__axis=y})}return l.scale=function(p){return arguments.length?(e=p,l):e},l.ticks=function(){return r=Array.from(arguments),l},l.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),l):r.slice()},l.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),l):n&&n.slice()},l.tickFormat=function(p){return arguments.length?(o=p,l):o},l.tickSize=function(p){return arguments.length?(i=a=+p,l):i},l.tickSizeInner=function(p){return arguments.length?(i=+p,l):i},l.tickSizeOuter=function(p){return arguments.length?(a=+p,l):a},l.tickPadding=function(p){return arguments.length?(f=+p,l):f},l.offset=function(p){return arguments.length?(u=+p,l):u},l}function pc(t){return Tb(dc,t)}var _b={value:()=>{}};function Xp(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Ya(r)}function Ya(t){this._=t}function Ab(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Ya.prototype=Xp.prototype={constructor:Ya,on:function(t,e){var r=this._,n=Ab(t+"",r),o,i=-1,a=n.length;if(arguments.length<2){for(;++i<a;)if((o=(t=n[i]).type)&&(o=Eb(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=n[i]).type)r[o]=Wp(r[o],t.name,e);else if(e==null)for(o in r)r[o]=Wp(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Ya(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,i;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],n=0,o=i.length;n<o;++n)i[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};function Eb(t,e){for(var r=0,n=t.length,o;r<n;++r)if((o=t[r]).name===e)return o.value}function Wp(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=_b,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var mc=Xp;var Ba="http://www.w3.org/1999/xhtml",Re={svg:"http://www.w3.org/2000/svg",xhtml:Ba,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ur(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Re.hasOwnProperty(e)?{space:Re[e],local:t}:t}function Cb(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Ba&&e.documentElement.namespaceURI===Ba?e.createElement(t):e.createElementNS(r,t)}}function kb(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function sr(t){var e=ur(t);return(e.local?kb:Cb)(e)}function $b(){}function un(t){return t==null?$b:function(){return this.querySelector(t)}}function Vp(t){typeof t!="function"&&(t=un(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,f=n[o]=new Array(a),u,c,s=0;s<a;++s)(u=i[s])&&(c=t.call(u,u.__data__,s,i))&&("__data__"in u&&(c.__data__=u.__data__),f[s]=c);return new wt(n,this._parents)}function hc(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Nb(){return[]}function ti(t){return t==null?Nb:function(){return this.querySelectorAll(t)}}function Ib(t){return function(){return hc(t.apply(this,arguments))}}function jp(t){typeof t=="function"?t=Ib(t):t=ti(t);for(var e=this._groups,r=e.length,n=[],o=[],i=0;i<r;++i)for(var a=e[i],f=a.length,u,c=0;c<f;++c)(u=a[c])&&(n.push(t.call(u,u.__data__,c,a)),o.push(u));return new wt(n,o)}function ei(t){return function(){return this.matches(t)}}function Ua(t){return function(e){return e.matches(t)}}var Db=Array.prototype.find;function Rb(t){return function(){return Db.call(this.children,t)}}function Lb(){return this.firstElementChild}function Zp(t){return this.select(t==null?Lb:Rb(typeof t=="function"?t:Ua(t)))}var Ob=Array.prototype.filter;function Pb(){return Array.from(this.children)}function Fb(t){return function(){return Ob.call(this.children,t)}}function Qp(t){return this.selectAll(t==null?Pb:Fb(typeof t=="function"?t:Ua(t)))}function Kp(t){typeof t!="function"&&(t=ei(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,f=n[o]=[],u,c=0;c<a;++c)(u=i[c])&&t.call(u,u.__data__,c,i)&&f.push(u);return new wt(n,this._parents)}function Ga(t){return new Array(t.length)}function Jp(){return new wt(this._enter||this._groups.map(Ga),this._parents)}function ri(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ri.prototype={constructor:ri,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function tm(t){return function(){return t}}function qb(t,e,r,n,o,i){for(var a=0,f,u=e.length,c=i.length;a<c;++a)(f=e[a])?(f.__data__=i[a],n[a]=f):r[a]=new ri(t,i[a]);for(;a<u;++a)(f=e[a])&&(o[a]=f)}function zb(t,e,r,n,o,i,a){var f,u,c=new Map,s=e.length,d=i.length,l=new Array(s),p;for(f=0;f<s;++f)(u=e[f])&&(l[f]=p=a.call(u,u.__data__,f,e)+"",c.has(p)?o[f]=u:c.set(p,u));for(f=0;f<d;++f)p=a.call(t,i[f],f,i)+"",(u=c.get(p))?(n[f]=u,u.__data__=i[f],c.delete(p)):r[f]=new ri(t,i[f]);for(f=0;f<s;++f)(u=e[f])&&c.get(l[f])===u&&(o[f]=u)}function Yb(t){return t.__data__}function em(t,e){if(!arguments.length)return Array.from(this,Yb);var r=e?zb:qb,n=this._parents,o=this._groups;typeof t!="function"&&(t=tm(t));for(var i=o.length,a=new Array(i),f=new Array(i),u=new Array(i),c=0;c<i;++c){var s=n[c],d=o[c],l=d.length,p=Bb(t.call(s,s&&s.__data__,c,n)),m=p.length,g=f[c]=new Array(m),h=a[c]=new Array(m),b=u[c]=new Array(l);r(s,d,g,h,b,p,e);for(var x=0,M=0,y,v;x<m;++x)if(y=g[x]){for(x>=M&&(M=x+1);!(v=h[M])&&++M<m;);y._next=v||null}}return a=new wt(a,n),a._enter=f,a._exit=u,a}function Bb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rm(){return new wt(this._exit||this._groups.map(Ga),this._parents)}function nm(t,e,r){var n=this.enter(),o=this,i=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?i.remove():r(i),n&&o?n.merge(o).order():o}function om(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,o=r.length,i=n.length,a=Math.min(o,i),f=new Array(o),u=0;u<a;++u)for(var c=r[u],s=n[u],d=c.length,l=f[u]=new Array(d),p,m=0;m<d;++m)(p=c[m]||s[m])&&(l[m]=p);for(;u<o;++u)f[u]=r[u];return new wt(f,this._parents)}function im(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],o=n.length-1,i=n[o],a;--o>=0;)(a=n[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function am(t){t||(t=Ub);function e(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a=r[i],f=a.length,u=o[i]=new Array(f),c,s=0;s<f;++s)(c=a[s])&&(u[s]=c);u.sort(e)}return new wt(o,this._parents).order()}function Ub(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function fm(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function um(){return Array.from(this)}function sm(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null}function cm(){let t=0;for(let e of this)++t;return t}function lm(){return!this.node()}function dm(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var o=e[r],i=0,a=o.length,f;i<a;++i)(f=o[i])&&t.call(f,f.__data__,i,o);return this}function Gb(t){return function(){this.removeAttribute(t)}}function Hb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wb(t,e){return function(){this.setAttribute(t,e)}}function Xb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Vb(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function jb(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function pm(t,e){var r=ur(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Hb:Gb:typeof e=="function"?r.local?jb:Vb:r.local?Xb:Wb)(r,e))}function Ha(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zb(t){return function(){this.style.removeProperty(t)}}function Qb(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Kb(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function mm(t,e,r){return arguments.length>1?this.each((e==null?Zb:typeof e=="function"?Kb:Qb)(t,e,r==null?"":r)):Dr(this.node(),t)}function Dr(t,e){return t.style.getPropertyValue(e)||Ha(t).getComputedStyle(t,null).getPropertyValue(e)}function Jb(t){return function(){delete this[t]}}function t2(t,e){return function(){this[t]=e}}function e2(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function hm(t,e){return arguments.length>1?this.each((e==null?Jb:typeof e=="function"?e2:t2)(t,e)):this.node()[t]}function gm(t){return t.trim().split(/^|\s+/)}function gc(t){return t.classList||new xm(t)}function xm(t){this._node=t,this._names=gm(t.getAttribute("class")||"")}xm.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ym(t,e){for(var r=gc(t),n=-1,o=e.length;++n<o;)r.add(e[n])}function bm(t,e){for(var r=gc(t),n=-1,o=e.length;++n<o;)r.remove(e[n])}function r2(t){return function(){ym(this,t)}}function n2(t){return function(){bm(this,t)}}function o2(t,e){return function(){(e.apply(this,arguments)?ym:bm)(this,t)}}function wm(t,e){var r=gm(t+"");if(arguments.length<2){for(var n=gc(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?o2:e?r2:n2)(r,e))}function i2(){this.textContent=""}function a2(t){return function(){this.textContent=t}}function f2(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function vm(t){return arguments.length?this.each(t==null?i2:(typeof t=="function"?f2:a2)(t)):this.node().textContent}function u2(){this.innerHTML=""}function s2(t){return function(){this.innerHTML=t}}function c2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Mm(t){return arguments.length?this.each(t==null?u2:(typeof t=="function"?c2:s2)(t)):this.node().innerHTML}function l2(){this.nextSibling&&this.parentNode.appendChild(this)}function Sm(){return this.each(l2)}function d2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Tm(){return this.each(d2)}function _m(t){var e=typeof t=="function"?t:sr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function p2(){return null}function Am(t,e){var r=typeof t=="function"?t:sr(t),n=e==null?p2:typeof e=="function"?e:un(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function m2(){var t=this.parentNode;t&&t.removeChild(this)}function Em(){return this.each(m2)}function h2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function g2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Cm(t){return this.select(t?g2:h2)}function km(t){return arguments.length?this.property("__data__",t):this.node().__data__}function x2(t){return function(e){t.call(this,e,this.__data__)}}function y2(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function b2(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,o=e.length,i;r<o;++r)i=e[r],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++n]=i;++n?e.length=n:delete this.__on}}}function w2(t,e,r){return function(){var n=this.__on,o,i=x2(e);if(n){for(var a=0,f=n.length;a<f;++a)if((o=n[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=r),o.value=e;return}}this.addEventListener(t.type,i,r),o={type:t.type,name:t.name,value:e,listener:i,options:r},n?n.push(o):this.__on=[o]}}function $m(t,e,r){var n=y2(t+""),o,i=n.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,c=f.length,s;u<c;++u)for(o=0,s=f[u];o<i;++o)if((a=n[o]).type===s.type&&a.name===s.name)return s.value}return}for(f=e?w2:b2,o=0;o<i;++o)this.each(f(n[o],e,r));return this}function Nm(t,e,r){var n=Ha(t),o=n.CustomEvent;typeof o=="function"?o=new o(e,r):(o=n.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function v2(t,e){return function(){return Nm(this,t,e)}}function M2(t,e){return function(){return Nm(this,t,e.apply(this,arguments))}}function Im(t,e){return this.each((typeof e=="function"?M2:v2)(t,e))}function*Dm(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length,a;o<i;++o)(a=n[o])&&(yield a)}var xc=[null];function wt(t,e){this._groups=t,this._parents=e}function Rm(){return new wt([[document.documentElement]],xc)}function S2(){return this}wt.prototype=Rm.prototype={constructor:wt,select:Vp,selectAll:jp,selectChild:Zp,selectChildren:Qp,filter:Kp,data:em,enter:Jp,exit:rm,join:nm,merge:om,selection:S2,order:im,sort:am,call:fm,nodes:um,node:sm,size:cm,empty:lm,each:dm,attr:pm,style:mm,property:hm,classed:wm,text:vm,html:Mm,raise:Sm,lower:Tm,append:_m,insert:Am,remove:Em,clone:Cm,datum:km,on:$m,dispatch:Im,[Symbol.iterator]:Dm};var cr=Rm;function rt(t){return typeof t=="string"?new wt([[document.querySelector(t)]],[document.documentElement]):new wt([[t]],xc)}function Lm(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ni(t,e){if(t=Lm(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function lr(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Rr(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Oe(){}var Lr=.7,ln=1/Lr,Wn="\\s*([+-]?\\d+)\\s*",oi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Le="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T2=/^#([0-9a-f]{3,8})$/,_2=new RegExp(`^rgb\\(${Wn},${Wn},${Wn}\\)$`),A2=new RegExp(`^rgb\\(${Le},${Le},${Le}\\)$`),E2=new RegExp(`^rgba\\(${Wn},${Wn},${Wn},${oi}\\)$`),C2=new RegExp(`^rgba\\(${Le},${Le},${Le},${oi}\\)$`),k2=new RegExp(`^hsl\\(${oi},${Le},${Le}\\)$`),$2=new RegExp(`^hsla\\(${oi},${Le},${Le},${oi}\\)$`),Om={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lr(Oe,Ae,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pm,formatHex:Pm,formatHex8:N2,formatHsl:I2,formatRgb:Fm,toString:Fm});function Pm(){return this.rgb().formatHex()}function N2(){return this.rgb().formatHex8()}function I2(){return Gm(this).formatHsl()}function Fm(){return this.rgb().formatRgb()}function Ae(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=T2.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?qm(e):r===3?new _t(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Wa(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Wa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_2.exec(t))?new _t(e[1],e[2],e[3],1):(e=A2.exec(t))?new _t(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=E2.exec(t))?Wa(e[1],e[2],e[3],e[4]):(e=C2.exec(t))?Wa(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=k2.exec(t))?Bm(e[1],e[2]/100,e[3]/100,1):(e=$2.exec(t))?Bm(e[1],e[2]/100,e[3]/100,e[4]):Om.hasOwnProperty(t)?qm(Om[t]):t==="transparent"?new _t(NaN,NaN,NaN,0):null}function qm(t){return new _t(t>>16&255,t>>8&255,t&255,1)}function Wa(t,e,r,n){return n<=0&&(t=e=r=NaN),new _t(t,e,r,n)}function ii(t){return t instanceof Oe||(t=Ae(t)),t?(t=t.rgb(),new _t(t.r,t.g,t.b,t.opacity)):new _t}function me(t,e,r,n){return arguments.length===1?ii(t):new _t(t,e,r,n==null?1:n)}function _t(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}lr(_t,me,Rr(Oe,{brighter(t){return t=t==null?ln:Math.pow(ln,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Lr:Math.pow(Lr,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _t(cn(this.r),cn(this.g),cn(this.b),Va(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zm,formatHex:zm,formatHex8:D2,formatRgb:Ym,toString:Ym}));function zm(){return`#${sn(this.r)}${sn(this.g)}${sn(this.b)}`}function D2(){return`#${sn(this.r)}${sn(this.g)}${sn(this.b)}${sn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ym(){let t=Va(this.opacity);return`${t===1?"rgb(":"rgba("}${cn(this.r)}, ${cn(this.g)}, ${cn(this.b)}${t===1?")":`, ${t})`}`}function Va(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sn(t){return t=cn(t),(t<16?"0":"")+t.toString(16)}function Bm(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new _e(t,e,r,n)}function Gm(t){if(t instanceof _e)return new _e(t.h,t.s,t.l,t.opacity);if(t instanceof Oe||(t=Ae(t)),!t)return new _e;if(t instanceof _e)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,f=i-o,u=(i+o)/2;return f?(e===i?a=(r-n)/f+(r<n)*6:r===i?a=(n-e)/f+2:a=(e-r)/f+4,f/=u<.5?i+o:2-i-o,a*=60):f=u>0&&u<1?0:a,new _e(a,f,u,t.opacity)}function ai(t,e,r,n){return arguments.length===1?Gm(t):new _e(t,e,r,n==null?1:n)}function _e(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}lr(_e,ai,Rr(Oe,{brighter(t){return t=t==null?ln:Math.pow(ln,t),new _e(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Lr:Math.pow(Lr,t),new _e(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new _t(yc(t>=240?t-240:t+120,o,n),yc(t,o,n),yc(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new _e(Um(this.h),Xa(this.s),Xa(this.l),Va(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Va(this.opacity);return`${t===1?"hsl(":"hsla("}${Um(this.h)}, ${Xa(this.s)*100}%, ${Xa(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Um(t){return t=(t||0)%360,t<0?t+360:t}function Xa(t){return Math.max(0,Math.min(1,t||0))}function yc(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}var ja=Math.PI/180,Za=180/Math.PI;var Qa=18,Hm=.96422,Wm=1,Xm=.82521,Vm=4/29,Xn=6/29,jm=3*Xn*Xn,R2=Xn*Xn*Xn;function Zm(t){if(t instanceof Pe)return new Pe(t.l,t.a,t.b,t.opacity);if(t instanceof dr)return Qm(t);t instanceof _t||(t=ii(t));var e=Mc(t.r),r=Mc(t.g),n=Mc(t.b),o=bc((.2225045*e+.7168786*r+.0606169*n)/Wm),i,a;return e===r&&r===n?i=a=o:(i=bc((.4360747*e+.3850649*r+.1430804*n)/Hm),a=bc((.0139322*e+.0971045*r+.7141733*n)/Xm)),new Pe(116*o-16,500*(i-o),200*(o-a),t.opacity)}function Vn(t,e,r,n){return arguments.length===1?Zm(t):new Pe(t,e,r,n==null?1:n)}function Pe(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}lr(Pe,Vn,Rr(Oe,{brighter(t){return new Pe(this.l+Qa*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new Pe(this.l-Qa*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=Hm*wc(e),t=Wm*wc(t),r=Xm*wc(r),new _t(vc(3.1338561*e-1.6168667*t-.4906146*r),vc(-.9787684*e+1.9161415*t+.033454*r),vc(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}}));function bc(t){return t>R2?Math.pow(t,1/3):t/jm+Vm}function wc(t){return t>Xn?t*t*t:jm*(t-Vm)}function vc(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Mc(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function L2(t){if(t instanceof dr)return new dr(t.h,t.c,t.l,t.opacity);if(t instanceof Pe||(t=Zm(t)),t.a===0&&t.b===0)return new dr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Za;return new dr(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function fi(t,e,r,n){return arguments.length===1?L2(t):new dr(t,e,r,n==null?1:n)}function dr(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}function Qm(t){if(isNaN(t.h))return new Pe(t.l,0,0,t.opacity);var e=t.h*ja;return new Pe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}lr(dr,fi,Rr(Oe,{brighter(t){return new dr(this.h,this.c,this.l+Qa*(t==null?1:t),this.opacity)},darker(t){return new dr(this.h,this.c,this.l-Qa*(t==null?1:t),this.opacity)},rgb(){return Qm(this).rgb()}}));var eh=-.14861,Sc=1.78277,Tc=-.29227,Ka=-.90649,ui=1.97294,Km=ui*Ka,Jm=ui*Sc,th=Sc*Tc-Ka*eh;function O2(t){if(t instanceof dn)return new dn(t.h,t.s,t.l,t.opacity);t instanceof _t||(t=ii(t));var e=t.r/255,r=t.g/255,n=t.b/255,o=(th*n+Km*e-Jm*r)/(th+Km-Jm),i=n-o,a=(ui*(r-o)-Tc*i)/Ka,f=Math.sqrt(a*a+i*i)/(ui*o*(1-o)),u=f?Math.atan2(a,i)*Za-120:NaN;return new dn(u<0?u+360:u,f,o,t.opacity)}function Jt(t,e,r,n){return arguments.length===1?O2(t):new dn(t,e,r,n==null?1:n)}function dn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}lr(dn,Jt,Rr(Oe,{brighter(t){return t=t==null?ln:Math.pow(ln,t),new dn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Lr:Math.pow(Lr,t),new dn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*ja,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),o=Math.sin(t);return new _t(255*(e+r*(eh*n+Sc*o)),255*(e+r*(Tc*n+Ka*o)),255*(e+r*(ui*n)),this.opacity)}}));function _c(t,e,r,n,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*r+(1+3*t+3*i-3*a)*n+a*o)/6}function rh(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[n],i=t[n+1],a=n>0?t[n-1]:2*o-i,f=n<e-1?t[n+2]:2*i-o;return _c((r-n/e)*e,a,o,i,f)}}function nh(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),o=t[(n+e-1)%e],i=t[n%e],a=t[(n+1)%e],f=t[(n+2)%e];return _c((r-n/e)*e,o,i,a,f)}}var jn=t=>()=>t;function oh(t,e){return function(r){return t+r*e}}function P2(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Zn(t,e){var r=e-t;return r?oh(t,r>180||r<-180?r-360*Math.round(r/360):r):jn(isNaN(t)?e:t)}function ih(t){return(t=+t)==1?gt:function(e,r){return r-e?P2(e,r,t):jn(isNaN(e)?r:e)}}function gt(t,e){var r=e-t;return r?oh(t,r):jn(isNaN(t)?e:t)}var he=function t(e){var r=ih(e);function n(o,i){var a=r((o=me(o)).r,(i=me(i)).r),f=r(o.g,i.g),u=r(o.b,i.b),c=gt(o.opacity,i.opacity);return function(s){return o.r=a(s),o.g=f(s),o.b=u(s),o.opacity=c(s),o+""}}return n.gamma=t,n}(1);function ah(t){return function(e){var r=e.length,n=new Array(r),o=new Array(r),i=new Array(r),a,f;for(a=0;a<r;++a)f=me(e[a]),n[a]=f.r||0,o[a]=f.g||0,i[a]=f.b||0;return n=t(n),o=t(o),i=t(i),f.opacity=1,function(u){return f.r=n(u),f.g=o(u),f.b=i(u),f+""}}}var Ac=ah(rh),F2=ah(nh);function fh(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),o;return function(i){for(o=0;o<r;++o)n[o]=t[o]*(1-i)+e[o]*i;return n}}function uh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sh(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,o=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)o[a]=Ee(t[a],e[a]);for(;a<r;++a)i[a]=e[a];return function(f){for(a=0;a<n;++a)i[a]=o[a](f);return i}}function ch(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function pt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function lh(t,e){var r={},n={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=Ee(t[o],e[o]):n[o]=e[o];return function(i){for(o in r)n[o]=r[o](i);return n}}var Cc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ec=new RegExp(Cc.source,"g");function q2(t){return function(){return t}}function z2(t){return function(e){return t(e)+""}}function si(t,e){var r=Cc.lastIndex=Ec.lastIndex=0,n,o,i,a=-1,f=[],u=[];for(t=t+"",e=e+"";(n=Cc.exec(t))&&(o=Ec.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),f[a]?f[a]+=i:f[++a]=i),(n=n[0])===(o=o[0])?f[a]?f[a]+=o:f[++a]=o:(f[++a]=null,u.push({i:a,x:pt(n,o)})),r=Ec.lastIndex;return r<e.length&&(i=e.slice(r),f[a]?f[a]+=i:f[++a]=i),f.length<2?u[0]?z2(u[0].x):q2(e):(e=u.length,function(c){for(var s=0,d;s<e;++s)f[(d=u[s]).i]=d.x(c);return f.join("")})}function Ee(t,e){var r=typeof e,n;return e==null||r==="boolean"?jn(e):(r==="number"?pt:r==="string"?(n=Ae(e))?(e=n,he):si:e instanceof Ae?he:e instanceof Date?ch:uh(e)?fh:Array.isArray(e)?sh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?lh:pt)(t,e)}function pn(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var dh=180/Math.PI,Ja={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kc(t,e,r,n,o,i){var a,f,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*r+e*n)&&(r-=t*u,n-=e*u),(f=Math.sqrt(r*r+n*n))&&(r/=f,n/=f,u/=f),t*n<e*r&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*dh,skewX:Math.atan(u)*dh,scaleX:a,scaleY:f}}var tf;function ph(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ja:kc(e.a,e.b,e.c,e.d,e.e,e.f)}function mh(t){return t==null?Ja:(tf||(tf=document.createElementNS("http://www.w3.org/2000/svg","g")),tf.setAttribute("transform",t),(t=tf.transform.baseVal.consolidate())?(t=t.matrix,kc(t.a,t.b,t.c,t.d,t.e,t.f)):Ja)}function hh(t,e,r,n){function o(c){return c.length?c.pop()+" ":""}function i(c,s,d,l,p,m){if(c!==d||s!==l){var g=p.push("translate(",null,e,null,r);m.push({i:g-4,x:pt(c,d)},{i:g-2,x:pt(s,l)})}else(d||l)&&p.push("translate("+d+e+l+r)}function a(c,s,d,l){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),l.push({i:d.push(o(d)+"rotate(",null,n)-2,x:pt(c,s)})):s&&d.push(o(d)+"rotate("+s+n)}function f(c,s,d,l){c!==s?l.push({i:d.push(o(d)+"skewX(",null,n)-2,x:pt(c,s)}):s&&d.push(o(d)+"skewX("+s+n)}function u(c,s,d,l,p,m){if(c!==d||s!==l){var g=p.push(o(p)+"scale(",null,",",null,")");m.push({i:g-4,x:pt(c,d)},{i:g-2,x:pt(s,l)})}else(d!==1||l!==1)&&p.push(o(p)+"scale("+d+","+l+")")}return function(c,s){var d=[],l=[];return c=t(c),s=t(s),i(c.translateX,c.translateY,s.translateX,s.translateY,d,l),a(c.rotate,s.rotate,d,l),f(c.skewX,s.skewX,d,l),u(c.scaleX,c.scaleY,s.scaleX,s.scaleY,d,l),c=s=null,function(p){for(var m=-1,g=l.length,h;++m<g;)d[(h=l[m]).i]=h.x(p);return d.join("")}}}var $c=hh(ph,"px, ","px)","deg)"),Nc=hh(mh,", ",")",")");function gh(t){return function(e,r){var n=t((e=ai(e)).h,(r=ai(r)).h),o=gt(e.s,r.s),i=gt(e.l,r.l),a=gt(e.opacity,r.opacity);return function(f){return e.h=n(f),e.s=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var Ic=gh(Zn),Y2=gh(gt);function ef(t,e){var r=gt((t=Vn(t)).l,(e=Vn(e)).l),n=gt(t.a,e.a),o=gt(t.b,e.b),i=gt(t.opacity,e.opacity);return function(a){return t.l=r(a),t.a=n(a),t.b=o(a),t.opacity=i(a),t+""}}function xh(t){return function(e,r){var n=t((e=fi(e)).h,(r=fi(r)).h),o=gt(e.c,r.c),i=gt(e.l,r.l),a=gt(e.opacity,r.opacity);return function(f){return e.h=n(f),e.c=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var Dc=xh(Zn),B2=xh(gt);function yh(t){return function e(r){r=+r;function n(o,i){var a=t((o=Jt(o)).h,(i=Jt(i)).h),f=gt(o.s,i.s),u=gt(o.l,i.l),c=gt(o.opacity,i.opacity);return function(s){return o.h=a(s),o.s=f(s),o.l=u(Math.pow(s,r)),o.opacity=c(s),o+""}}return n.gamma=e,n}(1)}var U2=yh(Zn),Qn=yh(gt);function Fe(t,e){e===void 0&&(e=t,t=Ee);for(var r=0,n=e.length-1,o=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(o,o=e[++r]);return function(a){var f=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return i[f](a-f)}}function Ht(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t(n/(e-1));return r}var Kn=0,li=0,ci=0,wh=1e3,rf,di,nf=0,mn=0,of=0,pi=typeof performance=="object"&&performance.now?performance:Date,vh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hi(){return mn||(vh(G2),mn=pi.now()+of)}function G2(){mn=0}function mi(){this._call=this._time=this._next=null}mi.prototype=af.prototype={constructor:mi,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?hi():+r)+(e==null?0:+e),!this._next&&di!==this&&(di?di._next=this:rf=this,di=this),this._call=t,this._time=r,Rc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rc())}};function af(t,e,r){var n=new mi;return n.restart(t,e,r),n}function Mh(){hi(),++Kn;for(var t=rf,e;t;)(e=mn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Kn}function bh(){mn=(nf=pi.now())+of,Kn=li=0;try{Mh()}finally{Kn=0,W2(),mn=0}}function H2(){var t=pi.now(),e=t-nf;e>wh&&(of-=e,nf=t)}function W2(){for(var t,e=rf,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:rf=r);di=t,Rc(n)}function Rc(t){if(!Kn){li&&(li=clearTimeout(li));var e=t-mn;e>24?(t<1/0&&(li=setTimeout(bh,t-pi.now()-of)),ci&&(ci=clearInterval(ci))):(ci||(nf=pi.now(),ci=setInterval(H2,wh)),Kn=1,vh(bh))}}function ff(t,e,r){var n=new mi;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,r),n}var X2=mc("start","end","cancel","interrupt"),V2=[],_h=0,Sh=1,sf=2,uf=3,Th=4,cf=5,gi=6;function Or(t,e,r,n,o,i){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;j2(t,r,{name:e,index:n,group:o,on:X2,tween:V2,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:_h})}function xi(t,e){var r=Ct(t,e);if(r.state>_h)throw new Error("too late; already scheduled");return r}function Ft(t,e){var r=Ct(t,e);if(r.state>uf)throw new Error("too late; already running");return r}function Ct(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function j2(t,e,r){var n=t.__transition,o;n[e]=r,r.timer=af(i,0,r.time);function i(c){r.state=Sh,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var s,d,l,p;if(r.state!==Sh)return u();for(s in n)if(p=n[s],p.name===r.name){if(p.state===uf)return ff(a);p.state===Th?(p.state=gi,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete n[s]):+s<e&&(p.state=gi,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete n[s])}if(ff(function(){r.state===uf&&(r.state=Th,r.timer.restart(f,r.delay,r.time),f(c))}),r.state=sf,r.on.call("start",t,t.__data__,r.index,r.group),r.state===sf){for(r.state=uf,o=new Array(l=r.tween.length),s=0,d=-1;s<l;++s)(p=r.tween[s].value.call(t,t.__data__,r.index,r.group))&&(o[++d]=p);o.length=d+1}}function f(c){for(var s=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(u),r.state=cf,1),d=-1,l=o.length;++d<l;)o[d].call(t,s);r.state===cf&&(r.on.call("end",t,t.__data__,r.index,r.group),u())}function u(){r.state=gi,r.timer.stop(),delete n[e];for(var c in n)return;delete t.__transition}}function lf(t,e){var r=t.__transition,n,o,i=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){i=!1;continue}o=n.state>sf&&n.state<cf,n.state=gi,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}i&&delete t.__transition}}function Ah(t){return this.each(function(){lf(this,t)})}function Z2(t,e){var r,n;return function(){var o=Ft(this,t),i=o.tween;if(i!==r){n=r=i;for(var a=0,f=n.length;a<f;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}o.tween=n}}function Q2(t,e,r){var n,o;if(typeof r!="function")throw new Error;return function(){var i=Ft(this,t),a=i.tween;if(a!==n){o=(n=a).slice();for(var f={name:e,value:r},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=f;break}u===c&&o.push(f)}i.tween=o}}function Eh(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=Ct(this.node(),r).tween,o=0,i=n.length,a;o<i;++o)if((a=n[o]).name===t)return a.value;return null}return this.each((e==null?Z2:Q2)(r,t,e))}function Jn(t,e,r){var n=t._id;return t.each(function(){var o=Ft(this,n);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return Ct(o,n).value[e]}}function df(t,e){var r;return(typeof e=="number"?pt:e instanceof Ae?he:(r=Ae(e))?(e=r,he):si)(t,e)}function K2(t){return function(){this.removeAttribute(t)}}function J2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tw(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===n?i:i=e(n=a,r)}}function ew(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===n?i:i=e(n=a,r)}}function rw(t,e,r){var n,o,i;return function(){var a,f=r(this),u;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=f+"",a===u?null:a===n&&u===o?i:(o=u,i=e(n=a,f)))}}function nw(t,e,r){var n,o,i;return function(){var a,f=r(this),u;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=f+"",a===u?null:a===n&&u===o?i:(o=u,i=e(n=a,f)))}}function Ch(t,e){var r=ur(t),n=r==="transform"?Nc:df;return this.attrTween(t,typeof e=="function"?(r.local?nw:rw)(r,n,Jn(this,"attr."+t,e)):e==null?(r.local?J2:K2)(r):(r.local?ew:tw)(r,n,e))}function ow(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function iw(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function aw(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&iw(t,i)),r}return o._value=e,o}function fw(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&ow(t,i)),r}return o._value=e,o}function kh(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=ur(t);return this.tween(r,(n.local?aw:fw)(n,e))}function uw(t,e){return function(){xi(this,t).delay=+e.apply(this,arguments)}}function sw(t,e){return e=+e,function(){xi(this,t).delay=e}}function $h(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?uw:sw)(e,t)):Ct(this.node(),e).delay}function cw(t,e){return function(){Ft(this,t).duration=+e.apply(this,arguments)}}function lw(t,e){return e=+e,function(){Ft(this,t).duration=e}}function Nh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?cw:lw)(e,t)):Ct(this.node(),e).duration}function dw(t,e){if(typeof e!="function")throw new Error;return function(){Ft(this,t).ease=e}}function Ih(t){var e=this._id;return arguments.length?this.each(dw(e,t)):Ct(this.node(),e).ease}function pw(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Ft(this,t).ease=r}}function Dh(t){if(typeof t!="function")throw new Error;return this.each(pw(this._id,t))}function Rh(t){typeof t!="function"&&(t=ei(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,f=n[o]=[],u,c=0;c<a;++c)(u=i[c])&&t.call(u,u.__data__,c,i)&&f.push(u);return new te(n,this._parents,this._name,this._id)}function Lh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),a=new Array(n),f=0;f<i;++f)for(var u=e[f],c=r[f],s=u.length,d=a[f]=new Array(s),l,p=0;p<s;++p)(l=u[p]||c[p])&&(d[p]=l);for(;f<n;++f)a[f]=e[f];return new te(a,this._parents,this._name,this._id)}function mw(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function hw(t,e,r){var n,o,i=mw(e)?xi:Ft;return function(){var a=i(this,t),f=a.on;f!==n&&(o=(n=f).copy()).on(e,r),a.on=o}}function Oh(t,e){var r=this._id;return arguments.length<2?Ct(this.node(),r).on.on(t):this.each(hw(r,t,e))}function gw(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function Ph(){return this.on("end.remove",gw(this._id))}function Fh(t){var e=this._name,r=this._id;typeof t!="function"&&(t=un(t));for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a)for(var f=n[a],u=f.length,c=i[a]=new Array(u),s,d,l=0;l<u;++l)(s=f[l])&&(d=t.call(s,s.__data__,l,f))&&("__data__"in s&&(d.__data__=s.__data__),c[l]=d,Or(c[l],e,r,l,c,Ct(s,r)));return new te(i,this._parents,e,r)}function qh(t){var e=this._name,r=this._id;typeof t!="function"&&(t=ti(t));for(var n=this._groups,o=n.length,i=[],a=[],f=0;f<o;++f)for(var u=n[f],c=u.length,s,d=0;d<c;++d)if(s=u[d]){for(var l=t.call(s,s.__data__,d,u),p,m=Ct(s,r),g=0,h=l.length;g<h;++g)(p=l[g])&&Or(p,e,r,g,l,m);i.push(l),a.push(s)}return new te(i,a,e,r)}var xw=cr.prototype.constructor;function zh(){return new xw(this._groups,this._parents)}function yw(t,e){var r,n,o;return function(){var i=Dr(this,t),a=(this.style.removeProperty(t),Dr(this,t));return i===a?null:i===r&&a===n?o:o=e(r=i,n=a)}}function Yh(t){return function(){this.style.removeProperty(t)}}function bw(t,e,r){var n,o=r+"",i;return function(){var a=Dr(this,t);return a===o?null:a===n?i:i=e(n=a,r)}}function ww(t,e,r){var n,o,i;return function(){var a=Dr(this,t),f=r(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(t),Dr(this,t))),a===u?null:a===n&&u===o?i:(o=u,i=e(n=a,f))}}function vw(t,e){var r,n,o,i="style."+e,a="end."+i,f;return function(){var u=Ft(this,t),c=u.on,s=u.value[i]==null?f||(f=Yh(e)):void 0;(c!==r||o!==s)&&(n=(r=c).copy()).on(a,o=s),u.on=n}}function Bh(t,e,r){var n=(t+="")=="transform"?$c:df;return e==null?this.styleTween(t,yw(t,n)).on("end.style."+t,Yh(t)):typeof e=="function"?this.styleTween(t,ww(t,n,Jn(this,"style."+t,e))).each(vw(this._id,t)):this.styleTween(t,bw(t,n,e),r).on("end.style."+t,null)}function Mw(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function Sw(t,e,r){var n,o;function i(){var a=e.apply(this,arguments);return a!==o&&(n=(o=a)&&Mw(t,a,r)),n}return i._value=e,i}function Uh(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Sw(t,e,r==null?"":r))}function Tw(t){return function(){this.textContent=t}}function _w(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Gh(t){return this.tween("text",typeof t=="function"?_w(Jn(this,"text",t)):Tw(t==null?"":t+""))}function Aw(t){return function(e){this.textContent=t.call(this,e)}}function Ew(t){var e,r;function n(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&Aw(o)),e}return n._value=t,n}function Hh(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ew(t))}function Wh(){for(var t=this._name,e=this._id,r=pf(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],f=a.length,u,c=0;c<f;++c)if(u=a[c]){var s=Ct(u,e);Or(u,t,r,c,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new te(n,this._parents,t,r)}function Xh(){var t,e,r=this,n=r._id,o=r.size();return new Promise(function(i,a){var f={value:a},u={value:function(){--o===0&&i()}};r.each(function(){var c=Ft(this,n),s=c.on;s!==t&&(e=(t=s).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(u)),c.on=e}),o===0&&i()})}var Cw=0;function te(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function Vh(t){return cr().transition(t)}function pf(){return++Cw}var pr=cr.prototype;te.prototype=Vh.prototype={constructor:te,select:Fh,selectAll:qh,selectChild:pr.selectChild,selectChildren:pr.selectChildren,filter:Rh,merge:Lh,selection:zh,transition:Wh,call:pr.call,nodes:pr.nodes,node:pr.node,size:pr.size,empty:pr.empty,each:pr.each,on:Oh,attr:Ch,attrTween:kh,style:Bh,styleTween:Uh,text:Gh,textTween:Hh,remove:Ph,tween:Eh,delay:$h,duration:Nh,ease:Ih,easeVarying:Dh,end:Xh,[Symbol.iterator]:pr[Symbol.iterator]};function mf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var kw={time:null,delay:0,duration:250,ease:mf};function $w(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function jh(t){var e,r;t instanceof te?(e=t._id,t=t._name):(e=pf(),(r=kw).time=hi(),t=t==null?null:t+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],f=a.length,u,c=0;c<f;++c)(u=a[c])&&Or(u,t,e,c,a,r||$w(u,e));return new te(n,this._parents,t,e)}cr.prototype.interrupt=Ah;cr.prototype.transition=jh;var{abs:vA,max:MA,min:SA}=Math;function Zh(t){return[+t[0],+t[1]]}function Nw(t){return[Zh(t[0]),Zh(t[1])]}var TA={name:"x",handles:["w","e"].map(Lc),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},_A={name:"y",handles:["n","s"].map(Lc),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},AA={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Lc),input:function(t){return t==null?null:Nw(t)},output:function(t){return t}};function Lc(t){return{type:t}}var Oc=Math.PI,Pc=2*Oc,hn=1e-6,Iw=Pc-hn;function Qh(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Dw(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Qh;let r=10**e;return function(n){this._+=n[0];for(let o=1,i=n.length;o<i;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}var to=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Qh:Dw(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,o){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(e,r,n,o,i,a){this._append`C${+e},${+r},${+n},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(e,r,n,o,i){if(e=+e,r=+r,n=+n,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,f=this._y1,u=n-e,c=o-r,s=a-e,d=f-r,l=s*s+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(l>hn)if(!(Math.abs(d*u-c*s)>hn)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-a,m=o-f,g=u*u+c*c,h=p*p+m*m,b=Math.sqrt(g),x=Math.sqrt(l),M=i*Math.tan((Oc-Math.acos((g+l-h)/(2*b*x)))/2),y=M/x,v=M/b;Math.abs(y-1)>hn&&this._append`L${e+y*s},${r+y*d}`,this._append`A${i},${i},0,0,${+(d*p>s*m)},${this._x1=e+v*u},${this._y1=r+v*c}`}}arc(e,r,n,o,i,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(o),u=n*Math.sin(o),c=e+f,s=r+u,d=1^a,l=a?o-i:i-o;this._x1===null?this._append`M${c},${s}`:(Math.abs(this._x1-c)>hn||Math.abs(this._y1-s)>hn)&&this._append`L${c},${s}`,n&&(l<0&&(l=l%Pc+Pc),l>Iw?this._append`A${n},${n},0,1,${d},${e-f},${r-u}A${n},${n},0,1,${d},${this._x1=c},${this._y1=s}`:l>hn&&this._append`A${n},${n},0,${+(l>=Oc)},${d},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}};function Kh(){return new to}Kh.prototype=to.prototype;function gn(t=3){return new to(+t)}function Jh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xn(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function qe(t){return t=xn(Math.abs(t)),t?t[1]:NaN}function t0(t,e){return function(r,n){for(var o=r.length,i=[],a=0,f=t[0],u=0;o>0&&f>0&&(u+f+1>n&&(f=Math.max(1,n-u)),i.push(r.substring(o-=f,o+f)),!((u+=f+1)>n));)f=t[a=(a+1)%t.length];return i.reverse().join(e)}}function e0(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Rw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ze(t){if(!(e=Rw.exec(t)))throw new Error("invalid format: "+t);var e;return new hf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ze.prototype=hf.prototype;function hf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r0(t){t:for(var e=t.length,r=1,n=-1,o;r<e;++r)switch(t[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(o+1):t}var Fc;function n0(t,e){var r=xn(t,e);if(!r)return t+"";var n=r[0],o=r[1],i=o-(Fc=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+xn(t,Math.max(0,e+i-1))[0]}function qc(t,e){var r=xn(t,e);if(!r)return t+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}var zc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Jh,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>qc(t*100,e),r:qc,s:n0,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Yc(t){return t}var o0=Array.prototype.map,i0=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function a0(t){var e=t.grouping===void 0||t.thousands===void 0?Yc:t0(o0.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Yc:e0(o0.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(d){d=ze(d);var l=d.fill,p=d.align,m=d.sign,g=d.symbol,h=d.zero,b=d.width,x=d.comma,M=d.precision,y=d.trim,v=d.type;v==="n"?(x=!0,v="g"):zc[v]||(M===void 0&&(M=12),y=!0,v="g"),(h||l==="0"&&p==="=")&&(h=!0,l="0",p="=");var w=g==="$"?r:g==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",S=g==="$"?n:/[%p]/.test(v)?a:"",C=zc[v],k=/[defgprs%]/.test(v);M=M===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function I(T){var D=w,R=S,O,_,F;if(v==="c")R=C(T)+R,T="";else{T=+T;var Q=T<0||1/T<0;if(T=isNaN(T)?u:C(Math.abs(T),M),y&&(T=r0(T)),Q&&+T==0&&m!=="+"&&(Q=!1),D=(Q?m==="("?m:f:m==="-"||m==="("?"":m)+D,R=(v==="s"?i0[8+Fc/3]:"")+R+(Q&&m==="("?")":""),k){for(O=-1,_=T.length;++O<_;)if(F=T.charCodeAt(O),48>F||F>57){R=(F===46?o+T.slice(O+1):T.slice(O))+R,T=T.slice(0,O);break}}}x&&!h&&(T=e(T,1/0));var j=D.length+T.length+R.length,K=j<b?new Array(b-j+1).join(l):"";switch(x&&h&&(T=e(K+T,K.length?b-R.length:1/0),K=""),p){case"<":T=D+T+R+K;break;case"=":T=D+K+T+R;break;case"^":T=K.slice(0,j=K.length>>1)+D+T+R+K.slice(j);break;default:T=K+D+T+R;break}return i(T)}return I.toString=function(){return d+""},I}function s(d,l){var p=c((d=ze(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(qe(l)/3)))*3,g=Math.pow(10,-m),h=i0[8+m/3];return function(b){return p(g*b)+h}}return{format:c,formatPrefix:s}}var gf,ge,xf;Bc({thousands:",",grouping:[3],currency:["$",""]});function Bc(t){return gf=a0(t),ge=gf.format,xf=gf.formatPrefix,gf}function Uc(t){return Math.max(0,-qe(Math.abs(t)))}function Gc(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qe(e)/3)))*3-qe(Math.abs(t)))}function Hc(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qe(e)-qe(t))+1}var B=1e-6,yf=1e-12,V=Math.PI,ft=V/2,Wc=V/4,It=V*2,kt=180/V,ut=V/180,tt=Math.abs,xe=Math.atan,qt=Math.atan2,Y=Math.cos;var bf=Math.exp;var yn=Math.log,wf=Math.pow,z=Math.sin,Wt=Math.sign||function(t){return t>0?1:t<0?-1:0},dt=Math.sqrt,eo=Math.tan;function vf(t){return t>1?0:t<-1?V:Math.acos(t)}function vt(t){return t>1?ft:t<-1?-ft:Math.asin(t)}function Dt(){}function Mf(t,e){t&&u0.hasOwnProperty(t.type)&&u0[t.type](t,e)}var f0={Feature:function(t,e){Mf(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,o=r.length;++n<o;)Mf(r[n].geometry,e)}},u0={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){Xc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)Xc(r[n],e,0)},Polygon:function(t,e){s0(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)s0(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,o=r.length;++n<o;)Mf(r[n],e)}};function Xc(t,e,r){var n=-1,o=t.length-r,i;for(e.lineStart();++n<o;)i=t[n],e.point(i[0],i[1],i[2]);e.lineEnd()}function s0(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)Xc(t[r],e,1);e.polygonEnd()}function Ce(t,e){t&&f0.hasOwnProperty(t.type)?f0[t.type](t,e):Mf(t,e)}function yi(t){return[qt(t[1],t[0]),vt(t[2])]}function Ye(t){var e=t[0],r=t[1],n=Y(r);return[n*Y(e),n*z(e),z(r)]}function bi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ro(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Sf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function wi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function vi(t){var e=dt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Mi(t,e){function r(n,o){return n=t(n,o),e(n[0],n[1])}return t.invert&&e.invert&&(r.invert=function(n,o){return n=e.invert(n,o),n&&t.invert(n[0],n[1])}),r}function Vc(t,e){return tt(t)>V&&(t-=Math.round(t/It)*It),[t,e]}Vc.invert=Vc;function jc(t,e,r){return(t%=It)?e||r?Mi(l0(t),d0(e,r)):l0(t):e||r?d0(e,r):Vc}function c0(t){return function(e,r){return e+=t,tt(e)>V&&(e-=Math.round(e/It)*It),[e,r]}}function l0(t){var e=c0(t);return e.invert=c0(-t),e}function d0(t,e){var r=Y(t),n=z(t),o=Y(e),i=z(e);function a(f,u){var c=Y(u),s=Y(f)*c,d=z(f)*c,l=z(u),p=l*r+s*n;return[qt(d*o-p*i,s*r-l*n),vt(p*o+d*i)]}return a.invert=function(f,u){var c=Y(u),s=Y(f)*c,d=z(f)*c,l=z(u),p=l*o-d*i;return[qt(d*o+l*i,s*r+p*n),vt(p*r-s*n)]},a}function p0(t){t=jc(t[0]*ut,t[1]*ut,t.length>2?t[2]*ut:0);function e(r){return r=t(r[0]*ut,r[1]*ut),r[0]*=kt,r[1]*=kt,r}return e.invert=function(r){return r=t.invert(r[0]*ut,r[1]*ut),r[0]*=kt,r[1]*=kt,r},e}function h0(t,e,r,n,o,i){if(r){var a=Y(e),f=z(e),u=n*r;o==null?(o=e+n*It,i=e-u/2):(o=m0(a,o),i=m0(a,i),(n>0?o<i:o>i)&&(o+=n*It));for(var c,s=o;n>0?s>i:s<i;s-=u)c=yi([a,-f*Y(s),-f*z(s)]),t.point(c[0],c[1])}}function m0(t,e){e=Ye(e),e[0]-=t,vi(e);var r=vf(-e[1]);return((-e[2]<0?-r:r)+It-B)%It}function Tf(){var t=[],e;return{point:function(r,n,o){e.push([r,n,o])},lineStart:function(){t.push(e=[])},lineEnd:Dt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function no(t,e){return tt(t[0]-e[0])<B&&tt(t[1]-e[1])<B}function _f(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function Af(t,e,r,n,o){var i=[],a=[],f,u;if(t.forEach(function(m){if(!((g=m.length-1)<=0)){var g,h=m[0],b=m[g],x;if(no(h,b)){if(!h[2]&&!b[2]){for(o.lineStart(),f=0;f<g;++f)o.point((h=m[f])[0],h[1]);o.lineEnd();return}b[0]+=2*B}i.push(x=new _f(h,m,null,!0)),a.push(x.o=new _f(h,null,x,!1)),i.push(x=new _f(b,m,null,!1)),a.push(x.o=new _f(b,null,x,!0))}}),!!i.length){for(a.sort(e),g0(i),g0(a),f=0,u=a.length;f<u;++f)a[f].e=r=!r;for(var c=i[0],s,d;;){for(var l=c,p=!0;l.v;)if((l=l.n)===c)return;s=l.z,o.lineStart();do{if(l.v=l.o.v=!0,l.e){if(p)for(f=0,u=s.length;f<u;++f)o.point((d=s[f])[0],d[1]);else n(l.x,l.n.x,1,o);l=l.n}else{if(p)for(s=l.p.z,f=s.length-1;f>=0;--f)o.point((d=s[f])[0],d[1]);else n(l.x,l.p.x,-1,o);l=l.p}l=l.o,s=l.z,p=!p}while(!l.v);o.lineEnd()}}}function g0(t){if(e=t.length){for(var e,r=0,n=t[0],o;++r<e;)n.n=o=t[r],o.p=n,n=o;n.n=o=t[0],o.p=n}}function Zc(t){return tt(t[0])<=V?t[0]:Wt(t[0])*((tt(t[0])+V)%It-V)}function x0(t,e){var r=Zc(e),n=e[1],o=z(n),i=[z(r),-Y(r),0],a=0,f=0,u=new oe;o===1?n=ft+B:o===-1&&(n=-ft-B);for(var c=0,s=t.length;c<s;++c)if(l=(d=t[c]).length)for(var d,l,p=d[l-1],m=Zc(p),g=p[1]/2+Wc,h=z(g),b=Y(g),x=0;x<l;++x,m=y,h=w,b=S,p=M){var M=d[x],y=Zc(M),v=M[1]/2+Wc,w=z(v),S=Y(v),C=y-m,k=C>=0?1:-1,I=k*C,T=I>V,D=h*w;if(u.add(qt(D*k*z(I),b*S+D*Y(I))),a+=T?C+k*It:C,T^m>=r^y>=r){var R=ro(Ye(p),Ye(M));vi(R);var O=ro(i,R);vi(O);var _=(T^C>=0?-1:1)*vt(O[2]);(n>_||n===_&&(R[0]||R[1]))&&(f+=T^C>=0?1:-1)}}return(a<-B||a<B&&u<-yf)^f&1}function Ef(t,e,r,n){return function(o){var i=e(o),a=Tf(),f=e(a),u=!1,c,s,d,l={point:p,lineStart:g,lineEnd:h,polygonStart:function(){l.point=b,l.lineStart=x,l.lineEnd=M,s=[],c=[]},polygonEnd:function(){l.point=p,l.lineStart=g,l.lineEnd=h,s=Hn(s);var y=x0(c,n);s.length?(u||(o.polygonStart(),u=!0),Af(s,Ow,y,r,o)):y&&(u||(o.polygonStart(),u=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),u&&(o.polygonEnd(),u=!1),s=c=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(y,v){t(y,v)&&o.point(y,v)}function m(y,v){i.point(y,v)}function g(){l.point=m,i.lineStart()}function h(){l.point=p,i.lineEnd()}function b(y,v){d.push([y,v]),f.point(y,v)}function x(){f.lineStart(),d=[]}function M(){b(d[0][0],d[0][1]),f.lineEnd();var y=f.clean(),v=a.result(),w,S=v.length,C,k,I;if(d.pop(),c.push(d),d=null,!!S){if(y&1){if(k=v[0],(C=k.length-1)>0){for(u||(o.polygonStart(),u=!0),o.lineStart(),w=0;w<C;++w)o.point((I=k[w])[0],I[1]);o.lineEnd()}return}S>1&&y&2&&v.push(v.pop().concat(v.shift())),s.push(v.filter(Lw))}}return l}}function Lw(t){return t.length>1}function Ow(t,e){return((t=t.x)[0]<0?t[1]-ft-B:ft-t[1])-((e=e.x)[0]<0?e[1]-ft-B:ft-e[1])}var Qc=Ef(function(){return!0},Pw,qw,[-V,-ft]);function Pw(t){var e=NaN,r=NaN,n=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(i,a){var f=i>0?V:-V,u=tt(i-e);tt(u-V)<B?(t.point(e,r=(r+a)/2>0?ft:-ft),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(f,r),t.point(i,r),o=0):n!==f&&u>=V&&(tt(e-n)<B&&(e-=n*B),tt(i-f)<B&&(i-=f*B),r=Fw(e,r,i,a),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(f,r),o=0),t.point(e=i,r=a),n=f},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-o}}}function Fw(t,e,r,n){var o,i,a=z(t-r);return tt(a)>B?xe((z(e)*(i=Y(n))*z(r)-z(n)*(o=Y(e))*z(t))/(o*i*a)):(e+n)/2}function qw(t,e,r,n){var o;if(t==null)o=r*ft,n.point(-V,o),n.point(0,o),n.point(V,o),n.point(V,0),n.point(V,-o),n.point(0,-o),n.point(-V,-o),n.point(-V,0),n.point(-V,o);else if(tt(t[0]-e[0])>B){var i=t[0]<e[0]?V:-V;o=r*i/2,n.point(-i,o),n.point(0,o),n.point(i,o)}else n.point(e[0],e[1])}function y0(t){var e=Y(t),r=6*ut,n=e>0,o=tt(e)>B;function i(s,d,l,p){h0(p,t,r,l,s,d)}function a(s,d){return Y(s)*Y(d)>e}function f(s){var d,l,p,m,g;return{lineStart:function(){m=p=!1,g=1},point:function(h,b){var x=[h,b],M,y=a(h,b),v=n?y?0:c(h,b):y?c(h+(h<0?V:-V),b):0;if(!d&&(m=p=y)&&s.lineStart(),y!==p&&(M=u(d,x),(!M||no(d,M)||no(x,M))&&(x[2]=1)),y!==p)g=0,y?(s.lineStart(),M=u(x,d),s.point(M[0],M[1])):(M=u(d,x),s.point(M[0],M[1],2),s.lineEnd()),d=M;else if(o&&d&&n^y){var w;!(v&l)&&(w=u(x,d,!0))&&(g=0,n?(s.lineStart(),s.point(w[0][0],w[0][1]),s.point(w[1][0],w[1][1]),s.lineEnd()):(s.point(w[1][0],w[1][1]),s.lineEnd(),s.lineStart(),s.point(w[0][0],w[0][1],3)))}y&&(!d||!no(d,x))&&s.point(x[0],x[1]),d=x,p=y,l=v},lineEnd:function(){p&&s.lineEnd(),d=null},clean:function(){return g|(m&&p)<<1}}}function u(s,d,l){var p=Ye(s),m=Ye(d),g=[1,0,0],h=ro(p,m),b=bi(h,h),x=h[0],M=b-x*x;if(!M)return!l&&s;var y=e*b/M,v=-e*x/M,w=ro(g,h),S=wi(g,y),C=wi(h,v);Sf(S,C);var k=w,I=bi(S,k),T=bi(k,k),D=I*I-T*(bi(S,S)-1);if(!(D<0)){var R=dt(D),O=wi(k,(-I-R)/T);if(Sf(O,S),O=yi(O),!l)return O;var _=s[0],F=d[0],Q=s[1],j=d[1],K;F<_&&(K=_,_=F,F=K);var yt=F-_,at=tt(yt-V)<B,$=at||yt<B;if(!at&&j<Q&&(K=Q,Q=j,j=K),$?at?Q+j>0^O[1]<(tt(O[0]-_)<B?Q:j):Q<=O[1]&&O[1]<=j:yt>V^(_<=O[0]&&O[0]<=F)){var q=wi(k,(-I+R)/T);return Sf(q,S),[O,yi(q)]}}}function c(s,d){var l=n?t:V-t,p=0;return s<-l?p|=1:s>l&&(p|=2),d<-l?p|=4:d>l&&(p|=8),p}return Ef(a,f,i,n?[0,-t]:[-V,t-V])}function b0(t,e,r,n,o,i){var a=t[0],f=t[1],u=e[0],c=e[1],s=0,d=1,l=u-a,p=c-f,m;if(m=r-a,!(!l&&m>0)){if(m/=l,l<0){if(m<s)return;m<d&&(d=m)}else if(l>0){if(m>d)return;m>s&&(s=m)}if(m=o-a,!(!l&&m<0)){if(m/=l,l<0){if(m>d)return;m>s&&(s=m)}else if(l>0){if(m<s)return;m<d&&(d=m)}if(m=n-f,!(!p&&m>0)){if(m/=p,p<0){if(m<s)return;m<d&&(d=m)}else if(p>0){if(m>d)return;m>s&&(s=m)}if(m=i-f,!(!p&&m<0)){if(m/=p,p<0){if(m>d)return;m>s&&(s=m)}else if(p>0){if(m<s)return;m<d&&(d=m)}return s>0&&(t[0]=a+s*l,t[1]=f+s*p),d<1&&(e[0]=a+d*l,e[1]=f+d*p),!0}}}}}var Si=1e9,Cf=-Si;function oo(t,e,r,n){function o(c,s){return t<=c&&c<=r&&e<=s&&s<=n}function i(c,s,d,l){var p=0,m=0;if(c==null||(p=a(c,d))!==(m=a(s,d))||u(c,s)<0^d>0)do l.point(p===0||p===3?t:r,p>1?n:e);while((p=(p+d+4)%4)!==m);else l.point(s[0],s[1])}function a(c,s){return tt(c[0]-t)<B?s>0?0:3:tt(c[0]-r)<B?s>0?2:1:tt(c[1]-e)<B?s>0?1:0:s>0?3:2}function f(c,s){return u(c.x,s.x)}function u(c,s){var d=a(c,1),l=a(s,1);return d!==l?d-l:d===0?s[1]-c[1]:d===1?c[0]-s[0]:d===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,d=Tf(),l,p,m,g,h,b,x,M,y,v,w,S={point:C,lineStart:D,lineEnd:R,polygonStart:I,polygonEnd:T};function C(_,F){o(_,F)&&s.point(_,F)}function k(){for(var _=0,F=0,Q=p.length;F<Q;++F)for(var j=p[F],K=1,yt=j.length,at=j[0],$,q,Z=at[0],H=at[1];K<yt;++K)$=Z,q=H,at=j[K],Z=at[0],H=at[1],q<=n?H>n&&(Z-$)*(n-q)>(H-q)*(t-$)&&++_:H<=n&&(Z-$)*(n-q)<(H-q)*(t-$)&&--_;return _}function I(){s=d,l=[],p=[],w=!0}function T(){var _=k(),F=w&&_,Q=(l=Hn(l)).length;(F||Q)&&(c.polygonStart(),F&&(c.lineStart(),i(null,null,1,c),c.lineEnd()),Q&&Af(l,f,_,i,c),c.polygonEnd()),s=c,l=p=m=null}function D(){S.point=O,p&&p.push(m=[]),v=!0,y=!1,x=M=NaN}function R(){l&&(O(g,h),b&&y&&d.rejoin(),l.push(d.result())),S.point=C,y&&s.lineEnd()}function O(_,F){var Q=o(_,F);if(p&&m.push([_,F]),v)g=_,h=F,b=Q,v=!1,Q&&(s.lineStart(),s.point(_,F));else if(Q&&y)s.point(_,F);else{var j=[x=Math.max(Cf,Math.min(Si,x)),M=Math.max(Cf,Math.min(Si,M))],K=[_=Math.max(Cf,Math.min(Si,_)),F=Math.max(Cf,Math.min(Si,F))];b0(j,K,t,e,r,n)?(y||(s.lineStart(),s.point(j[0],j[1])),s.point(K[0],K[1]),Q||s.lineEnd(),w=!1):Q&&(s.lineStart(),s.point(_,F),w=!1)}x=_,M=F,y=Q}return S}}var Ti=t=>t;var Kc=new oe,Jc=new oe,w0,v0,tl,el,Pr={point:Dt,lineStart:Dt,lineEnd:Dt,polygonStart:function(){Pr.lineStart=zw,Pr.lineEnd=Bw},polygonEnd:function(){Pr.lineStart=Pr.lineEnd=Pr.point=Dt,Kc.add(tt(Jc)),Jc=new oe},result:function(){var t=Kc/2;return Kc=new oe,t}};function zw(){Pr.point=Yw}function Yw(t,e){Pr.point=M0,w0=tl=t,v0=el=e}function M0(t,e){Jc.add(el*t-tl*e),tl=t,el=e}function Bw(){M0(w0,v0)}var rl=Pr;var io=1/0,kf=io,_i=-io,$f=_i,Uw={point:Gw,lineStart:Dt,lineEnd:Dt,polygonStart:Dt,polygonEnd:Dt,result:function(){var t=[[io,kf],[_i,$f]];return _i=$f=-(kf=io=1/0),t}};function Gw(t,e){t<io&&(io=t),t>_i&&(_i=t),e<kf&&(kf=e),e>$f&&($f=e)}var ao=Uw;var nl=0,ol=0,Ai=0,Nf=0,If=0,fo=0,il=0,al=0,Ei=0,_0,A0,Be,Ue,ke={point:bn,lineStart:S0,lineEnd:T0,polygonStart:function(){ke.lineStart=Xw,ke.lineEnd=Vw},polygonEnd:function(){ke.point=bn,ke.lineStart=S0,ke.lineEnd=T0},result:function(){var t=Ei?[il/Ei,al/Ei]:fo?[Nf/fo,If/fo]:Ai?[nl/Ai,ol/Ai]:[NaN,NaN];return nl=ol=Ai=Nf=If=fo=il=al=Ei=0,t}};function bn(t,e){nl+=t,ol+=e,++Ai}function S0(){ke.point=Hw}function Hw(t,e){ke.point=Ww,bn(Be=t,Ue=e)}function Ww(t,e){var r=t-Be,n=e-Ue,o=dt(r*r+n*n);Nf+=o*(Be+t)/2,If+=o*(Ue+e)/2,fo+=o,bn(Be=t,Ue=e)}function T0(){ke.point=bn}function Xw(){ke.point=jw}function Vw(){E0(_0,A0)}function jw(t,e){ke.point=E0,bn(_0=Be=t,A0=Ue=e)}function E0(t,e){var r=t-Be,n=e-Ue,o=dt(r*r+n*n);Nf+=o*(Be+t)/2,If+=o*(Ue+e)/2,fo+=o,o=Ue*t-Be*e,il+=o*(Be+t),al+=o*(Ue+e),Ei+=o*3,bn(Be=t,Ue=e)}var fl=ke;function Df(t){this._context=t}Df.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,It);break}}},result:Dt};var sl=new oe,ul,C0,k0,Ci,ki,Rf={point:Dt,lineStart:function(){Rf.point=Zw},lineEnd:function(){ul&&$0(C0,k0),Rf.point=Dt},polygonStart:function(){ul=!0},polygonEnd:function(){ul=null},result:function(){var t=+sl;return sl=new oe,t}};function Zw(t,e){Rf.point=$0,C0=Ci=t,k0=ki=e}function $0(t,e){Ci-=t,ki-=e,sl.add(dt(Ci*Ci+ki*ki)),Ci=t,ki=e}var cl=Rf;var N0,Lf,I0,D0,uo=class{constructor(e){this._append=e==null?R0:Qw(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,r){switch(this._point){case 0:{this._append`M${e},${r}`,this._point=1;break}case 1:{this._append`L${e},${r}`;break}default:{if(this._append`M${e},${r}`,this._radius!==I0||this._append!==Lf){let n=this._radius,o=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,I0=n,Lf=this._append,D0=this._,this._=o}this._+=D0;break}}}result(){let e=this._;return this._="",e.length?e:null}};function R0(t){let e=1;this._+=t[0];for(let r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Qw(t){let e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return R0;if(e!==N0){let r=10**e;N0=e,Lf=function(o){let i=1;this._+=o[0];for(let a=o.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+o[i]}}return Lf}function $i(t,e){let r=3,n=4.5,o,i;function a(f){return f&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Ce(f,o(i))),i.result()}return a.area=function(f){return Ce(f,o(rl)),rl.result()},a.measure=function(f){return Ce(f,o(cl)),cl.result()},a.bounds=function(f){return Ce(f,o(ao)),ao.result()},a.centroid=function(f){return Ce(f,o(fl)),fl.result()},a.projection=function(f){return arguments.length?(o=f==null?(t=null,Ti):(t=f).stream,a):t},a.context=function(f){return arguments.length?(i=f==null?(e=null,new uo(r)):new Df(e=f),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(f){return arguments.length?(n=typeof f=="function"?f:(i.pointRadius(+f),+f),a):n},a.digits=function(f){if(!arguments.length)return r;if(f==null)r=null;else{let u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);r=u}return e===null&&(i=new uo(r)),a},a.projection(t).digits(r).context(e)}function Ni(t){return{stream:so(t)}}function so(t){return function(e){var r=new ll;for(var n in t)r[n]=t[n];return r.stream=e,r}}function ll(){}ll.prototype={constructor:ll,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dl(t,e,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),Ce(r,t.stream(ao)),e(ao.result()),n!=null&&t.clipExtent(n),t}function Ii(t,e,r){return dl(t,function(n){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(o/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),f=+e[0][0]+(o-a*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([f,u])},r)}function Of(t,e,r){return Ii(t,[[0,0],e],r)}function Pf(t,e,r){return dl(t,function(n){var o=+e,i=o/(n[1][0]-n[0][0]),a=(o-i*(n[1][0]+n[0][0]))/2,f=-i*n[0][1];t.scale(150*i).translate([a,f])},r)}function Ff(t,e,r){return dl(t,function(n){var o=+e,i=o/(n[1][1]-n[0][1]),a=-i*n[0][0],f=(o-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,f])},r)}var L0=16,Kw=Y(30*ut);function pl(t,e){return+e?tv(t,e):Jw(t)}function Jw(t){return so({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}function tv(t,e){function r(n,o,i,a,f,u,c,s,d,l,p,m,g,h){var b=c-n,x=s-o,M=b*b+x*x;if(M>4*e&&g--){var y=a+l,v=f+p,w=u+m,S=dt(y*y+v*v+w*w),C=vt(w/=S),k=tt(tt(w)-1)<B||tt(i-d)<B?(i+d)/2:qt(v,y),I=t(k,C),T=I[0],D=I[1],R=T-n,O=D-o,_=x*R-b*O;(_*_/M>e||tt((b*R+x*O)/M-.5)>.3||a*l+f*p+u*m<Kw)&&(r(n,o,i,a,f,u,T,D,k,y/=S,v/=S,w,g,h),h.point(T,D),r(T,D,k,y,v,w,c,s,d,l,p,m,g,h))}}return function(n){var o,i,a,f,u,c,s,d,l,p,m,g,h={point:b,lineStart:x,lineEnd:y,polygonStart:function(){n.polygonStart(),h.lineStart=v},polygonEnd:function(){n.polygonEnd(),h.lineStart=x}};function b(C,k){C=t(C,k),n.point(C[0],C[1])}function x(){d=NaN,h.point=M,n.lineStart()}function M(C,k){var I=Ye([C,k]),T=t(C,k);r(d,l,s,p,m,g,d=T[0],l=T[1],s=C,p=I[0],m=I[1],g=I[2],L0,n),n.point(d,l)}function y(){h.point=b,n.lineEnd()}function v(){x(),h.point=w,h.lineEnd=S}function w(C,k){M(o=C,k),i=d,a=l,f=p,u=m,c=g,h.point=M}function S(){r(d,l,s,p,m,g,i,a,o,f,u,c,L0,n),h.lineEnd=y,y()}return h}}var ev=so({point:function(t,e){this.stream.point(t*ut,e*ut)}});function rv(t){return so({point:function(e,r){var n=t(e,r);return this.stream.point(n[0],n[1])}})}function nv(t,e,r,n,o){function i(a,f){return a*=n,f*=o,[e+t*a,r-t*f]}return i.invert=function(a,f){return[(a-e)/t*n,(r-f)/t*o]},i}function O0(t,e,r,n,o,i){if(!i)return nv(t,e,r,n,o);var a=Y(i),f=z(i),u=a*t,c=f*t,s=a/t,d=f/t,l=(f*r-a*e)/t,p=(f*e+a*r)/t;function m(g,h){return g*=n,h*=o,[u*g-c*h+e,r-c*g-u*h]}return m.invert=function(g,h){return[n*(s*g-d*h+l),o*(p-d*g-s*h)]},m}function zt(t){return ml(function(){return t})()}function ml(t){var e,r=150,n=480,o=250,i=0,a=0,f=0,u=0,c=0,s,d=0,l=1,p=1,m=null,g=Qc,h=null,b,x,M,y=Ti,v=.5,w,S,C,k,I;function T(_){return C(_[0]*ut,_[1]*ut)}function D(_){return _=C.invert(_[0],_[1]),_&&[_[0]*kt,_[1]*kt]}T.stream=function(_){return k&&I===_?k:k=ev(rv(s)(g(w(y(I=_)))))},T.preclip=function(_){return arguments.length?(g=_,m=void 0,O()):g},T.postclip=function(_){return arguments.length?(y=_,h=b=x=M=null,O()):y},T.clipAngle=function(_){return arguments.length?(g=+_?y0(m=_*ut):(m=null,Qc),O()):m*kt},T.clipExtent=function(_){return arguments.length?(y=_==null?(h=b=x=M=null,Ti):oo(h=+_[0][0],b=+_[0][1],x=+_[1][0],M=+_[1][1]),O()):h==null?null:[[h,b],[x,M]]},T.scale=function(_){return arguments.length?(r=+_,R()):r},T.translate=function(_){return arguments.length?(n=+_[0],o=+_[1],R()):[n,o]},T.center=function(_){return arguments.length?(i=_[0]%360*ut,a=_[1]%360*ut,R()):[i*kt,a*kt]},T.rotate=function(_){return arguments.length?(f=_[0]%360*ut,u=_[1]%360*ut,c=_.length>2?_[2]%360*ut:0,R()):[f*kt,u*kt,c*kt]},T.angle=function(_){return arguments.length?(d=_%360*ut,R()):d*kt},T.reflectX=function(_){return arguments.length?(l=_?-1:1,R()):l<0},T.reflectY=function(_){return arguments.length?(p=_?-1:1,R()):p<0},T.precision=function(_){return arguments.length?(w=pl(S,v=_*_),O()):dt(v)},T.fitExtent=function(_,F){return Ii(T,_,F)},T.fitSize=function(_,F){return Of(T,_,F)},T.fitWidth=function(_,F){return Pf(T,_,F)},T.fitHeight=function(_,F){return Ff(T,_,F)};function R(){var _=O0(r,0,0,l,p,d).apply(null,e(i,a)),F=O0(r,n-_[0],o-_[1],l,p,d);return s=jc(f,u,c),S=Mi(e,F),C=Mi(s,S),w=pl(S,v),O()}function O(){return k=I=null,T}return function(){return e=t.apply(this,arguments),T.invert=e.invert&&D,R()}}function co(t){var e=0,r=V/3,n=ml(t),o=n(e,r);return o.parallels=function(i){return arguments.length?n(e=i[0]*ut,r=i[1]*ut):[e*kt,r*kt]},o}function P0(t){var e=Y(t);function r(n,o){return[n*e,z(o)/e]}return r.invert=function(n,o){return[n/e,vt(o*e)]},r}function F0(t,e){var r=z(t),n=(r+z(e))/2;if(tt(n)<B)return P0(t);var o=1+r*(2*n-r),i=dt(o)/n;function a(f,u){var c=dt(o-2*n*z(u))/n;return[c*z(f*=n),i-c*Y(f)]}return a.invert=function(f,u){var c=i-u,s=qt(f,tt(c))*Wt(c);return c*n<0&&(s-=V*Wt(f)*Wt(c)),[s/n,vt((o-(f*f+c*c)*n*n)/(2*n))]},a}function Fr(){return co(F0).scale(155.424).center([0,33.6442])}function Di(){return Fr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ov(t){var e=t.length;return{point:function(r,n){for(var o=-1;++o<e;)t[o].point(r,n)},sphere:function(){for(var r=-1;++r<e;)t[r].sphere()},lineStart:function(){for(var r=-1;++r<e;)t[r].lineStart()},lineEnd:function(){for(var r=-1;++r<e;)t[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<e;)t[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<e;)t[r].polygonEnd()}}}function hl(){var t,e,r=Di(),n,o=Fr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,a=Fr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(l,p){u=[l,p]}};function s(l){var p=l[0],m=l[1];return u=null,n.point(p,m),u||(i.point(p,m),u)||(f.point(p,m),u)}s.invert=function(l){var p=r.scale(),m=r.translate(),g=(l[0]-m[0])/p,h=(l[1]-m[1])/p;return(h>=.12&&h<.234&&g>=-.425&&g<-.214?o:h>=.166&&h<.234&&g>=-.214&&g<-.115?a:r).invert(l)},s.stream=function(l){return t&&e===l?t:t=ov([r.stream(e=l),o.stream(l),a.stream(l)])},s.precision=function(l){return arguments.length?(r.precision(l),o.precision(l),a.precision(l),d()):r.precision()},s.scale=function(l){return arguments.length?(r.scale(l),o.scale(l*.35),a.scale(l),s.translate(r.translate())):r.scale()},s.translate=function(l){if(!arguments.length)return r.translate();var p=r.scale(),m=+l[0],g=+l[1];return n=r.translate(l).clipExtent([[m-.455*p,g-.238*p],[m+.455*p,g+.238*p]]).stream(c),i=o.translate([m-.307*p,g+.201*p]).clipExtent([[m-.425*p+B,g+.12*p+B],[m-.214*p-B,g+.234*p-B]]).stream(c),f=a.translate([m-.205*p,g+.212*p]).clipExtent([[m-.214*p+B,g+.166*p+B],[m-.115*p-B,g+.234*p-B]]).stream(c),d()},s.fitExtent=function(l,p){return Ii(s,l,p)},s.fitSize=function(l,p){return Of(s,l,p)},s.fitWidth=function(l,p){return Pf(s,l,p)},s.fitHeight=function(l,p){return Ff(s,l,p)};function d(){return t=e=null,s}return s.scale(1070)}function qf(t){return function(e,r){var n=Y(e),o=Y(r),i=t(n*o);return i===1/0?[2,0]:[i*o*z(e),i*z(r)]}}function Ge(t){return function(e,r){var n=dt(e*e+r*r),o=t(n),i=z(o),a=Y(o);return[qt(e*i,n*a),vt(n&&r*i/n)]}}var gl=qf(function(t){return dt(2/(1+t))});gl.invert=Ge(function(t){return 2*vt(t/2)});function xl(){return zt(gl).scale(124.75).clipAngle(180-.001)}var yl=qf(function(t){return(t=vf(t))&&t/z(t)});yl.invert=Ge(function(t){return t});function bl(){return zt(yl).scale(79.4188).clipAngle(180-.001)}function lo(t,e){return[t,yn(eo((ft+e)/2))]}lo.invert=function(t,e){return[t,2*xe(bf(e))-ft]};function wl(){return vl(lo).scale(961/It)}function vl(t){var e=zt(t),r=e.center,n=e.scale,o=e.translate,i=e.clipExtent,a=null,f,u,c;e.scale=function(d){return arguments.length?(n(d),s()):n()},e.translate=function(d){return arguments.length?(o(d),s()):o()},e.center=function(d){return arguments.length?(r(d),s()):r()},e.clipExtent=function(d){return arguments.length?(d==null?a=f=u=c=null:(a=+d[0][0],f=+d[0][1],u=+d[1][0],c=+d[1][1]),s()):a==null?null:[[a,f],[u,c]]};function s(){var d=V*n(),l=e(p0(e.rotate()).invert([0,0]));return i(a==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===lo?[[Math.max(l[0]-d,a),f],[Math.min(l[0]+d,u),c]]:[[a,Math.max(l[1]-d,f)],[u,Math.min(l[1]+d,c)]])}return s()}function zf(t){return eo((ft+t)/2)}function q0(t,e){var r=Y(t),n=t===e?z(t):yn(r/Y(e))/yn(zf(e)/zf(t)),o=r*wf(zf(t),n)/n;if(!n)return lo;function i(a,f){o>0?f<-ft+B&&(f=-ft+B):f>ft-B&&(f=ft-B);var u=o/wf(zf(f),n);return[u*z(n*a),o-u*Y(n*a)]}return i.invert=function(a,f){var u=o-f,c=Wt(n)*dt(a*a+u*u),s=qt(a,tt(u))*Wt(u);return u*n<0&&(s-=V*Wt(a)*Wt(u)),[s/n,2*xe(wf(o/c,1/n))-ft]},i}function Ml(){return co(q0).scale(109.5).parallels([30,30])}function po(t,e){return[t,e]}po.invert=po;function Sl(){return zt(po).scale(152.63)}function z0(t,e){var r=Y(t),n=t===e?z(t):(r-Y(e))/(e-t),o=r/n+t;if(tt(n)<B)return po;function i(a,f){var u=o-f,c=n*a;return[u*z(c),o-u*Y(c)]}return i.invert=function(a,f){var u=o-f,c=qt(a,tt(u))*Wt(u);return u*n<0&&(c-=V*Wt(a)*Wt(u)),[c/n,o-Wt(n)*dt(a*a+u*u)]},i}function Tl(){return co(z0).scale(131.154).center([0,13.9389])}var Ri=1.340264,Li=-.081106,Oi=893e-6,Pi=.003796,Yf=dt(3)/2,iv=12;function _l(t,e){var r=vt(Yf*z(e)),n=r*r,o=n*n*n;return[t*Y(r)/(Yf*(Ri+3*Li*n+o*(7*Oi+9*Pi*n))),r*(Ri+Li*n+o*(Oi+Pi*n))]}_l.invert=function(t,e){for(var r=e,n=r*r,o=n*n*n,i=0,a,f,u;i<iv&&(f=r*(Ri+Li*n+o*(Oi+Pi*n))-e,u=Ri+3*Li*n+o*(7*Oi+9*Pi*n),r-=a=f/u,n=r*r,o=n*n*n,!(tt(a)<yf));++i);return[Yf*t*(Ri+3*Li*n+o*(7*Oi+9*Pi*n))/Y(r),vt(z(r)/Yf)]};function Al(){return zt(_l).scale(177.158)}function El(t,e){var r=Y(e),n=Y(t)*r;return[r*z(t)/n,z(e)/n]}El.invert=Ge(xe);function Cl(){return zt(El).scale(144.049).clipAngle(60)}function kl(t,e){return[Y(e)*z(t),z(e)]}kl.invert=Ge(vt);function $l(){return zt(kl).scale(249.5).clipAngle(90+B)}function Nl(t,e){var r=Y(e),n=1+Y(t)*r;return[r*z(t)/n,z(e)/n]}Nl.invert=Ge(function(t){return 2*xe(t)});function Il(){return zt(Nl).scale(250).clipAngle(142)}function Dl(t,e){return[yn(eo((ft+e)/2)),-t]}Dl.invert=function(t,e){return[-e,2*xe(bf(t))-ft]};function Rl(){var t=vl(Dl),e=t.center,r=t.rotate;return t.center=function(n){return arguments.length?e([-n[1],n[0]]):(n=e(),[n[1],-n[0]])},t.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}function At(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}var qi=Symbol("implicit");function wn(){var t=new pe,e=[],r=[],n=qi;function o(i){let a=t.get(i);if(a===void 0){if(n!==qi)return n;t.set(i,a=e.push(i)-1)}return r[a%r.length]}return o.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new pe;for(let a of i)t.has(a)||t.set(a,e.push(a)-1);return o},o.range=function(i){return arguments.length?(r=Array.from(i),o):r.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return wn(e,r).unknown(n)},At.apply(o,arguments),o}function qr(){var t=wn().unknown(void 0),e=t.domain,r=t.range,n=0,o=1,i,a,f=!1,u=0,c=0,s=.5;delete t.unknown;function d(){var l=e().length,p=o<n,m=p?o:n,g=p?n:o;i=(g-m)/Math.max(1,l-u+c*2),f&&(i=Math.floor(i)),m+=(g-m-i*(l-u))*s,a=i*(1-u),f&&(m=Math.round(m),a=Math.round(a));var h=an(l).map(function(b){return m+i*b});return r(p?h.reverse():h)}return t.domain=function(l){return arguments.length?(e(l),d()):e()},t.range=function(l){return arguments.length?([n,o]=l,n=+n,o=+o,d()):[n,o]},t.rangeRound=function(l){return[n,o]=l,n=+n,o=+o,f=!0,d()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(l){return arguments.length?(f=!!l,d()):f},t.padding=function(l){return arguments.length?(u=Math.min(1,c=+l),d()):u},t.paddingInner=function(l){return arguments.length?(u=Math.min(1,l),d()):u},t.paddingOuter=function(l){return arguments.length?(c=+l,d()):c},t.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),d()):s},t.copy=function(){return qr(e(),[n,o]).round(f).paddingInner(u).paddingOuter(c).align(s)},At.apply(d(),arguments)}function Y0(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Y0(e())},t}function Ll(){return Y0(qr.apply(null,arguments).paddingInner(1))}function Ol(t){return function(){return t}}function mo(t){return+t}var B0=[0,1];function ne(t){return t}function Pl(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Ol(isNaN(e)?NaN:.5)}function av(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function fv(t,e,r){var n=t[0],o=t[1],i=e[0],a=e[1];return o<n?(n=Pl(o,n),i=r(a,i)):(n=Pl(n,o),i=r(i,a)),function(f){return i(n(f))}}function uv(t,e,r){var n=Math.min(t.length,e.length)-1,o=new Array(n),i=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)o[a]=Pl(t[a],t[a+1]),i[a]=r(e[a],e[a+1]);return function(f){var u=nn(t,f,1,n)-1;return i[u](o[u](f))}}function He(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vn(){var t=B0,e=B0,r=Ee,n,o,i,a=ne,f,u,c;function s(){var l=Math.min(t.length,e.length);return a!==ne&&(a=av(t[0],t[l-1])),f=l>2?uv:fv,u=c=null,d}function d(l){return l==null||isNaN(l=+l)?i:(u||(u=f(t.map(n),e,r)))(n(a(l)))}return d.invert=function(l){return a(o((c||(c=f(e,t.map(n),pt)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,mo),s()):t.slice()},d.range=function(l){return arguments.length?(e=Array.from(l),s()):e.slice()},d.rangeRound=function(l){return e=Array.from(l),r=pn,s()},d.clamp=function(l){return arguments.length?(a=l?!0:ne,s()):a!==ne},d.interpolate=function(l){return arguments.length?(r=l,s()):r},d.unknown=function(l){return arguments.length?(i=l,d):i},function(l,p){return n=l,o=p,s()}}function zi(){return vn()(ne,ne)}function Fl(t,e,r,n){var o=Gn(t,e,r),i;switch(n=ze(n==null?",f":n),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=Gc(o,a))&&(n.precision=i),xf(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Hc(o,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Uc(o))&&(n.precision=i-(n.type==="%")*2);break}}return ge(n)}function mr(t){var e=t.domain;return t.ticks=function(r){var n=e();return ar(n[0],n[n.length-1],r==null?10:r)},t.tickFormat=function(r,n){var o=e();return Fl(o[0],o[o.length-1],r==null?10:r,n)},t.nice=function(r){r==null&&(r=10);var n=e(),o=0,i=n.length-1,a=n[o],f=n[i],u,c,s=10;for(f<a&&(c=a,a=f,f=c,c=o,o=i,i=c);s-- >0;){if(c=Ko(a,f,r),c===u)return n[o]=a,n[i]=f,e(n);if(c>0)a=Math.floor(a/c)*c,f=Math.ceil(f/c)*c;else if(c<0)a=Math.ceil(a*c)/c,f=Math.floor(f*c)/c;else break;u=c}return t},t}function Mn(){var t=zi();return t.copy=function(){return He(t,Mn())},At.apply(t,arguments),mr(t)}function Yi(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,mo),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Yi(t).unknown(e)},t=arguments.length?Array.from(t,mo):[0,1],mr(r)}function Bi(t,e){t=t.slice();var r=0,n=t.length-1,o=t[r],i=t[n],a;return i<o&&(a=r,r=n,n=a,a=o,o=i,i=a),t[r]=e.floor(o),t[n]=e.ceil(i),t}function U0(t){return Math.log(t)}function G0(t){return Math.exp(t)}function sv(t){return-Math.log(-t)}function cv(t){return-Math.exp(-t)}function lv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dv(t){return t===10?lv:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pv(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function H0(t){return(e,r)=>-t(-e,r)}function ql(t){let e=t(U0,G0),r=e.domain,n=10,o,i;function a(){return o=pv(n),i=dv(n),r()[0]<0?(o=H0(o),i=H0(i),t(sv,cv)):t(U0,G0),e}return e.base=function(f){return arguments.length?(n=+f,a()):n},e.domain=function(f){return arguments.length?(r(f),a()):r()},e.ticks=f=>{let u=r(),c=u[0],s=u[u.length-1],d=s<c;d&&([c,s]=[s,c]);let l=o(c),p=o(s),m,g,h=f==null?10:+f,b=[];if(!(n%1)&&p-l<h){if(l=Math.floor(l),p=Math.ceil(p),c>0){for(;l<=p;++l)for(m=1;m<n;++m)if(g=l<0?m/i(-l):m*i(l),!(g<c)){if(g>s)break;b.push(g)}}else for(;l<=p;++l)for(m=n-1;m>=1;--m)if(g=l>0?m/i(-l):m*i(l),!(g<c)){if(g>s)break;b.push(g)}b.length*2<h&&(b=ar(c,s,h))}else b=ar(l,p,Math.min(p-l,h)).map(i);return d?b.reverse():b},e.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=ze(u)).precision==null&&(u.trim=!0),u=ge(u)),f===1/0)return u;let c=Math.max(1,n*f/e.ticks().length);return s=>{let d=s/i(Math.round(o(s)));return d*n<n-.5&&(d*=n),d<=c?u(s):""}},e.nice=()=>r(Bi(r(),{floor:f=>i(Math.floor(o(f))),ceil:f=>i(Math.ceil(o(f)))})),e}function Ui(){let t=ql(vn()).domain([1,10]);return t.copy=()=>He(t,Ui()).base(t.base()),At.apply(t,arguments),t}function W0(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function X0(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zl(t){var e=1,r=t(W0(e),X0(e));return r.constant=function(n){return arguments.length?t(W0(e=+n),X0(e)):e},mr(r)}function Gi(){var t=zl(vn());return t.copy=function(){return He(t,Gi()).constant(t.constant())},At.apply(t,arguments)}function V0(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hv(t){return t<0?-t*t:t*t}function Yl(t){var e=t(ne,ne),r=1;function n(){return r===1?t(ne,ne):r===.5?t(mv,hv):t(V0(r),V0(1/r))}return e.exponent=function(o){return arguments.length?(r=+o,n()):r},mr(e)}function Hi(){var t=Yl(vn());return t.copy=function(){return He(t,Hi()).exponent(t.exponent())},At.apply(t,arguments),t}function Wi(){var t=[],e=[],r=[],n;function o(){var a=0,f=Math.max(1,e.length);for(r=new Array(f-1);++a<f;)r[a-1]=sc(t,a/f);return i}function i(a){return a==null||isNaN(a=+a)?n:e[nn(r,a)]}return i.invertExtent=function(a){var f=e.indexOf(a);return f<0?[NaN,NaN]:[f>0?r[f-1]:t[0],f<r.length?r[f]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Kt),o()},i.range=function(a){return arguments.length?(e=Array.from(a),o()):e.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Wi().domain(t).range(e).unknown(n)},At.apply(i,arguments)}function Xi(){var t=[.5],e=[0,1],r,n=1;function o(i){return i!=null&&i<=i?e[nn(t,i,0,n)]:r}return o.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(i){var a=e.indexOf(i);return[t[a-1],t[a]]},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return Xi().domain(t).range(e).unknown(r)},At.apply(o,arguments)}var Bl=new Date,Ul=new Date;function lt(t,e,r,n){function o(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(t(i=new Date(+i)),i),o.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),o.round=i=>{let a=o(i),f=o.ceil(i);return i-a<f-i?a:f},o.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,f)=>{let u=[];if(i=o.ceil(i),f=f==null?1:Math.floor(f),!(i<a)||!(f>0))return u;let c;do u.push(c=new Date(+i)),e(i,f),t(i);while(c<i&&i<a);return u},o.filter=i=>lt(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;e(a,-1),!i(a););else for(;--f>=0;)for(;e(a,1),!i(a););}),r&&(o.count=(i,a)=>(Bl.setTime(+i),Ul.setTime(+a),t(Bl),t(Ul),Math.floor(r(Bl,Ul))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(n?a=>n(a)%i===0:a=>o.count(0,a)%i===0):o)),o}var Vi=lt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Vi.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?lt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Vi);var MN=Vi.range;var Rt=lt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),j0=Rt.range;var hr=lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),gv=hr.range,gr=lt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),xv=gr.range;var xr=lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),yv=xr.range,yr=lt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),bv=yr.range;var ye=lt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),wv=ye.range,_n=lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),vv=_n.range,An=lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),Mv=An.range;function En(t){return lt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var ie=En(0),zr=En(1),Bf=En(2),Uf=En(3),Xe=En(4),Gf=En(5),Hf=En(6),Q0=ie.range,Sv=zr.range,Tv=Bf.range,_v=Uf.range,Av=Xe.range,Ev=Gf.range,Cv=Hf.range;function Cn(t){return lt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/6048e5)}var ae=Cn(0),Yr=Cn(1),Wf=Cn(2),Xf=Cn(3),Ve=Cn(4),Vf=Cn(5),jf=Cn(6),K0=ae.range,kv=Yr.range,$v=Wf.range,Nv=Xf.range,Iv=Ve.range,Dv=Vf.range,Rv=jf.range;var br=lt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),Lv=br.range,wr=lt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),Ov=wr.range;var Xt=lt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:lt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});var Pv=Xt.range,Vt=lt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:lt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});var Fv=Vt.range;function tg(t,e,r,n,o,i){let a=[[Rt,1,1e3],[Rt,5,5*1e3],[Rt,15,15*1e3],[Rt,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[o,1,36e5],[o,3,3*36e5],[o,6,6*36e5],[o,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function f(c,s,d){let l=s<c;l&&([c,s]=[s,c]);let p=d&&typeof d.range=="function"?d:u(c,s,d),m=p?p.range(c,+s+1):[];return l?m.reverse():m}function u(c,s,d){let l=Math.abs(s-c)/d,p=ir(([,,h])=>h).right(a,l);if(p===a.length)return t.every(Gn(c/31536e6,s/31536e6,d));if(p===0)return Vi.every(Math.max(Gn(c,s,d),1));let[m,g]=a[l/a[p-1][2]<a[p][2]/l?p-1:p];return m.every(g)}return[f,u]}var[Gl,Hl]=tg(Vt,wr,ae,An,yr,gr),[Wl,Xl]=tg(Xt,br,ie,ye,xr,hr);function Vl(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function jl(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zi(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Zl(t){var e=t.dateTime,r=t.date,n=t.time,o=t.periods,i=t.days,a=t.shortDays,f=t.months,u=t.shortMonths,c=Qi(o),s=Ki(o),d=Qi(i),l=Ki(i),p=Qi(a),m=Ki(a),g=Qi(f),h=Ki(f),b=Qi(u),x=Ki(u),M={a:Q,A:j,b:K,B:yt,c:null,d:ag,e:ag,f:u6,g:y6,G:w6,H:i6,I:a6,j:f6,L:lg,m:s6,M:c6,p:at,q:$,Q:sg,s:cg,S:l6,u:d6,U:p6,V:m6,w:h6,W:g6,x:null,X:null,y:x6,Y:b6,Z:v6,"%":ug},y={a:q,A:Z,b:H,B:W,c:null,d:fg,e:fg,f:_6,g:L6,G:P6,H:M6,I:S6,j:T6,L:pg,m:A6,M:E6,p:P,q:X,Q:sg,s:cg,S:C6,u:k6,U:$6,V:N6,w:I6,W:D6,x:null,X:null,y:R6,Y:O6,Z:F6,"%":ug},v={a:I,A:T,b:D,B:R,c:O,d:og,e:og,f:e6,g:ng,G:rg,H:ig,I:ig,j:Qv,L:t6,m:Zv,M:Kv,p:k,q:jv,Q:n6,s:o6,S:Jv,u:Gv,U:Hv,V:Wv,w:Uv,W:Xv,x:_,X:F,y:ng,Y:rg,Z:Vv,"%":r6};M.x=w(r,M),M.X=w(n,M),M.c=w(e,M),y.x=w(r,y),y.X=w(n,y),y.c=w(e,y);function w(E,L){return function(G){var A=[],ht=-1,J=0,ct=E.length,Et,Qt,Wo;for(G instanceof Date||(G=new Date(+G));++ht<ct;)E.charCodeAt(ht)===37&&(A.push(E.slice(J,ht)),(Qt=eg[Et=E.charAt(++ht)])!=null?Et=E.charAt(++ht):Qt=Et==="e"?" ":"0",(Wo=L[Et])&&(Et=Wo(G,Qt)),A.push(Et),J=ht+1);return A.push(E.slice(J,ht)),A.join("")}}function S(E,L){return function(G){var A=Zi(1900,void 0,1),ht=C(A,E,G+="",0),J,ct;if(ht!=G.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(L&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(J=jl(Zi(A.y,0,1)),ct=J.getUTCDay(),J=ct>4||ct===0?Yr.ceil(J):Yr(J),J=_n.offset(J,(A.V-1)*7),A.y=J.getUTCFullYear(),A.m=J.getUTCMonth(),A.d=J.getUTCDate()+(A.w+6)%7):(J=Vl(Zi(A.y,0,1)),ct=J.getDay(),J=ct>4||ct===0?zr.ceil(J):zr(J),J=ye.offset(J,(A.V-1)*7),A.y=J.getFullYear(),A.m=J.getMonth(),A.d=J.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),ct="Z"in A?jl(Zi(A.y,0,1)).getUTCDay():Vl(Zi(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(ct+5)%7:A.w+A.U*7-(ct+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,jl(A)):Vl(A)}}function C(E,L,G,A){for(var ht=0,J=L.length,ct=G.length,Et,Qt;ht<J;){if(A>=ct)return-1;if(Et=L.charCodeAt(ht++),Et===37){if(Et=L.charAt(ht++),Qt=v[Et in eg?L.charAt(ht++):Et],!Qt||(A=Qt(E,G,A))<0)return-1}else if(Et!=G.charCodeAt(A++))return-1}return A}function k(E,L,G){var A=c.exec(L.slice(G));return A?(E.p=s.get(A[0].toLowerCase()),G+A[0].length):-1}function I(E,L,G){var A=p.exec(L.slice(G));return A?(E.w=m.get(A[0].toLowerCase()),G+A[0].length):-1}function T(E,L,G){var A=d.exec(L.slice(G));return A?(E.w=l.get(A[0].toLowerCase()),G+A[0].length):-1}function D(E,L,G){var A=b.exec(L.slice(G));return A?(E.m=x.get(A[0].toLowerCase()),G+A[0].length):-1}function R(E,L,G){var A=g.exec(L.slice(G));return A?(E.m=h.get(A[0].toLowerCase()),G+A[0].length):-1}function O(E,L,G){return C(E,e,L,G)}function _(E,L,G){return C(E,r,L,G)}function F(E,L,G){return C(E,n,L,G)}function Q(E){return a[E.getDay()]}function j(E){return i[E.getDay()]}function K(E){return u[E.getMonth()]}function yt(E){return f[E.getMonth()]}function at(E){return o[+(E.getHours()>=12)]}function $(E){return 1+~~(E.getMonth()/3)}function q(E){return a[E.getUTCDay()]}function Z(E){return i[E.getUTCDay()]}function H(E){return u[E.getUTCMonth()]}function W(E){return f[E.getUTCMonth()]}function P(E){return o[+(E.getUTCHours()>=12)]}function X(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var L=w(E+="",M);return L.toString=function(){return E},L},parse:function(E){var L=S(E+="",!1);return L.toString=function(){return E},L},utcFormat:function(E){var L=w(E+="",y);return L.toString=function(){return E},L},utcParse:function(E){var L=S(E+="",!0);return L.toString=function(){return E},L}}}var eg={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,zv=/^%/,Yv=/[\\^$*+?|[\]().{}]/g;function nt(t,e,r){var n=t<0?"-":"",o=(n?-t:t)+"",i=o.length;return n+(i<r?new Array(r-i+1).join(e)+o:o)}function Bv(t){return t.replace(Yv,"\\$&")}function Qi(t){return new RegExp("^(?:"+t.map(Bv).join("|")+")","i")}function Ki(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Uv(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Gv(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Hv(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Wv(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Xv(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function rg(t,e,r){var n=Lt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function ng(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Vv(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jv(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Zv(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function og(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Qv(t,e,r){var n=Lt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function ig(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Kv(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Jv(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function t6(t,e,r){var n=Lt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function e6(t,e,r){var n=Lt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function r6(t,e,r){var n=zv.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function n6(t,e,r){var n=Lt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function o6(t,e,r){var n=Lt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function ag(t,e){return nt(t.getDate(),e,2)}function i6(t,e){return nt(t.getHours(),e,2)}function a6(t,e){return nt(t.getHours()%12||12,e,2)}function f6(t,e){return nt(1+ye.count(Xt(t),t),e,3)}function lg(t,e){return nt(t.getMilliseconds(),e,3)}function u6(t,e){return lg(t,e)+"000"}function s6(t,e){return nt(t.getMonth()+1,e,2)}function c6(t,e){return nt(t.getMinutes(),e,2)}function l6(t,e){return nt(t.getSeconds(),e,2)}function d6(t){var e=t.getDay();return e===0?7:e}function p6(t,e){return nt(ie.count(Xt(t)-1,t),e,2)}function dg(t){var e=t.getDay();return e>=4||e===0?Xe(t):Xe.ceil(t)}function m6(t,e){return t=dg(t),nt(Xe.count(Xt(t),t)+(Xt(t).getDay()===4),e,2)}function h6(t){return t.getDay()}function g6(t,e){return nt(zr.count(Xt(t)-1,t),e,2)}function x6(t,e){return nt(t.getFullYear()%100,e,2)}function y6(t,e){return t=dg(t),nt(t.getFullYear()%100,e,2)}function b6(t,e){return nt(t.getFullYear()%1e4,e,4)}function w6(t,e){var r=t.getDay();return t=r>=4||r===0?Xe(t):Xe.ceil(t),nt(t.getFullYear()%1e4,e,4)}function v6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function fg(t,e){return nt(t.getUTCDate(),e,2)}function M6(t,e){return nt(t.getUTCHours(),e,2)}function S6(t,e){return nt(t.getUTCHours()%12||12,e,2)}function T6(t,e){return nt(1+_n.count(Vt(t),t),e,3)}function pg(t,e){return nt(t.getUTCMilliseconds(),e,3)}function _6(t,e){return pg(t,e)+"000"}function A6(t,e){return nt(t.getUTCMonth()+1,e,2)}function E6(t,e){return nt(t.getUTCMinutes(),e,2)}function C6(t,e){return nt(t.getUTCSeconds(),e,2)}function k6(t){var e=t.getUTCDay();return e===0?7:e}function $6(t,e){return nt(ae.count(Vt(t)-1,t),e,2)}function mg(t){var e=t.getUTCDay();return e>=4||e===0?Ve(t):Ve.ceil(t)}function N6(t,e){return t=mg(t),nt(Ve.count(Vt(t),t)+(Vt(t).getUTCDay()===4),e,2)}function I6(t){return t.getUTCDay()}function D6(t,e){return nt(Yr.count(Vt(t)-1,t),e,2)}function R6(t,e){return nt(t.getUTCFullYear()%100,e,2)}function L6(t,e){return t=mg(t),nt(t.getUTCFullYear()%100,e,2)}function O6(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function P6(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ve(t):Ve.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function F6(){return"+0000"}function ug(){return"%"}function sg(t){return+t}function cg(t){return Math.floor(+t/1e3)}var ho,go,hg,je,gg;Ql({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ql(t){return ho=Zl(t),go=ho.format,hg=ho.parse,je=ho.utcFormat,gg=ho.utcParse,ho}function q6(t){return new Date(t)}function z6(t){return t instanceof Date?+t:+new Date(+t)}function Zf(t,e,r,n,o,i,a,f,u,c){var s=zi(),d=s.invert,l=s.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),h=c("%I %p"),b=c("%a %d"),x=c("%b %d"),M=c("%B"),y=c("%Y");function v(w){return(u(w)<w?p:f(w)<w?m:a(w)<w?g:i(w)<w?h:n(w)<w?o(w)<w?b:x:r(w)<w?M:y)(w)}return s.invert=function(w){return new Date(d(w))},s.domain=function(w){return arguments.length?l(Array.from(w,z6)):l().map(q6)},s.ticks=function(w){var S=l();return t(S[0],S[S.length-1],w==null?10:w)},s.tickFormat=function(w,S){return S==null?v:c(S)},s.nice=function(w){var S=l();return(!w||typeof w.range!="function")&&(w=e(S[0],S[S.length-1],w==null?10:w)),w?l(Bi(S,w)):s},s.copy=function(){return He(s,Zf(t,e,r,n,o,i,a,f,u,c))},s}function Qf(){return At.apply(Zf(Wl,Xl,Xt,br,ie,ye,xr,hr,Rt,go).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kf(){return At.apply(Zf(Gl,Hl,Vt,wr,ae,_n,yr,gr,Rt,je).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ji(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Jf(){var t=0,e=.5,r=1,n=1,o,i,a,f,u,c=ne,s,d=!1,l;function p(g){return isNaN(g=+g)?l:(g=.5+((g=+s(g))-i)*(n*g<n*i?f:u),c(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,o=s(t=+t),i=s(e=+e),a=s(r=+r),f=o===i?0:.5/(i-o),u=i===a?0:.5/(a-i),n=i<o?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(h){var b,x,M;return arguments.length?([b,x,M]=h,c=Fe(g,[b,x,M]),p):[c(0),c(.5),c(1)]}}return p.range=m(Ee),p.rangeRound=m(pn),p.unknown=function(g){return arguments.length?(l=g,p):l},function(g){return s=g,o=g(t),i=g(e),a=g(r),f=o===i?0:.5/(i-o),u=i===a?0:.5/(a-i),n=i<o?-1:1,p}}function ta(){var t=mr(Jf()(ne));return t.copy=function(){return Ji(t,ta())},Fi.apply(t,arguments)}function tu(){var t=ql(Jf()).domain([.1,1,10]);return t.copy=function(){return Ji(t,tu()).base(t.base())},Fi.apply(t,arguments)}function eu(){var t=zl(Jf());return t.copy=function(){return Ji(t,eu()).constant(t.constant())},Fi.apply(t,arguments)}function ru(){var t=Yl(Jf());return t.copy=function(){return Ji(t,ru()).exponent(t.exponent())},Fi.apply(t,arguments)}function N(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}var Kl=N("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var Jl=N("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var td=N("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var ed=N("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var rd=N("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var nd=N("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var od=N("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var id=N("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var ad=N("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var fd=N("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var U=t=>Ac(t[t.length-1]);var nu=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(N),ou=U(nu);var iu=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(N),au=U(iu);var fu=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(N),uu=U(fu);var su=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(N),cu=U(su);var ea=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(N),xo=U(ea);var lu=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(N),du=U(lu);var ra=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(N),yo=U(ra);var pu=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(N),mu=U(pu);var hu=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(N),gu=U(hu);var xu=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(N),yu=U(xu);var bu=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(N),wu=U(bu);var vu=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(N),Mu=U(vu);var Su=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(N),Tu=U(Su);var _u=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(N),Au=U(_u);var Eu=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(N),Cu=U(Eu);var ku=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(N),$u=U(ku);var Nu=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(N),Iu=U(Nu);var Du=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(N),Ru=U(Du);var Lu=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(N),Ou=U(Lu);var Pu=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(N),Fu=U(Pu);var qu=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(N),zu=U(qu);var Yu=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(N),Bu=U(Yu);var Uu=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(N),Gu=U(Uu);var Hu=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(N),Wu=U(Hu);var Xu=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(N),Vu=U(Xu);var ju=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(N),Zu=U(ju);var Qu=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(N),Ku=U(Qu);function Ju(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var ts=Qn(Jt(300,.5,0),Jt(-240,.5,1));var rs=Qn(Jt(-100,.75,.35),Jt(80,1.5,.8)),ns=Qn(Jt(260,.75,.35),Jt(80,1.5,.8)),es=Jt();function os(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return es.h=360*t-100,es.s=1.5-1.5*e,es.l=.8-.9*e,es+""}var is=me(),Y6=Math.PI/3,B6=Math.PI*2/3;function as(t){var e;return t=(.5-t)*Math.PI,is.r=255*(e=Math.sin(t))*e,is.g=255*(e=Math.sin(t+Y6))*e,is.b=255*(e=Math.sin(t+B6))*e,is+""}function fs(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function us(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}var ss=us(N("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),cs=us(N("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ls=us(N("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ds=us(N("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var ud=Math.cos;var bo=Math.min,na=Math.sin,ot=Math.sqrt;var kn=Math.PI,UL=kn/2,wo=2*kn;var U6=ot(3),oa={draw(t,e){let r=ot(e+bo(e/28,.75))*.59436,n=r/2,o=n*U6;t.moveTo(0,r),t.lineTo(0,-r),t.moveTo(-o,-n),t.lineTo(o,n),t.moveTo(-o,n),t.lineTo(o,-n)}};var $n={draw(t,e){let r=ot(e/kn);t.moveTo(r,0),t.arc(0,0,r,0,wo)}};var ia={draw(t,e){let r=ot(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}};var xg=ot(1/3),G6=xg*2,aa={draw(t,e){let r=ot(e/G6),n=r*xg;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}};var fa={draw(t,e){let r=ot(e)*.62625;t.moveTo(0,-r),t.lineTo(r,0),t.lineTo(0,r),t.lineTo(-r,0),t.closePath()}};var ua={draw(t,e){let r=ot(e-bo(e/7,2))*.87559;t.moveTo(-r,0),t.lineTo(r,0),t.moveTo(0,r),t.lineTo(0,-r)}};var sa={draw(t,e){let r=ot(e),n=-r/2;t.rect(n,n,r,r)}};var ca={draw(t,e){let r=ot(e)*.4431;t.moveTo(r,r),t.lineTo(r,-r),t.lineTo(-r,-r),t.lineTo(-r,r),t.closePath()}};var H6=.8908130915292852,yg=na(kn/10)/na(7*kn/10),W6=na(wo/10)*yg,X6=-ud(wo/10)*yg,la={draw(t,e){let r=ot(e*H6),n=W6*r,o=X6*r;t.moveTo(0,-r),t.lineTo(n,o);for(let i=1;i<5;++i){let a=wo*i/5,f=ud(a),u=na(a);t.lineTo(u*r,-f*r),t.lineTo(f*n-u*o,u*n+f*o)}t.closePath()}};var sd=ot(3),da={draw(t,e){let r=-ot(e/(sd*3));t.moveTo(0,r*2),t.lineTo(-sd*r,-r),t.lineTo(sd*r,-r),t.closePath()}};var V6=ot(3),pa={draw(t,e){let r=ot(e)*.6824,n=r/2,o=r*V6/2;t.moveTo(0,-r),t.lineTo(o,n),t.lineTo(-o,n),t.closePath()}};var be=-.5,we=ot(3)/2,cd=1/ot(12),j6=(cd/2+1)*3,ma={draw(t,e){let r=ot(e/j6),n=r/2,o=r*cd,i=n,a=r*cd+r,f=-i,u=a;t.moveTo(n,o),t.lineTo(i,a),t.lineTo(f,u),t.lineTo(be*n-we*o,we*n+be*o),t.lineTo(be*i-we*a,we*i+be*a),t.lineTo(be*f-we*u,we*f+be*u),t.lineTo(be*n+we*o,be*o-we*n),t.lineTo(be*i+we*a,be*a-we*i),t.lineTo(be*f+we*u,be*u-we*f),t.closePath()}};var vo={draw(t,e){let r=ot(e-bo(e/6,1.7))*.6189;t.moveTo(-r,-r),t.lineTo(r,r),t.moveTo(-r,r),t.lineTo(r,-r)}};var ps=[$n,ia,aa,sa,la,da,ma],ld=[$n,ua,vo,pa,oa,ca,fa];function Br(t,e,r){this.k=t,this.x=e,this.y=r}Br.prototype={constructor:Br,scale:function(t){return t===1?this:new Br(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Br(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var dd=new Br(1,0,0);pd.prototype=Br.prototype;function pd(t){for(;!t.__zoom;)if(!(t=t.parentNode))return dd;return t.__zoom}function $e(t){return t!=null&&!Number.isNaN(t)}function vr(t,e){return+$e(e)-+$e(t)||Kt(t,e)}function ha(t,e){return+$e(e)-+$e(t)||de(t,e)}function ms(t){return t!=null&&`${t}`!=""}function md(t){return isFinite(t)?t:NaN}function Mr(t){return t>0&&isFinite(t)?t:NaN}function hs(t){return t<0&&isFinite(t)?t:NaN}function gs(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;let r=t.getUTCHours(),n=t.getUTCMinutes(),o=t.getUTCSeconds(),i=t.getUTCMilliseconds();return`${Z6(t.getUTCFullYear(),4)}-${Sr(t.getUTCMonth()+1,2)}-${Sr(t.getUTCDate(),2)}${r||n||o||i?`T${Sr(r,2)}:${Sr(n,2)}${o||i?`:${Sr(o,2)}${i?`.${Sr(i,3)}`:""}`:""}Z`:""}`}function Z6(t){return t<0?`-${Sr(-t,6)}`:t>9999?`+${Sr(t,6)}`:Sr(t,4)}function Sr(t,e){return`${t}`.padStart(e,"0")}var Q6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function ga(t,e){return Q6.test(t+="")?new Date(t):typeof e=="function"?e(t):e}var So=1e3,Gr=So*60,Hr=Gr*60,Qe=Hr*24,Ze=Qe*7,Nn=Qe*30,Ur=Qe*365,hd=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",So],["5 seconds",5*So],["15 seconds",15*So],["30 seconds",30*So],["minute",Gr],["5 minutes",5*Gr],["15 minutes",15*Gr],["30 minutes",30*Gr],["hour",Hr],["3 hours",3*Hr],["6 hours",6*Hr],["12 hours",12*Hr],["day",Qe],["2 days",2*Qe],["week",Ze],["2 weeks",2*Ze],["month",Nn],["3 months",3*Nn],["6 months",6*Nn],["year",Ur],["2 years",2*Ur],["5 years",5*Ur],["10 years",10*Ur],["20 years",20*Ur],["50 years",50*Ur],["100 years",100*Ur]],gd=new Map([["second",So],["minute",Gr],["hour",Hr],["day",Qe],["monday",Ze],["tuesday",Ze],["wednesday",Ze],["thursday",Ze],["friday",Ze],["saturday",Ze],["sunday",Ze],["week",Ze],["month",Nn],["year",Ur]]),wg=new Map([["second",Rt],["minute",hr],["hour",xr],["day",ye],["monday",zr],["tuesday",Bf],["wednesday",Uf],["thursday",Xe],["friday",Gf],["saturday",Hf],["sunday",ie],["week",ie],["month",br],["year",Xt]]),xd=new Map([["second",Rt],["minute",gr],["hour",yr],["day",An],["monday",Yr],["tuesday",Wf],["wednesday",Xf],["thursday",Ve],["friday",Vf],["saturday",jf],["sunday",ae],["week",ae],["month",wr],["year",Vt]]),To=Symbol("intervalDuration"),ys=Symbol("intervalType");for(let[t,e]of wg)e[To]=gd.get(t),e[ys]="time";for(let[t,e]of xd)e[To]=gd.get(t),e[ys]="utc";var xa=[["year",Vt,"utc"],["month",wr,"utc"],["day",An,"utc",6*Nn],["hour",yr,"utc",3*Qe],["minute",gr,"utc",6*Hr],["second",Rt,"utc",30*Gr]],xs=[["year",Xt,"time"],["month",br,"time"],["day",ye,"time",6*Nn],["hour",xr,"time",3*Qe],["minute",hr,"time",6*Hr],["second",Rt,"time",30*Gr]],K6=[xa[0],xs[0],xa[1],xs[1],xa[2],xs[2],...xa.slice(3)];function vg(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let r=1,n=/^(?:(\d+)\s+)/.exec(e);switch(n&&(e=e.slice(n[0].length),r=+n[1]),e){case"quarter":e="month",r*=3;break;case"half":e="month",r*=6;break}let o=xd.get(e);if(!o)throw new Error(`unknown interval: ${t}`);if(r>1&&!o.every)throw new Error(`non-periodic interval: ${e}`);return[e,r]}function yd(t){return Mg(vg(t),"time")}function bd(t){return Mg(vg(t),"utc")}function Mg([t,e],r){let n=(r==="time"?wg:xd).get(t);return e>1&&(n=n.every(e),n[To]=gd.get(t)*e,n[ys]=r),n}function wd(t,e){if(!(e>1))return;let r=t[To];if(!hd.some(([,o])=>o===r)||r%Qe===0&&Qe<r&&r<Nn)return;let[n]=hd[ir(([,o])=>Math.log(o)).center(hd,Math.log(r*e))];return(t[ys]==="time"?yd:bd)(n)}function bg(t,e,r){let n=e==="time"?go:je;if(r==null)return n(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");let o=J6(r);switch(t){case"millisecond":return Mo(n(".%L"),n(":%M:%S"),o);case"second":return Mo(n(":%S"),n("%-I:%M"),o);case"minute":return Mo(n("%-I:%M"),n("%p"),o);case"hour":return Mo(n("%-I %p"),n("%b %-d"),o);case"day":return Mo(n("%-d"),n("%b"),o);case"month":return Mo(n("%b"),n("%Y"),o);case"year":return n("%Y")}throw new Error("unable to format time ticks")}function J6(t){return t==="left"||t==="right"?(e,r)=>`
${e}
${r}`:t==="top"?(e,r)=>`${r}
${e}`:(e,r)=>`${e}
${r}`}function t8(t){return t==="time"?xs:t==="utc"?xa:K6}function Sg(t,e,r){let n=Gt(qa(e,(o,i)=>Math.abs(i-o)));if(n<1e3)return bg("millisecond","utc",r);for(let[o,i,a,f]of t8(t)){if(n>f||o==="hour"&&!n)break;if(e.every(u=>i.floor(u)>=u))return bg(o,a,r)}}function Mo(t,e,r){return(n,o,i)=>{let a=t(n,o),f=e(n,o),u=o-Tr(i);return o!==u&&i[u]!==void 0&&f===e(i[u],u)?a:r(a,f)}}var ya=Object.getPrototypeOf(Uint8Array),e8=Object.prototype.toString,r8=Symbol("reindex");function fe(t,e,r){let n=typeof e;return n==="string"?Tg(t,i8(e),r):n==="function"?Tg(t,e,r):n==="number"||e instanceof Date||n==="boolean"?Mt(t,Wr(e),r):typeof(e==null?void 0:e.transform)=="function"?_g(e.transform(t),r):n8(_g(e,r),t==null?void 0:t[r8])}function n8(t,e){return e?vs(t,e):t}function Tg(t,e,r){return Mt(t,(r==null?void 0:r.prototype)instanceof ya?o8(e):e,r)}function _g(t,e){return e===void 0?$t(t):t instanceof e?t:e.prototype instanceof ya&&!(t instanceof ya)?e.from(t,vd):e.from(t)}function o8(t){return(e,r)=>vd(t(e,r))}var _o=[null],i8=t=>e=>e[t],Ag={transform:Je},ee={transform:t=>t};var Eg=()=>!0,Tt=t=>t==null?t:`${t}`,bt=t=>t==null?t:+t;var bs=t=>t?t[0]:void 0,Cg=t=>t?t[1]:void 0;var Wr=t=>()=>t;function kg(t){let e=+`${t}`.slice(1)/100;return(r,n)=>fr(r,e,n)}function ws(t){return t instanceof ya?t:Mt(t,vd,Float64Array)}function vd(t){return t==null?NaN:Number(t)}function $g(t){return Mt(t,a8)}function a8(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?ga(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function _r(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:ko(t)?[void 0,t]:[t,void 0]}function xt(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function Md(t,e,r){if(t!=null)return jt(t,e,r)}function jt(t,e,r){let n=`${t}`.toLowerCase();if(!r.includes(n))throw new Error(`invalid ${e}: ${t}`);return n}function $t(t){return t==null||t instanceof Array||t instanceof ya?t:Array.from(t)}function Mt(t,e,r=Array){return t==null?t:t instanceof r?t.map(e):r.from(t,e)}function ba(t,e=Array){return t instanceof e?t.slice():e.from(t)}function Ke(t){return(t==null?void 0:t.toString)===e8}function Ao(t){return Ke(t)&&(t.type!==void 0||t.domain!==void 0)}function Eo(t){return Ke(t)&&typeof t.transform!="function"}function Xr(t){return Eo(t)&&t.value===void 0&&t.channel===void 0}function Vr(t,e){return t===void 0&&e===void 0?[bs,Cg]:[t,e]}function Je(t){let e=t.length,r=new Uint32Array(e);for(let n=0;n<e;++n)r[n]=n;return r}function vs(t,e){return Mt(e,r=>t[r],t.constructor)}function Ng(t,e,r){return t.subarray?t.subarray(e,r):t.slice(e,r)}function Co(t){return t!==null&&typeof t=="object"?t.valueOf():t}function In(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function Ig(t,e){let r=Ms(t,e);return r&&(n=>$e(n)?r.floor(n):n)}function Ms(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);let r=Math.abs(t);return t<0?{floor:n=>Math.floor(n*r)/r,offset:n=>(n*r+1)/r,range:(n,o)=>an(Math.ceil(n*r),o*r).map(i=>i/r)}:{floor:n=>Math.floor(n/r)*r,offset:n=>n+r,range:(n,o)=>an(Math.ceil(n/r),o/r).map(i=>i*r)}}if(typeof t=="string")return(e==="time"?yd:bd)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function jr(t,e){if(t=Ms(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function Dg(t,e){if(t=jr(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Rg(t){return typeof(t==null?void 0:t.range)=="function"}function Zr(t){return t===void 0||Eo(t)?t:{value:t}}function Lg(t){return t==null?null:{transform:e=>fe(e,t,Float64Array),label:In(t)}}function ve(t){return t&&typeof t[Symbol.iterator]=="function"}function Ss(t){for(let e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function Sd(t){for(let e of t){if(e==null)continue;let r=typeof e;return r==="string"||r==="boolean"}}function Zt(t){for(let e of t)if(e!=null)return e instanceof Date}function Og(t){for(let e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&ga(e)}function Pg(t){for(let e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function Fg(t){for(let e of t)if(e!=null)return typeof e=="number"}function Ts(t,e){let r;for(let n of t)if(n!=null){if(!e(n))return!1;r=!0}return r}var f8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function ko(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||f8.has(t))}function qg(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Ot(t){return t==null||Dn(t)}function Dn(t){return/^\s*none\s*$/i.test(t)}function zg(t){return/^\s*round\s*$/i.test(t)}function _s(t,e){return Md(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Qr(t="middle"){return _s(t,"frameAnchor")}function Tr(t){if(t==null)return;let e=t[0],r=t[t.length-1];return de(e,r)}function Yg(t={},...e){let r=t;for(let n of e)for(let o in n)if(r[o]===void 0){let i=n[o];r===t?r={...r,[o]:i}:r[o]=i}return r}function u8(t){console.warn("named iterables are deprecated; please use an object instead");let e=new Set;return Object.fromEntries(Array.from(t,r=>{let{name:n}=r;if(n==null)throw new Error("missing name");let o=`${n}`;if(o==="__proto__")throw new Error(`illegal name: ${o}`);if(e.has(o))throw new Error(`duplicate name: ${o}`);return e.add(o),[n,r]}))}function Td(t){return ve(t)?u8(t):t}var Me=Symbol("position"),ue=Symbol("color"),Rn=Symbol("radius"),Ln=Symbol("length"),On=Symbol("opacity"),$o=Symbol("symbol"),Bg=Symbol("projection"),st=new Map([["x",Me],["y",Me],["fx",Me],["fy",Me],["r",Rn],["color",ue],["opacity",On],["symbol",$o],["length",Ln],["projection",Bg]]);function Ug(t){return t===Me||t===Bg}function Gg(t){return t===Me||t===Rn||t===Ln||t===On}var s8=Math.sqrt(3),c8=2/s8,l8={draw(t,e){let r=Math.sqrt(e/Math.PI),n=r*c8,o=n/2;t.moveTo(0,n),t.lineTo(r,o),t.lineTo(r,-o),t.lineTo(0,-n),t.lineTo(-r,-o),t.lineTo(-r,o),t.closePath()}},Hg=new Map([["asterisk",oa],["circle",$n],["cross",ia],["diamond",aa],["diamond2",fa],["hexagon",l8],["plus",ua],["square",sa],["square2",ca],["star",la],["times",vo],["triangle",da],["triangle2",pa],["wye",ma]]);function Wg(t){return t&&typeof t.draw=="function"}function Xg(t){return Wg(t)?!0:typeof t!="string"?!1:Hg.has(t.toLowerCase())}function No(t){if(t==null||Wg(t))return t;let e=Hg.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Ed({filter:t,sort:e,reverse:r,transform:n,initializer:o,...i}={},a){if(n===void 0&&(t!=null&&(n=Vg(t)),e!=null&&!Xr(e)&&(n=_d(n,Cd(e))),r&&(n=_d(n,jg))),a!=null&&o!=null)throw new Error("transforms cannot be applied after initializers");return{...i,...(e===null||Xr(e))&&{sort:e},transform:_d(n,a)}}function Ar({filter:t,sort:e,reverse:r,initializer:n,...o}={},i){return n===void 0&&(t!=null&&(n=Vg(t)),e!=null&&!Xr(e)&&(n=Ad(n,Cd(e))),r&&(n=Ad(n,jg))),{...o,...(e===null||Xr(e))&&{sort:e},initializer:Ad(n,i)}}function _d(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(r,n,o){return{data:r,facets:n}=t.call(this,r,n,o),e.call(this,$t(r),n,o)}}function Ad(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(r,n,o,...i){let a,f,u,c,s,d;return{data:f=r,facets:u=n,channels:a}=t.call(this,r,n,o,...i),{data:s=f,facets:d=u,channels:c}=e.call(this,f,u,{...o,...a},...i),{data:s,facets:d,channels:{...a,...c}}}}function d8(t,e){return(t.initializer!=null?Ar:Ed)(t,e)}function Vg(t){return(e,r)=>{let n=fe(e,t);return{data:e,facets:r.map(o=>o.filter(i=>n[i]))}}}function jg(t,e){return{data:t,facets:e.map(r=>r.slice().reverse())}}function Zg(t,{sort:e,...r}={}){return{...(Eo(t)&&t.channel!==void 0?Ar:d8)(r,Cd(t)),sort:Xr(e)?e:null}}function Cd(t){return(typeof t=="function"&&t.length!==1?p8:m8)(t)}function p8(t){return(e,r)=>{let n=(o,i)=>t(e[o],e[i]);return{data:e,facets:r.map(o=>o.slice().sort(n))}}}function m8(t){let e,r;({channel:e,value:t,order:r}={...Zr(t)});let n=e==null?void 0:e.startsWith("-");if(n&&(e=e.slice(1)),r===void 0&&(r=n?ha:vr),typeof r!="function")switch(`${r}`.toLowerCase()){case"ascending":r=vr;break;case"descending":r=ha;break;default:throw new Error(`invalid order: ${r}`)}return(o,i,a)=>{let f;if(e===void 0)f=fe(o,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[e],!f)return{};f=f.value}let u=(c,s)=>r(f[c],f[s]);return{data:o,facets:i.map(c=>c.slice().sort(u))}}}function t1(t,e,r=h8){if(t==null)return r(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Ke(t))return g8(t);if(typeof t=="function")return x8(t);if(/^p\d{2}$/i.test(t))return Er(kg(t));switch(`${t}`.toLowerCase()){case"first":return b8;case"last":return w8;case"identity":return y8;case"count":return Kg;case"distinct":return v8;case"sum":return e==null?Kg:M8;case"proportion":return Jg(e,"data");case"proportion-facet":return Jg(e,"facet");case"deviation":return Er(Ia);case"min":return Er(De);case"min-index":return Er(La);case"max":return Er(Gt);case"max-index":return Er(Ra);case"mean":return Qg(Pa);case"median":return Qg(on);case"variance":return Er(Yn);case"mode":return Er(Fa)}return r(t)}function h8(t){throw new Error(`invalid reduce: ${t}`)}function g8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function x8(t){return{reduceIndex(e,r,n){return t(vs(r,e),n)}}}function Er(t){return{reduceIndex(e,r){return t(e,n=>r[n])}}}function Qg(t){return{reduceIndex(e,r){let n=t(e,o=>r[o]);return Zt(r)?new Date(n):n}}}var y8={reduceIndex(t,e){return vs(e,t)}},b8={reduceIndex(t,e){return e[t[0]]}};var w8={reduceIndex(t,e){return e[t[t.length-1]]}},Kg={label:"Frequency",reduceIndex(t){return t.length}},v8={label:"Distinct",reduceIndex(t,e){let r=new Te;for(let n of t)r.add(e[n]);return r.size}},M8=Er(fn);function Jg(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(r,n,o=1)=>r.length/o}:{scope:e,reduceIndex:(r,n,o=1)=>fn(r,i=>n[i])/o}}function Io(t,{scale:e,type:r,value:n,filter:o,hint:i,label:a=In(n)},f){return i===void 0&&typeof(n==null?void 0:n.transform)=="function"&&(i=n.hint),$d(f,{scale:e,type:r,value:fe(t,n),label:a,filter:o,hint:i})}function r1(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,Io(e,n,r)]))}function n1(t,e){let r=Object.fromEntries(Object.entries(t).map(([n,{scale:o,value:i}])=>{let a=o==null?null:e[o];return[n,a==null?i:Mt(i,a)]}));return r.channels=t,r}function $d(t,e){let{scale:r,value:n}=e;if(r===!0||r==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=r!==!0&&Ts(n,ko)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=r!==!0&&Ts(n,qg)?null:"opacity";break;case"symbol":r!==!0&&Ts(n,Xg)?(e.scale=null,e.value=Mt(n,No)):e.scale="symbol";break;default:e.scale=st.has(t)?t:null;break}else if(r===!1)e.scale=null;else if(r!=null&&!st.has(r))throw new Error(`unknown scale: ${r}`);return e}function o1(t,e,r,n,o){let{order:i,reverse:a,reduce:f=!0,limit:u}=o;for(let c in o){if(!st.has(c))continue;let{value:s,order:d=i,reverse:l=a,reduce:p=f,limit:m=u}=Zr(o[c]),g=s==null?void 0:s.startsWith("-");if(g&&(s=s.slice(1)),d=d===void 0?g!==(s==="width"||s==="height")?a1:i1:_8(d),p==null||p===!1)continue;let h=c==="fx"||c==="fy"?T8(e,n[c]):S8(r,c);if(!h)throw new Error(`missing channel for scale: ${c}`);let b=h.value,[x=0,M=1/0]=ve(m)?m:m<0?[m]:[0,m];if(s==null)h.domain=()=>{let y=Array.from(new Te(b));return l&&(y=y.reverse()),(x!==0||M!==1/0)&&(y=y.slice(x,M)),y};else{let y=s==="data"?t:s==="height"?e1(r,"y1","y2"):s==="width"?e1(r,"x1","x2"):kd(r,s,s==="y"?"y2":s==="x"?"x2":void 0),v=t1(p===!0?"max":p,y);h.domain=()=>{let w=ic(Je(b),S=>v.reduceIndex(S,y),S=>b[S]);return d&&w.sort(d),l&&w.reverse(),(x!==0||M!==1/0)&&(w=w.slice(x,M)),w.map(bs)}}}}function S8(t,e){for(let r in t){let n=t[r];if(n.scale===e)return n}}function T8(t,e){let r=t.original;if(r===t)return e;let n=e.value,o=e.value=[];for(let i=0;i<r.length;++i){let a=n[r[i][0]];for(let f of t[i])o[f]=a}return e}function e1(t,e,r){let n=kd(t,e),o=kd(t,r);return Mt(o,(i,a)=>Math.abs(i-n[a]),Float64Array)}function kd(t,e,r){let n=t[e];if(!n&&r!==void 0&&(n=t[r]),n)return n.value;throw new Error(`missing channel: ${e}`)}function _8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return i1;case"descending":return a1}throw new Error(`invalid order: ${t}`)}function i1([t,e],[r,n]){return vr(e,n)||vr(t,r)}function a1([t,e],[r,n]){return ha(e,n)||vr(t,r)}function Nd(t,e){let r=t[e];if(r){for(;r.source;)r=r.source;return r.source===null?null:r}}function As(t){let e,r;return(...n)=>(((r==null?void 0:r.length)!==n.length||r.some((o,i)=>o!==n[i]))&&(r=n,e=t(...n)),e)}var A8=As(t=>new Intl.NumberFormat(t)),RF=As((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}})),LF=As((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));function E8(t="en-US"){let e=A8(t);return r=>r!=null&&!isNaN(r)?e.format(r):void 0}function C8(t){return gs(t,"Invalid Date")}function k8(t="en-US"){let e=E8(t);return r=>(r instanceof Date?C8:typeof r=="number"?e:Tt)(r)}var tr=k8();var Id=0,Dd;function f1(){let t=Id;return Id=0,Dd=void 0,t}function Se(t){t!==Dd&&(Dd=t,console.warn(t),++Id)}var Yt=(typeof window!="undefined"?window.devicePixelRatio>1:typeof it=="undefined")?0:.5,$8=0;function u1(){return`plot-clip-${++$8}`}function s1(t,{title:e,href:r,ariaLabel:n,ariaDescription:o,ariaHidden:i,target:a,fill:f,fillOpacity:u,stroke:c,strokeWidth:s,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:p,strokeMiterlimit:m,strokeDasharray:g,strokeDashoffset:h,opacity:b,mixBlendMode:x,imageFilter:M,paintOrder:y,pointerEvents:v,shapeRendering:w,channels:S},{ariaLabel:C,fill:k="currentColor",fillOpacity:I,stroke:T="none",strokeOpacity:D,strokeWidth:R,strokeLinecap:O,strokeLinejoin:_,strokeMiterlimit:F,paintOrder:Q}){k===null&&(f=null,u=null),T===null&&(c=null,d=null),Ot(k)?!Ot(T)&&(!Ot(f)||S!=null&&S.fill)&&(T="none"):Ot(T)&&(!Ot(c)||S!=null&&S.stroke)&&(k="none");let[j,K]=_r(f,k),[yt,at]=xt(u,I),[$,q]=_r(c,T),[Z,H]=xt(d,D),[W,P]=xt(b);Dn(q)||(s===void 0&&(s=R),p===void 0&&(p=O),l===void 0&&(l=_),m===void 0&&!zg(l)&&(m=F),!Dn(K)&&y===void 0&&(y=Q));let[X,E]=xt(s);return k!==null&&(t.fill=St(K,"currentColor"),t.fillOpacity=wa(at,1)),T!==null&&(t.stroke=St(q,"none"),t.strokeWidth=wa(E,1),t.strokeOpacity=wa(H,1),t.strokeLinejoin=St(l,"miter"),t.strokeLinecap=St(p,"butt"),t.strokeMiterlimit=wa(m,4),t.strokeDasharray=St(g,"none"),t.strokeDashoffset=St(h,"0")),t.target=Tt(a),t.ariaLabel=Tt(C),t.ariaDescription=Tt(o),t.ariaHidden=Tt(i),t.opacity=wa(P,1),t.mixBlendMode=St(x,"normal"),t.imageFilter=St(M,"none"),t.paintOrder=St(y,"normal"),t.pointerEvents=St(v,"auto"),t.shapeRendering=St(w,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:r,optional:!0,filter:null},ariaLabel:{value:n,optional:!0,filter:null},fill:{value:j,scale:"auto",optional:!0},fillOpacity:{value:yt,scale:"auto",optional:!0},stroke:{value:$,scale:"auto",optional:!0},strokeOpacity:{value:Z,scale:"auto",optional:!0},strokeWidth:{value:X,optional:!0},opacity:{value:W,scale:"auto",optional:!0}}}function N8(t,e){e&&t.filter(r=>ms(e[r])).append("title").call(I8,e)}function I8(t,e){e&&t.text(r=>tr(e[r]))}function Ne(t,{target:e,tip:r},{ariaLabel:n,title:o,fill:i,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:d}){n&&et(t,"aria-label",l=>n[l]),i&&et(t,"fill",l=>i[l]),a&&et(t,"fill-opacity",l=>a[l]),f&&et(t,"stroke",l=>f[l]),u&&et(t,"stroke-opacity",l=>u[l]),c&&et(t,"stroke-width",l=>c[l]),s&&et(t,"opacity",l=>s[l]),d&&R8(t,l=>d[l],e),r||N8(t,o)}function Es(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=jt(t,"clip",["frame","sphere"])),t}function D8(t,e,r,n){let o,{clip:i=n.clip}=e;switch(i){case"frame":{let{width:a,height:f,marginLeft:u,marginRight:c,marginTop:s,marginBottom:d}=r,l=u1();o=`url(#${l})`,t=mt("svg:g",n).call(p=>p.append("svg:clipPath").attr("id",l).append("rect").attr("x",u).attr("y",s).attr("width",a-c-u).attr("height",f-s-d)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{let{projection:a}=n;if(!a)throw new Error('the "sphere" clip option requires a projection');let f=u1();o=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",$i(a)({type:"Sphere"}));break}}et(t,"aria-label",e.ariaLabel),et(t,"aria-description",e.ariaDescription),et(t,"aria-hidden",e.ariaHidden),et(t,"clip-path",o)}function se(t,e,r,n){D8(t,e,r,n),et(t,"fill",e.fill),et(t,"fill-opacity",e.fillOpacity),et(t,"stroke",e.stroke),et(t,"stroke-width",e.strokeWidth),et(t,"stroke-opacity",e.strokeOpacity),et(t,"stroke-linejoin",e.strokeLinejoin),et(t,"stroke-linecap",e.strokeLinecap),et(t,"stroke-miterlimit",e.strokeMiterlimit),et(t,"stroke-dasharray",e.strokeDasharray),et(t,"stroke-dashoffset",e.strokeDashoffset),et(t,"shape-rendering",e.shapeRendering),et(t,"filter",e.imageFilter),et(t,"paint-order",e.paintOrder);let{pointerEvents:o=n.pointerSticky===!1?"none":void 0}=e;et(t,"pointer-events",o)}function ce(t,e){L8(t,"mix-blend-mode",e.mixBlendMode),et(t,"opacity",e.opacity)}function R8(t,e,r){t.each(function(n){let o=e(n);if(o!=null){let i=this.ownerDocument.createElementNS(Re.svg,"a");i.setAttribute("fill","inherit"),i.setAttributeNS(Re.xlink,"href",o),r!=null&&i.setAttribute("target",r),this.parentNode.insertBefore(i,this).appendChild(this)}})}function et(t,e,r){r!=null&&t.attr(e,r)}function L8(t,e,r){r!=null&&t.style(e,r)}function le(t,e,{x:r,y:n},o=Yt,i=Yt){o+=e.dx,i+=e.dy,r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),(o||i)&&t.attr("transform",`translate(${o},${i})`)}function St(t,e){if((t=Tt(t))!==e)return t}function wa(t,e){if((t=bt(t))!==e)return t}var O8=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Do(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!O8.test(t))throw new Error(`invalid class name: ${t}`);return t}function Ro(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(let r of t)Object.assign(r.style,e)}function er({frameAnchor:t},{width:e,height:r,marginTop:n,marginRight:o,marginBottom:i,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-o:(a+e-o)/2,/^top/.test(t)?n:/^bottom/.test(t)?r-i:(n+r-i)/2]}function Lo(t={}){let{document:e=typeof window!="undefined"?window.document:void 0,clip:r}=t;return{document:e,clip:Es(r)}}function mt(t,{document:e}){return rt(sr(t).call(e.documentElement))}var l1=Math.PI,Cr=2*l1,c1=.618;function d1({projection:t,inset:e=0,insetTop:r=e,insetRight:n=e,insetBottom:o=e,insetLeft:i=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,c="frame";if(Ke(t)){let v;if({type:t,domain:u,inset:v,insetTop:r=v!==void 0?v:r,insetRight:n=v!==void 0?v:n,insetBottom:o=v!==void 0?v:o,insetLeft:i=v!==void 0?v:i,clip:c=c,...f}=t,t==null)return}typeof t!="function"&&({type:t}=p1(t));let{width:s,height:d,marginLeft:l,marginRight:p,marginTop:m,marginBottom:g}=a,h=s-l-p-i-n,b=d-m-g-r-o;if(t=t==null?void 0:t({width:h,height:b,clip:c,...f}),t==null)return;c=P8(c,l,m,s-p,d-g);let x=l+i,M=m+r,y;if(u!=null){let[[v,w],[S,C]]=$i(t).bounds(u),k=Math.min(h/(S-v),b/(C-w));k>0?(x-=(k*(v+S)-h)/2,M-=(k*(w+C)-b)/2,y=Ni({point(I,T){this.stream.point(I*k+x,T*k+M)}})):Se("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y!=null||(y=x===0&&M===0?m1():Ni({point(v,w){this.stream.point(v+x,w+M)}})),{stream:v=>t.stream(y.stream(c(v)))}}function p1(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Ie(hl,.7463,.4673);case"albers":return Cs(Di,.7463,.4673);case"azimuthal-equal-area":return Ie(xl,4,4);case"azimuthal-equidistant":return Ie(bl,Cr,Cr);case"conic-conformal":return Cs(Ml,Cr,Cr);case"conic-equal-area":return Cs(Fr,6.1702,2.9781);case"conic-equidistant":return Cs(Tl,7.312,3.6282);case"equal-earth":return Ie(Al,5.4133,2.6347);case"equirectangular":return Ie(Sl,Cr,l1);case"gnomonic":return Ie(Cl,3.4641,3.4641);case"identity":return{type:m1};case"reflect-y":return{type:F8};case"mercator":return Ie(wl,Cr,Cr);case"orthographic":return Ie($l,2,2);case"stereographic":return Ie(Il,2,2);case"transverse-mercator":return Ie(Rl,Cr,Cr);default:throw new Error(`unknown projection type: ${t}`)}}function P8(t,e,r,n,o){if(t===!1||t==null||typeof t=="number")return i=>i;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return oo(e,r,n,o);default:throw new Error(`unknown projection clip type: ${t}`)}}function Ie(t,e,r){return{type:({width:n,height:o,rotate:i,precision:a=.15,clip:f})=>{var c,s,d;let u=t();return a!=null&&((c=u.precision)==null||c.call(u,a)),i!=null&&((s=u.rotate)==null||s.call(u,i)),typeof f=="number"&&((d=u.clipAngle)==null||d.call(u,f)),u.scale(Math.min(n/e,o/r)),u.translate([n/2,o/2]),u},aspectRatio:r/e}}function Cs(t,e,r){let{type:n,aspectRatio:o}=Ie(t,e,r);return{type:i=>{let{parallels:a,domain:f,width:u,height:c}=i,s=n(i);return a!=null&&(s.parallels(a),f===void 0&&s.fitSize([u,c],{type:"Sphere"})),s},aspectRatio:o}}var m1=Wr({stream:t=>t}),F8=Wr(Ni({point(t,e){this.stream.point(t,-e)}}));function h1(t,e,r,n){let o=r[t],i=r[e],a=o.length,f=r[t]=new Float64Array(a).fill(NaN),u=r[e]=new Float64Array(a).fill(NaN),c,s=n.stream({point(d,l){f[c]=d,u[c]=l}});for(c=0;c<a;++c)s.point(o[c],i[c])}function g1({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Ke(t)&&(t=t.type),t!=null)}function x1(t){if(typeof(t==null?void 0:t.stream)=="function")return c1;if(Ke(t)&&(t=t.type),t!=null){if(typeof t!="function"){let{aspectRatio:e}=p1(t);if(e)return e}return c1}}function y1(t){let e=[],r=[],n={scale:"x",value:e},o={scale:"y",value:r},i={point(a,f){e.push(a),r.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(let a of t.value)Ce(a,i);return[n,o]}var q8=["#4269d0","#efb118","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e","#9498a0"],S1=new Map([["accent",Jl],["category10",Kl],["dark2",td],["observable10",q8],["paired",ed],["pastel1",rd],["pastel2",nd],["set1",od],["set2",id],["set3",ad],["tableau10",fd]]);function T1(t){return t!=null&&S1.has(`${t}`.toLowerCase())}var b1=new Map([...S1,["brbg",kr(nu,ou)],["prgn",kr(iu,au)],["piyg",kr(fu,uu)],["puor",kr(su,cu)],["rdbu",kr(ea,xo)],["rdgy",kr(lu,du)],["rdylbu",kr(ra,yo)],["rdylgn",kr(pu,mu)],["spectral",kr(hu,gu)],["burd",w1(ea,xo)],["buylrd",w1(ra,yo)],["blues",Pt(Yu,Bu)],["greens",Pt(Uu,Gu)],["greys",Pt(Hu,Wu)],["oranges",Pt(Qu,Ku)],["purples",Pt(Xu,Vu)],["reds",Pt(ju,Zu)],["turbo",$r(fs)],["viridis",$r(ss)],["magma",$r(cs)],["inferno",$r(ls)],["plasma",$r(ds)],["cividis",$r(Ju)],["cubehelix",$r(ts)],["warm",$r(rs)],["cool",$r(ns)],["bugn",Pt(xu,yu)],["bupu",Pt(bu,wu)],["gnbu",Pt(vu,Mu)],["orrd",Pt(Su,Tu)],["pubu",Pt(Eu,Cu)],["pubugn",Pt(_u,Au)],["purd",Pt(ku,$u)],["rdpu",Pt(Nu,Iu)],["ylgn",Pt(Lu,Ou)],["ylgnbu",Pt(Du,Ru)],["ylorbr",Pt(Pu,Fu)],["ylorrd",Pt(qu,zu)],["rainbow",v1(os)],["sinebow",v1(as)]]);function Pt(t,e){return({length:r})=>r===1?[t[3][1]]:r===2?[t[3][1],t[3][2]]:(r=Math.max(3,Math.floor(r)),r>9?Ht(e,r):t[r])}function kr(t,e){return({length:r})=>r===2?[t[3][0],t[3][2]]:(r=Math.max(3,Math.floor(r)),r>11?Ht(e,r):t[r])}function w1(t,e){return({length:r})=>r===2?[t[3][2],t[3][0]]:(r=Math.max(3,Math.floor(r)),r>11?Ht(n=>e(1-n),r):t[r].slice().reverse())}function $r(t){return({length:e})=>Ht(t,Math.max(2,Math.floor(e)))}function v1(t){return({length:e})=>Ht(t,Math.floor(e)+1).slice(0,-1)}function Rd(t){let e=`${t}`.toLowerCase();if(!b1.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return b1.get(e)}function va(t,e){let r=Rd(t),n=typeof r=="function"?r({length:e}):r;return n.length!==e?n.slice(0,e):n}function _1(t,e="greys"){let r=new Set,[n,o]=va(e,2);for(let i of t)if(i!=null)if(i===!0)r.add(o);else if(i===!1)r.add(n);else return;return[...r]}var M1=new Map([["brbg",ou],["prgn",au],["piyg",uu],["puor",cu],["rdbu",xo],["rdgy",du],["rdylbu",yo],["rdylgn",mu],["spectral",gu],["burd",t=>xo(1-t)],["buylrd",t=>yo(1-t)],["blues",Bu],["greens",Gu],["greys",Wu],["purples",Vu],["reds",Zu],["oranges",Ku],["turbo",fs],["viridis",ss],["magma",cs],["inferno",ls],["plasma",ds],["cividis",Ju],["cubehelix",ts],["warm",rs],["cool",ns],["bugn",yu],["bupu",wu],["gnbu",Mu],["orrd",Tu],["pubugn",Au],["pubu",Cu],["purd",$u],["rdpu",Iu],["ylgnbu",Ru],["ylgn",Ou],["ylorbr",Fu],["ylorrd",zu],["rainbow",os],["sinebow",as]]);function Oo(t){let e=`${t}`.toLowerCase();if(!M1.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return M1.get(e)}var z8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function A1(t){return t!=null&&z8.has(`${t}`.toLowerCase())}var Od=t=>e=>t(1-e),Ld=[0,1],E1=new Map([["number",pt],["rgb",he],["hsl",Ic],["hcl",Dc],["lab",ef]]);function Pd(t){let e=`${t}`.toLowerCase();if(!E1.has(e))throw new Error(`unknown interpolator: ${e}`);return E1.get(e)}function Fo(t,e,r,{type:n,nice:o,clamp:i,zero:a,domain:f=L1(t,r),unknown:u,round:c,scheme:s,interval:d,range:l=st.get(t)===Rn?G8(r,f):st.get(t)===Ln?H8(r,f):st.get(t)===On?Ld:void 0,interpolate:p=st.get(t)===ue?s==null&&l!==void 0?he:Oo(s!==void 0?s:n==="cyclical"?"rainbow":"turbo"):c?pn:pt,reverse:m}){if(d=jr(d,n),(n==="cyclical"||n==="sequential")&&(n="linear"),typeof p!="function"&&(p=Pd(p)),m=!!m,l!==void 0){let g=(f=$t(f)).length,h=(l=$t(l)).length;if(g!==h){if(p.length===1)throw new Error("invalid piecewise interpolator");p=Fe(p,l),l=void 0}}if(p.length===1?(m&&(p=Od(p),m=!1),l===void 0&&(l=Float64Array.from(f,(g,h)=>h/(f.length-1)),l.length===2&&(l=Ld)),e.interpolate((l===Ld?Wr:Ma)(p))):e.interpolate(p),a){let[g,h]=Ut(f);(g>0||h<0)&&(f=ba(f),Tr(f)!==Math.sign(g)?f[f.length-1]=0:f[0]=0)}return m&&(f=Ir(f)),e.domain(f).unknown(u),o&&(e.nice(Y8(o,n)),f=e.domain()),l!==void 0&&e.range(l),i&&e.clamp(i),{type:n,domain:f,range:l,scale:e,interpolate:p,interval:d}}function Y8(t,e){return t===!0?void 0:typeof t=="number"?t:Dg(t,e)}function C1(t,e,r){return Fo(t,Mn(),e,r)}function k1(t,e,r){return Fd(t,e,{...r,exponent:.5})}function Fd(t,e,{exponent:r=1,...n}){return Fo(t,Hi().exponent(r),e,{...n,type:"pow"})}function $1(t,e,{base:r=10,domain:n=W8(e),...o}){return Fo(t,Ui().base(r),e,{...o,domain:n})}function N1(t,e,{constant:r=1,...n}){return Fo(t,Gi().constant(r),e,n)}function I1(t,e,{range:r,quantiles:n=r===void 0?5:(r=[...r]).length,n:o=n,scheme:i="rdylbu",domain:a=X8(e),unknown:f,interpolate:u,reverse:c}){return r===void 0&&(r=u!==void 0?Ht(u,o):st.get(t)===ue?va(i,o):void 0),a.length>0&&(a=Wi(a,r===void 0?{length:o}:r).quantiles()),ks(t,e,{domain:a,range:r,reverse:c,unknown:f})}function D1(t,e,{range:r,n=r===void 0?5:(r=[...r]).length,scheme:o="rdylbu",domain:i=L1(t,e),unknown:a,interpolate:f,reverse:u}){let[c,s]=Ut(i),d;return r===void 0?(d=ar(c,s,n),d[0]<=c&&d.splice(0,1),d[d.length-1]>=s&&d.pop(),n=d.length+1,r=f!==void 0?Ht(f,n):st.get(t)===ue?va(o,n):void 0):(d=Ht(pt(c,s),n+1).slice(1,-1),c instanceof Date&&(d=d.map(l=>new Date(l)))),Tr($t(i))<0&&d.reverse(),ks(t,e,{domain:d,range:r,reverse:u,unknown:a})}function ks(t,e,{domain:r=[0],unknown:n,scheme:o="rdylbu",interpolate:i,range:a=i!==void 0?Ht(i,r.length+1):st.get(t)===ue?va(o,r.length+1):void 0,reverse:f}){r=$t(r);let u=Tr(r);if(!isNaN(u)&&!B8(r,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=Ir(a)),{type:"threshold",scale:Xi(u<0?Ir(r):r,a===void 0?[]:a).unknown(n),domain:r,range:a}}function B8(t,e){for(let r=1,n=t.length,o=t[0];r<n;++r){let i=de(o,o=t[r]);if(i!==0&&i!==e)return!1}return!0}function R1(t){return{type:"identity",scale:Gg(st.get(t))?Yi():e=>e}}function Po(t,e=md){return t.length?[De(t,({value:r})=>r===void 0?r:De(r,e)),Gt(t,({value:r})=>r===void 0?r:Gt(r,e))]:[0,1]}function L1(t,e){let r=st.get(t);return(r===Rn||r===On||r===Ln?U8:Po)(e)}function U8(t){return[0,t.length?Gt(t,({value:e})=>e===void 0?e:Gt(e,md)):1]}function G8(t,e){let r=t.find(({radius:a})=>a!==void 0);if(r!==void 0)return[0,r.radius];let n=fr(t,.5,({value:a})=>a===void 0?NaN:fr(a,.25,Mr)),o=e.map(a=>3*Math.sqrt(a/n)),i=30/Gt(o);return i<1?o.map(a=>a*i):o}function H8(t,e){let r=on(t,({value:i})=>i===void 0?NaN:on(i,Math.abs)),n=e.map(i=>12*i/r),o=60/Gt(n);return o<1?n.map(i=>i*o):n}function W8(t){for(let{value:e}of t)if(e!==void 0)for(let r of e){if(r>0)return Po(t,Mr);if(r<0)return Po(t,hs)}return[1,10]}function X8(t){let e=[];for(let{value:r}of t)if(r!==void 0)for(let n of r)e.push(n);return e}function Ma(t){return(e,r)=>n=>t(e+n*(r-e))}function $s(t,e,r,n,{type:o,nice:i,clamp:a,domain:f=Po(n),unknown:u,pivot:c=0,scheme:s,range:d,symmetric:l=!0,interpolate:p=st.get(t)===ue?s==null&&d!==void 0?he:Oo(s!==void 0?s:"rdbu"):pt,reverse:m}){c=+c,f=$t(f);let[g,h]=f;if(f.length>2&&Se(`Warning: the diverging ${t} scale domain contains extra elements.`),de(g,h)<0&&([g,h]=[h,g],m=!m),g=Math.min(g,c),h=Math.max(h,c),typeof p!="function"&&(p=Pd(p)),d!==void 0&&(p=p.length===1?Ma(p)(...d):Fe(p,d)),m&&(p=Od(p)),l){let b=r.apply(c),x=b-r.apply(g),M=r.apply(h)-b;x<M?g=r.invert(b-M):x>M&&(h=r.invert(b+x))}return e.domain([g,c,h]).unknown(u).interpolator(p),a&&e.clamp(a),i&&e.nice(i),{type:o,domain:[g,h],pivot:c,interpolate:p,scale:e}}function O1(t,e,r){return $s(t,ta(),V8,e,r)}function P1(t,e,r){return qd(t,e,{...r,exponent:.5})}function qd(t,e,{exponent:r=1,...n}){return $s(t,ru().exponent(r=+r),Q8(r),e,{...n,type:"diverging-pow"})}function F1(t,e,{base:r=10,pivot:n=1,domain:o=Po(e,n<0?hs:Mr),...i}){return $s(t,tu().base(r=+r),j8,e,{domain:o,pivot:n,...i})}function q1(t,e,{constant:r=1,...n}){return $s(t,eu().constant(r=+r),K8(r),e,n)}var V8={apply(t){return t},invert(t){return t}},j8={apply:Math.log,invert:Math.exp},Z8={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function Q8(t){return t===.5?Z8:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function K8(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function z1(t,e,r,n){return Fo(t,e,r,n)}function Y1(t,e,r){return z1(t,Qf(),e,r)}function B1(t,e,r){return z1(t,Kf(),e,r)}var qo=Symbol("ordinal");function G1(t,e,r,{type:n,interval:o,domain:i,range:a,reverse:f,hint:u}){return o=jr(o,n),i===void 0&&(i=j1(r,o,t)),(n==="categorical"||n===qo)&&(n="ordinal"),f&&(i=Ir(i)),i=e.domain(i).domain(),a!==void 0&&(typeof a=="function"&&(a=a(i)),e.range(a)),{type:n,domain:i,range:a,scale:e,hint:u,interval:o}}function H1(t,e,{type:r,interval:n,domain:o,range:i,scheme:a,unknown:f,...u}){n=jr(n,r),o===void 0&&(o=j1(e,n,t));let c;if(st.get(t)===$o)c=J8(e),i=i===void 0?t5(c):Mt(i,No);else if(st.get(t)===ue&&(i===void 0&&(r==="ordinal"||r===qo)&&(i=_1(o,a),i!==void 0&&(a=void 0)),a===void 0&&i===void 0&&(a=r==="ordinal"?"turbo":"observable10"),a!==void 0))if(i!==void 0){let s=Oo(a),d=i[0],l=i[1]-i[0];i=({length:p})=>Ht(m=>s(d+l*m),p)}else i=Rd(a);if(f===qi)throw new Error(`implicit unknown on ${t} scale is not supported`);return G1(t,wn().unknown(f),e,{...u,type:r,domain:o,range:i,hint:c})}function W1(t,e,{align:r=.5,padding:n=.5,...o}){return V1(Ll().align(r).padding(n),e,o,t)}function X1(t,e,{align:r=.5,padding:n=.1,paddingInner:o=n,paddingOuter:i=t==="fx"||t==="fy"?0:n,...a}){return V1(qr().align(r).paddingInner(o).paddingOuter(i),e,a,t)}function V1(t,e,r,n){let{round:o}=r;return o!==void 0&&t.round(o=!!o),t=G1(n,t,e,r),t.round=o,t}function j1(t,e,r){let n=new Te;for(let{value:o,domain:i}of t){if(i!==void 0)return i();if(o!==void 0)for(let a of o)n.add(a)}if(e!==void 0){let[o,i]=Ut(n).map(e.floor,e);return e.range(o,e.offset(i))}if(n.size>1e4&&st.get(r)===Me)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return Qo(n,vr)}function U1(t,e){let r;for(let{hint:n}of t){let o=n==null?void 0:n[e];if(o!==void 0){if(r===void 0)r=o;else if(r!==o)return}}return r}function J8(t){return{fill:U1(t,"fill"),stroke:U1(t,"stroke")}}function t5(t){return Ot(t.fill)?ld:ps}function Sa(t,{label:e,inset:r=0,insetTop:n=r,insetRight:o=r,insetBottom:i=r,insetLeft:a=r,round:f,nice:u,clamp:c,zero:s,align:d,padding:l,projection:p,facet:{label:m=e}={},...g}={}){let h={};for(let[b,x]of t){let M=g[b],y=n5(b,x,{round:st.get(b)===Me?f:void 0,nice:u,clamp:c,zero:s,align:d,padding:l,projection:p,...M});if(y){let{label:v=b==="fx"||b==="fy"?m:e,percent:w,transform:S,inset:C,insetTop:k=C!==void 0?C:b==="y"?n:0,insetRight:I=C!==void 0?C:b==="x"?o:0,insetBottom:T=C!==void 0?C:b==="y"?i:0,insetLeft:D=C!==void 0?C:b==="x"?a:0}=M||{};if(S==null)S=void 0;else if(typeof S!="function")throw new Error("invalid scale transform; not a function");y.percent=!!w,y.label=v===void 0?e5(x,y):v,y.transform=S,b==="x"||b==="fx"?(y.insetLeft=+D,y.insetRight=+I):(b==="y"||b==="fy")&&(y.insetTop=+k,y.insetBottom=+T),h[b]=y}}return h}function Yd(t){let e={},r={scales:e};for(let[n,o]of Object.entries(t)){let{scale:i,type:a,interval:f,label:u}=o;e[n]=f5(o),r[n]=i,i.type=a,f!=null&&(i.interval=f),u!=null&&(i.label=u)}return r}function tx(t,e){let{x:r,y:n,fx:o,fy:i}=t,a=o||i?Is(e):e;o&&Z1(o,a),i&&Q1(i,a);let f=o||i?Bd(t,e):e;r&&Z1(r,f),n&&Q1(n,f)}function e5(t=[],e){let r;for(let{label:n}of t)if(n!==void 0){if(r===void 0)r=n;else if(r!==n)return}if(r!==void 0)return!rr(e)&&e.percent&&(r=`${r} (%)`),{inferred:!0,toString:()=>r}}function ex(t){return Math.sign(Tr(t.domain()))*Math.sign(Tr(t.range()))}function Is(t){let{marginTop:e,marginRight:r,marginBottom:n,marginLeft:o,width:i,height:a,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:s}}=t;return{marginTop:Math.max(e,f),marginRight:Math.max(r,u),marginBottom:Math.max(n,c),marginLeft:Math.max(o,s),width:i,height:a}}function Bd({fx:t,fy:e},r){let{marginTop:n,marginRight:o,marginBottom:i,marginLeft:a,width:f,height:u}=Is(r);return{marginTop:n,marginRight:o,marginBottom:i,marginLeft:a,width:t?t.scale.bandwidth()+a+o:f,height:e?e.scale.bandwidth()+n+i:u,facet:{width:f,height:u}}}function Z1(t,e){if(t.range===void 0){let{insetLeft:r,insetRight:n}=t,{width:o,marginLeft:i=0,marginRight:a=0}=e,f=i+r,u=o-a-n;t.range=[f,Math.max(f,u)],rr(t)||(t.range=nx(t)),t.scale.range(t.range)}rx(t)}function Q1(t,e){if(t.range===void 0){let{insetTop:r,insetBottom:n}=t,{height:o,marginTop:i=0,marginBottom:a=0}=e,f=i+r,u=o-a-n;t.range=[Math.max(f,u),f],rr(t)?t.range.reverse():t.range=nx(t),t.scale.range(t.range)}rx(t)}function rx(t){t.round===void 0&&i5(t)&&r5(t)<=30&&t.scale.round(!0)}function r5({scale:t}){let e=t.domain().length,[r,n]=t.range(),o=t.paddingInner?t.paddingInner():1,i=t.paddingOuter?t.paddingOuter():t.padding(),a=e-o,f=Math.abs(n-r)/Math.max(1,a+i*2);return(f-Math.floor(f))*a}function nx(t){let e=t.scale.domain().length+Ud(t);if(!(e>2))return t.range;let[r,n]=t.range;return Array.from({length:e},(o,i)=>r+i/(e-1)*(n-r))}function n5(t,e=[],r={}){let n=o5(t,e,r);if(r.type===void 0&&r.domain===void 0&&r.range===void 0&&r.interval==null&&t!=="fx"&&t!=="fy"&&rr({type:n})){let o=e.map(({value:i})=>i).filter(i=>i!==void 0);o.some(Zt)?Se(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${zo(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${zo(n)}".`):o.some(Og)?Se(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${zo(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${zo(n)}".`):o.some(Pg)&&Se(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${zo(n)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${zo(n)}".`)}switch(r.type=n,n){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=Ns(e,r,ws);break;case"identity":switch(st.get(t)){case Me:r=Ns(e,r,ws);break;case $o:r=Ns(e,r,a5);break}break;case"utc":case"time":r=Ns(e,r,$g);break}switch(n){case"diverging":return O1(t,e,r);case"diverging-sqrt":return P1(t,e,r);case"diverging-pow":return qd(t,e,r);case"diverging-log":return F1(t,e,r);case"diverging-symlog":return q1(t,e,r);case"categorical":case"ordinal":case qo:return H1(t,e,r);case"cyclical":case"sequential":case"linear":return C1(t,e,r);case"sqrt":return k1(t,e,r);case"threshold":return ks(t,e,r);case"quantile":return I1(t,e,r);case"quantize":return D1(t,e,r);case"pow":return Fd(t,e,r);case"log":return $1(t,e,r);case"symlog":return N1(t,e,r);case"utc":return B1(t,e,r);case"time":return Y1(t,e,r);case"point":return W1(t,e,r);case"band":return X1(t,e,r);case"identity":return R1(t);case void 0:return;default:throw new Error(`unknown scale type: ${n}`)}}function zo(t){return typeof t=="symbol"?t.description:t}function K1(t){return typeof t=="string"?`${t}`.toLowerCase():t}var J1={toString:()=>"projection"};function o5(t,e,{type:r,domain:n,range:o,scheme:i,pivot:a,projection:f}){if(r=K1(r),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(r=J1);for(let c of e){let s=K1(c.type);if(s!==void 0){if(r===void 0)r=s;else if(r!==s)throw new Error(`scale incompatible with channel: ${r} !== ${s}`)}}if(r===J1)return;if(r!==void 0)return r;if(n===void 0&&!e.some(({value:c})=>c!==void 0))return;let u=st.get(t);if(u===Rn)return"sqrt";if(u===On||u===Ln)return"linear";if(u===$o)return"ordinal";if((n||o||[]).length>2)return zd(u);if(n!==void 0){if(Sd(n))return zd(u);if(Zt(n))return"utc"}else{let c=e.map(({value:s})=>s).filter(s=>s!==void 0);if(c.some(Sd))return zd(u);if(c.some(Zt))return"utc"}if(u===ue){if(a!=null||A1(i))return"diverging";if(T1(i))return"categorical"}return"linear"}function zd(t){switch(t){case Me:return"point";case ue:return qo;default:return"ordinal"}}function rr({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===qo}function Ud({type:t}){return t==="threshold"}function i5({type:t}){return t==="point"||t==="band"}function Ta(t){if(t===void 0)return!0;let e=t.domain(),r=t(e[0]);for(let n=1,o=e.length;n<o;++n)if(t(e[n])-r)return!1;return!0}function Ns(t,{domain:e,...r},n){var o;for(let i of t)i.value!==void 0&&(e===void 0&&(e=(o=i.value)==null?void 0:o.domain),i.value=n(i.value));return{domain:e===void 0?e:n(e),...r}}function a5(t){return Mt(t,No)}function ox(t){return e=>{if(!st.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function f5({scale:t,type:e,domain:r,range:n,interpolate:o,interval:i,transform:a,percent:f,pivot:u}){if(e==="identity")return{type:"identity",apply:s=>s,invert:s=>s};let c=t.unknown?t.unknown():void 0;return{type:e,domain:ba(r),...n!==void 0&&{range:ba(n)},...a!==void 0&&{transform:a},...f&&{percent:f},...c!==void 0&&{unknown:c},...i!==void 0&&{interval:i},...o!==void 0&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:s=>t(s),...t.invert&&{invert:s=>t.invert(s)}}}function ax(t,e,r={}){var g;let n=.5-Yt,o=.5+Yt,i=.5+Yt,a=.5-Yt;for(let{marginTop:h,marginRight:b,marginBottom:x,marginLeft:M}of e)h>n&&(n=h),b>o&&(o=b),x>i&&(i=x),M>a&&(a=M);let{margin:f,marginTop:u=f!==void 0?f:n,marginRight:c=f!==void 0?f:o,marginBottom:s=f!==void 0?f:i,marginLeft:d=f!==void 0?f:a}=r;u=+u,c=+c,s=+s,d=+d;let{width:l=640,height:p=u5(t,r,{width:l,marginTopDefault:n,marginRightDefault:o,marginBottomDefault:i,marginLeftDefault:a})+Math.max(0,u-n+s-i)}=r;l=+l,p=+p;let m={width:l,height:p,marginTop:u,marginRight:c,marginBottom:s,marginLeft:d};if(t.fx||t.fy){let{margin:h,marginTop:b=h!==void 0?h:u,marginRight:x=h!==void 0?h:c,marginBottom:M=h!==void 0?h:s,marginLeft:y=h!==void 0?h:d}=(g=r.facet)!=null?g:{};b=+b,x=+x,M=+M,y=+y,m.facet={marginTop:b,marginRight:x,marginBottom:M,marginLeft:y}}return m}function u5({x:t,y:e,fy:r,fx:n},{projection:o,aspectRatio:i},{width:a,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:s}){let d=r?r.scale.domain().length:1,l=x1(o);if(l){let m=n?n.scale.domain().length:1,g=(1.1*d-.1)/(1.1*m-.1)*l,h=Math.max(.1,Math.min(10,g));return Math.round((a-s-u)*h+f+c)}let p=e?rr(e)?e.scale.domain().length:Math.max(7,17/d):1;if(i!=null){if(i=+i,!(isFinite(i)&&i>0))throw new Error(`invalid aspectRatio: ${i}`);let m=ix("y",e)/(ix("x",t)*i),g=n?n.scale.bandwidth():1,h=r?r.scale.bandwidth():1,b=g*(a-s-u)-t.insetLeft-t.insetRight;return(m*b+e.insetTop+e.insetBottom)/h+f+c}return!!(e||r)*Math.max(1,Math.min(60,p*d))*20+!!n*30+60}function ix(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);let{type:r,domain:n}=e,o;switch(r){case"linear":case"utc":case"time":o=Number;break;case"pow":{let f=e.scale.exponent();o=u=>Math.pow(u,f);break}case"log":o=Math.log;break;case"point":case"band":return n.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${r}`)}let[i,a]=Ut(n);return Math.abs(o(a)-o(i))}function ux(t,e){let{fx:r,fy:n}=Sa(t,e),o=r==null?void 0:r.scale.domain(),i=n==null?void 0:n.scale.domain();return o&&i?Na(o,i).map(([a,f],u)=>({x:a,y:f,i:u})):o?o.map((a,f)=>({x:a,i:f})):i?i.map((a,f)=>({y:a,i:f})):void 0}function sx(t,{x:e,y:r}){return e&&(e=Vd(e)),r&&(r=Vd(r)),t.filter(e&&r?n=>e.has(n.x)&&r.has(n.y):e?n=>e.has(n.x):n=>r.has(n.y)).sort(e&&r?(n,o)=>e.get(n.x)-e.get(o.x)||r.get(n.y)-r.get(o.y):e?(n,o)=>e.get(n.x)-e.get(o.x):(n,o)=>r.get(n.y)-r.get(o.y))}function Rs(t,{fx:e,fy:r}){let n=Je(t),o=e==null?void 0:e.value,i=r==null?void 0:r.value;return e&&r?Un(n,a=>(a.fx=o[a[0]],a.fy=i[a[0]],a),a=>o[a],a=>i[a]):e?Un(n,a=>(a.fx=o[a[0]],a),a=>o[a]):Un(n,a=>(a.fy=i[a[0]],a),a=>i[a])}function cx(t,e,{marginTop:r,marginLeft:n}){return t&&e?({x:o,y:i})=>`translate(${t(o)-n},${e(i)-r})`:t?({x:o})=>`translate(${t(o)-n},0)`:({y:o})=>`translate(0,${e(o)-r})`}function lx(t){let e=[],r=new Uint32Array(fn(t,n=>n.length));for(let n of t){let o=0;for(let i of t)n!==i&&(r.set(i,o),o+=i.length);e.push(r.slice(0,o))}return e}var s5=new Map([["top",Gd],["right",Xd],["bottom",Hd],["left",Wd],["top-left",Ds(Gd,Wd)],["top-right",Ds(Gd,Xd)],["bottom-left",Ds(Hd,Wd)],["bottom-right",Ds(Hd,Xd)],["top-empty",l5],["right-empty",m5],["bottom-empty",d5],["left-empty",p5],["empty",h5]]);function dx(t){if(t==null)return null;let e=s5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}var fx=new WeakMap;function Vd(t){let e=fx.get(t);return e||fx.set(t,e=new pe(Mt(t,(r,n)=>[r,n]))),e}function Kr(t,e){return Vd(t).get(e)}function c5(t,e,r){return e=Co(e),r=Co(r),t.find(n=>Object.is(Co(n.x),e)&&Object.is(Co(n.y),r))}function Ls(t,e,r){var n;return(n=c5(t,e,r))==null?void 0:n.empty}function Gd(t,{y:e},{y:r}){return e?Kr(e,r)===0:!0}function Hd(t,{y:e},{y:r}){return e?Kr(e,r)===e.length-1:!0}function Wd(t,{x:e},{x:r}){return e?Kr(e,r)===0:!0}function Xd(t,{x:e},{x:r}){return e?Kr(e,r)===e.length-1:!0}function l5(t,{y:e},{x:r,y:n,empty:o}){if(o)return!1;if(!e)return;let i=Kr(e,n);if(i>0)return Ls(t,r,e[i-1])}function d5(t,{y:e},{x:r,y:n,empty:o}){if(o)return!1;if(!e)return;let i=Kr(e,n);if(i<e.length-1)return Ls(t,r,e[i+1])}function p5(t,{x:e},{x:r,y:n,empty:o}){if(o)return!1;if(!e)return;let i=Kr(e,r);if(i>0)return Ls(t,e[i-1],n)}function m5(t,{x:e},{x:r,y:n,empty:o}){if(o)return!1;if(!e)return;let i=Kr(e,r);if(i<e.length-1)return Ls(t,e[i+1],n)}function h5(t,e,{empty:r}){return r}function Ds(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Os(t,{channels:{fx:e,fy:r},groups:n}){return e&&r?t.map(({x:o,y:i})=>{var a,f;return(f=(a=n.get(o))==null?void 0:a.get(i))!=null?f:[]}):e?t.map(({x:o})=>{var i;return(i=n.get(o))!=null?i:[]}):t.map(({y:o})=>{var i;return(i=n.get(o))!=null?i:[]})}var Nt=class{constructor(e,r={},n={},o){let{facet:i="auto",facetAnchor:a,fx:f,fy:u,sort:c,dx:s=0,dy:d=0,margin:l=0,marginTop:p=l,marginRight:m=l,marginBottom:g=l,marginLeft:h=l,clip:b=o==null?void 0:o.clip,channels:x,tip:M,render:y}=n;if(this.data=e,this.sort=Xr(c)?c:null,this.initializer=Ar(n).initializer,this.transform=this.initializer?n.transform:Ed(n).transform,i===null||i===!1?this.facet=null:(this.facet=jt(i===!0?"include":i,"facet",["auto","include","exclude","super"]),this.fx=e===_o&&typeof f=="string"?[f]:f,this.fy=e===_o&&typeof u=="string"?[u]:u),this.facetAnchor=dx(a),r=Td(r),x!==void 0&&(r={...g5(x),...r}),o!==void 0&&(r={...s1(this,n,o),...r}),this.channels=Object.fromEntries(Object.entries(r).map(([v,w])=>{if(Eo(w.value)){let{value:S,label:C=w.label,scale:k=w.scale}=w.value;w={...w,label:C,scale:k,value:S}}if(e===_o&&typeof w.value=="string"){let{value:S}=w;w={...w,value:[S]}}return[v,w]}).filter(([v,{value:w,optional:S}])=>{if(w!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+s,this.dy=+d,this.marginTop=+p,this.marginRight=+m,this.marginBottom=+g,this.marginLeft=+h,this.clip=Es(b),this.tip=x5(M),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(let v in this.channels){let{scale:w}=r[v];if(!(w!=="x"&&w!=="y"))throw new Error("super-faceting cannot use x or y")}}y!=null&&(this.render=Zd(y,this.render))}initialize(e,r,n){let o=$t(this.data);e===void 0&&o!=null&&(e=[Je(o)]);let i=e;this.transform!=null&&({facets:e,data:o}=this.transform(o,e,n),o=$t(o)),e!==void 0&&(e.original=i);let a=r1(this.channels,o);return this.sort!=null&&o1(o,e,a,r,this.sort),{data:o,facets:e,channels:a}}filter(e,r,n){for(let o in r){let{filter:i=$e}=r[o];if(i!==null){let a=n[o];e=e.filter(f=>i(a[f]))}}return e}project(e,r,n){for(let o in e)if(e[o].scale==="x"&&/^x|x$/.test(o)){let i=o.replace(/^x|x$/,"y");i in e&&e[i].scale==="y"&&h1(o,i,r,n.projection)}}scale(e,r,n){let o=n1(e,r);return n.projection&&this.project(e,o,n),o}};function jd(...t){return t.plot=Nt.prototype.plot,t}function Zd(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(r,n,o,i,a,f){return t.call(this,r,n,o,i,a,(u,c,s,d,l)=>e.call(this,u,c,s,d,l,f))}}function g5(t){return Object.fromEntries(Object.entries(Td(t)).map(([e,r])=>(r=typeof r=="string"?{value:r,label:e}:Zr(r),r.filter===void 0&&r.scale==null&&(r={...r,filter:null}),[e,r])))}function x5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?jt(t,"tip",["x","y","xy"]):t}function Qd(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:Ke(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}var px=new WeakMap;function Kd(t,e,{x:r,y:n,px:o,py:i,maxRadius:a=40,channels:f,render:u,...c}={}){return a=+a,o!=null&&(r!=null||(r=null),f={...f,px:{value:o,scale:"x"}}),i!=null&&(n!=null||(n=null),f={...f,py:{value:i,scale:"y"}}),{x:r,y:n,channels:f,...c,render:Zd(function(s,d,l,p,m,g){m={...m,pointerSticky:!1};let h=m.ownerSVGElement,{data:b}=m.getMarkState(this),x=px.get(h);x||px.set(h,x={sticky:!1,roots:[],renders:[]});let M=x.renders.push(q)-1,{x:y,y:v,fx:w,fy:S}=d,C=w?w(s.fx)-p.marginLeft:0,k=S?S(s.fy)-p.marginTop:0;y!=null&&y.bandwidth&&(C+=y.bandwidth()/2),v!=null&&v.bandwidth&&(k+=v.bandwidth()/2);let I=s.fi!=null,T;if(I){let P=x.facetStates;P||(x.facetStates=P=new Map),T=P.get(this),T||P.set(this,T=new Map)}let[D,R]=er(this,p),{px:O,py:_}=l,F=O?P=>O[P]:tp(l,D),Q=_?P=>_[P]:ep(l,R),j,K,yt,at;function $(P,X){if(I)if(at&&(at=cancelAnimationFrame(at)),P==null)T.delete(s.fi);else{T.set(s.fi,X),at=requestAnimationFrame(()=>{at=null;for(let[E,L]of T)if(L<X||L===X&&E<s.fi){P=null;break}q(P)});return}q(P)}function q(P){if(j===P&&yt===x.sticky)return;j=P,yt=m.pointerSticky=x.sticky;let X=j==null?[]:[j];I&&(X.fx=s.fx,X.fy=s.fy,X.fi=s.fi);let E=g(X,d,l,p,m);if(K){if(I){let L=K.parentNode,G=K.getAttribute("transform"),A=E.getAttribute("transform");G?E.setAttribute("transform",G):E.removeAttribute("transform"),A?L.setAttribute("transform",A):L.removeAttribute("transform"),E.removeAttribute("aria-label"),E.removeAttribute("aria-description"),E.removeAttribute("aria-hidden")}K.replaceWith(E)}return x.roots[M]=K=E,j==null&&(T==null?void 0:T.size)>1||m.dispatchValue(j==null?null:b[j]),E}function Z(P){if(x.sticky||P.pointerType==="mouse"&&P.buttons===1)return;let[X,E]=ni(P);X-=C,E-=k;let L=X<p.marginLeft||X>p.width-p.marginRight?1:t,G=E<p.marginTop||E>p.height-p.marginBottom?1:e,A=null,ht=a*a;for(let J of s){let ct=L*(F(J)-X),Et=G*(Q(J)-E),Qt=ct*ct+Et*Et;Qt<=ht&&(A=J,ht=Qt)}if(A!=null&&(t!==1||e!==1)){let J=F(A)-X,ct=Q(A)-E;ht=J*J+ct*ct}$(A,ht)}function H(P){P.pointerType==="mouse"&&j!=null&&(x.sticky&&x.roots.some(X=>X==null?void 0:X.contains(P.target))||(x.sticky?(x.sticky=!1,x.renders.forEach(X=>X(null))):(x.sticky=!0,q(j)),P.stopImmediatePropagation()))}function W(P){P.pointerType==="mouse"&&(x.sticky||$(null))}return h.addEventListener("pointerenter",Z),h.addEventListener("pointermove",Z),h.addEventListener("pointerdown",H),h.addEventListener("pointerleave",W),q(null)},u)}}function mx(t){return Kd(1,1,t)}function hx(t){return Kd(1,.01,t)}function Jd(t){return Kd(.01,1,t)}function tp({x1:t,x2:e,x:r=t},n){return t&&e?o=>(t[o]+e[o])/2:r?o=>r[o]:()=>n}function ep({y1:t,y2:e,y:r=t},n){return t&&e?o=>(t[o]+e[o])/2:r?o=>r[o]:()=>n}function Ps(t){return rr(t)&&t.interval===void 0?void 0:"tabular-nums"}function gx(t,e){let{label:r=t.label,tickSize:n=6,width:o=240,height:i=44+n,marginTop:a=18,marginRight:f=0,marginBottom:u=16+n,marginLeft:c=0,style:s,ticks:d=(o-c-f)/64,tickFormat:l,fontVariant:p=Ps(t),round:m=!0,opacity:g,className:h}=e,b=Lo(e);h=Do(h),g=xt(g)[1],l===null&&(l=()=>null);let x=mt("svg",b).attr("class",`${h}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",o).attr("height",i).attr("viewBox",`0 0 ${o} ${i}`).call(D=>D.append("style").text(`:where(.${h}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${h}-ramp text) {
  white-space: pre;
}`)).call(Ro,s),M=D=>D.selectAll(".tick line").attr("y1",a+u-i),y,v=m?(D,R)=>D.rangeRound(R):(D,R)=>D.range(R),{type:w,domain:S,range:C,interpolate:k,scale:I,pivot:T}=t;if(k){let D=C===void 0?k:Fe(k.length===1?Ma(k):k,C);y=v(I.copy(),Ht(pt(c,o-f),Math.min(S.length+(T!==void 0),C===void 0?1/0:C.length)));let R=256,O=b.document.createElement("canvas");O.width=R,O.height=1;let _=O.getContext("2d");for(let F=0,Q=R-1;F<R;++F)_.fillStyle=D(F/Q),_.fillRect(F,0,1,1);x.append("image").attr("opacity",g).attr("x",c).attr("y",a).attr("width",o-c-f).attr("height",i-a-u).attr("preserveAspectRatio","none").attr("xlink:href",O.toDataURL())}else if(w==="threshold"){let D=S,R=l===void 0?O=>O:typeof l=="string"?ge(l):l;y=v(Mn().domain([-1,C.length-1]),[c,o-f]),x.append("g").attr("fill-opacity",g).selectAll().data(C).enter().append("rect").attr("x",(O,_)=>y(_-1)).attr("y",a).attr("width",(O,_)=>y(_)-y(_-1)).attr("height",i-a-u).attr("fill",O=>O),d=Mt(D,(O,_)=>_),l=O=>R(D[O],O)}else y=v(qr().domain(S),[c,o-f]),x.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",y).attr("y",a).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",i-a-u).attr("fill",I),M=()=>{};return x.append("g").attr("transform",`translate(0,${i-u})`).call(pc(y).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(n).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",St(p,"normal")).call(M).call(D=>D.select(".domain").remove()),r!==void 0&&x.append("text").attr("x",c).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(r),x.node()}var rp=Math.PI/180;function ip(t,{marker:e,markerStart:r=e,markerMid:n=e,markerEnd:o=e}={}){t.markerStart=np(r),t.markerMid=np(n),t.markerEnd=np(o)}function np(t){if(t==null||t===!1)return null;if(t===!0)return yx;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return xx("auto");case"arrow-reverse":return xx("auto-start-reverse");case"dot":return y5;case"circle":case"circle-fill":return yx;case"circle-stroke":return b5;case"tick":return op("auto");case"tick-x":return op(90);case"tick-y":return op(0)}throw new Error(`invalid marker: ${t}`)}function xx(t){return(e,r)=>mt("svg:marker",r).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function y5(t,e){return mt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(r=>r.append("circle").attr("r",2.5)).node()}function yx(t,e){return mt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(r=>r.append("circle").attr("r",3)).node()}function b5(t,e){return mt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(r=>r.append("circle").attr("r",3)).node()}function op(t){return(e,r)=>mt("svg:marker",r).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(n=>n.append("path").attr("d","M0,-3v6")).node()}var w5=0;function ap(t,e,{stroke:r},n){return v5(t,e,r&&(o=>r[o]),n)}function v5(t,{markerStart:e,markerMid:r,markerEnd:n,stroke:o},i=()=>o,a){let f=new Map;function u(c){return function(s){let d=i(s),l=f.get(c);l||f.set(c,l=new Map);let p=l.get(d);if(!p){let m=this.parentNode.insertBefore(c(d,a),this),g=`plot-marker-${++w5}`;m.setAttribute("id",g),l.set(d,p=`url(#${g})`)}return p}}e&&t.attr("marker-start",u(e)),r&&t.attr("marker-mid",u(r)),n&&t.attr("marker-end",u(n))}function fp({inset:t,insetLeft:e,insetRight:r,...n}={}){return[e,r]=bx(t,e,r),{inset:t,insetLeft:e,insetRight:r,...n}}function up({inset:t,insetTop:e,insetBottom:r,...n}={}){return[e,r]=bx(t,e,r),{inset:t,insetTop:e,insetBottom:r,...n}}function bx(t,e,r){return t===void 0&&e===void 0&&r===void 0?Yt?[1,0]:[.5,.5]:[e,r]}function wx(t,{interval:e}){return t={...Zr(t)},t.interval=Ms(t.interval===void 0?e:t.interval),t}function vx(t,e,r,n){let{[t]:o,[`${t}1`]:i,[`${t}2`]:a}=r,{value:f,interval:u}=wx(o,r);if(f==null||u==null&&!n)return r;let c=In(o);if(u==null){let p,m={transform:g=>p||(p=fe(g,f)),label:c};return{...r,[t]:void 0,[`${t}1`]:i===void 0?m:i,[`${t}2`]:a===void 0&&!(i===a&&n)?m:a}}let s,d;function l(p){return d!==void 0&&p===s?d:d=Mt(fe(s=p,f),m=>u.floor(m))}return e({...r,[t]:void 0,[`${t}1`]:i===void 0?{transform:l,label:c}:i,[`${t}2`]:a===void 0?{transform:p=>l(p).map(m=>u.offset(m)),label:c}:a})}function Mx(t,e,r){let{[t]:n}=r,{value:o,interval:i}=wx(n,r);return o==null||i==null?r:e({...r,[t]:{label:In(n),transform:a=>{let f=Mt(fe(a,o),c=>i.floor(c)),u=f.map(c=>i.offset(c));return f.map(Zt(f)?(c,s)=>c==null||isNaN(c=+c)||(s=u[s],s==null)||isNaN(s=+s)?void 0:new Date((c+s)/2):(c,s)=>c==null||(s=u[s],s==null)?NaN:(+c+ +s)/2)}}})}function Sx(t={}){return vx("x",fp,t)}function Tx(t={}){return vx("y",up,t)}function _x(t={}){return Mx("x",fp,t)}function Ax(t={}){return Mx("y",up,t)}var Ex={ariaLabel:"rule",fill:null,stroke:"currentColor"},sp=class extends Nt{constructor(e,r={}){let{x:n,y1:o,y2:i,inset:a=0,insetTop:f=a,insetBottom:u=a}=r;super(e,{x:{value:n,scale:"x",optional:!0},y1:{value:o,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},Qd(r,"x"),Ex),this.insetTop=bt(f),this.insetBottom=bt(u),ip(this,r)}render(e,r,n,o,i){let{x:a,y:f}=r,{x:u,y1:c,y2:s}=n,{width:d,height:l,marginTop:p,marginRight:m,marginLeft:g,marginBottom:h}=o,{insetTop:b,insetBottom:x}=this;return mt("svg:g",i).call(se,this,o,i).call(le,this,{x:u&&a},Yt,0).call(M=>M.selectAll().data(e).enter().append("line").call(ce,this).attr("x1",u?y=>u[y]:(g+d-m)/2).attr("x2",u?y=>u[y]:(g+d-m)/2).attr("y1",c&&!Ta(f)?y=>c[y]+b:p+b).attr("y2",s&&!Ta(f)?f.bandwidth?y=>s[y]+f.bandwidth()-x:y=>s[y]-x:l-h-x).call(Ne,this,n).call(ap,this,n,i)).node()}},cp=class extends Nt{constructor(e,r={}){let{x1:n,x2:o,y:i,inset:a=0,insetRight:f=a,insetLeft:u=a}=r;super(e,{y:{value:i,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:!0},x2:{value:o,scale:"x",optional:!0}},Qd(r,"y"),Ex),this.insetRight=bt(f),this.insetLeft=bt(u),ip(this,r)}render(e,r,n,o,i){let{x:a,y:f}=r,{y:u,x1:c,x2:s}=n,{width:d,height:l,marginTop:p,marginRight:m,marginLeft:g,marginBottom:h}=o,{insetLeft:b,insetRight:x}=this;return mt("svg:g",i).call(se,this,o,i).call(le,this,{y:u&&f},0,Yt).call(M=>M.selectAll().data(e).enter().append("line").call(ce,this).attr("x1",c&&!Ta(a)?y=>c[y]+b:g+b).attr("x2",s&&!Ta(a)?a.bandwidth?y=>s[y]+a.bandwidth()-x:y=>s[y]-x:d-m-x).attr("y1",u?y=>u[y]:(p+l-h)/2).attr("y2",u?y=>u[y]:(p+l-h)/2).call(Ne,this,n).call(ap,this,n,i)).node()}};function Cx(t,e){let{x:r=ee,y:n,y1:o,y2:i,...a}=Tx(e);return[o,i]=$x(n,o,i),new sp(t,{...a,x:r,y1:o,y2:i})}function kx(t,e){let{y:r=ee,x:n,x1:o,x2:i,...a}=Sx(e);return[o,i]=$x(n,o,i),new cp(t,{...a,y:r,x1:o,x2:i})}function $x(t,e,r){if(t==null){if(e===void 0){if(r!==void 0)return[0,r]}else if(r===void 0)return[0,e]}else{if(e===void 0)return r===void 0?[0,t]:[t,r];if(r===void 0)return[t,e]}return[e,r]}function Yo(t,...e){let r=e.length;for(let n=0,o=!0;n<r;++n)typeof e[n]!="function"&&(o&&(t=t.slice(),o=!1),t.splice(n,2,t[n]+e[n]+t[n+1]),e.splice(n,1),--n,--r);return n=>{let o=t[0];for(let i=0;i<r;++i)o+=e[i](n)+t[i+1];return o}}var M5={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Lx="\xAD",Bo=class extends Nt{constructor(e,r={}){let{x:n,y:o,text:i=ve(e)&&Ss(e)?ee:Ag,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:c=1,lineWidth:s=1/0,textOverflow:d,monospace:l,fontFamily:p=l?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:g,fontVariant:h,fontWeight:b,rotate:x}=r,[M,y]=xt(x,0),[v,w]=A5(m);if(super(e,{x:{value:n,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:Lg(M),optional:!0},text:{value:i,filter:ms,optional:!0}},r,M5),this.rotate=y,this.textAnchor=St(f,"middle"),this.lineAnchor=jt(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+s,this.textOverflow=dp(d),this.monospace=!!l,this.fontFamily=Tt(p),this.fontSize=w,this.fontStyle=Tt(g),this.fontVariant=Tt(h),this.fontWeight=Tt(b),this.frameAnchor=Qr(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=gp(this),this.clipLine=xp(this)}render(e,r,n,o,i){let{x:a,y:f}=r,{x:u,y:c,rotate:s,text:d,title:l,fontSize:p}=n,{rotate:m}=this,[g,h]=er(this,o);return mt("svg:g",i).call(se,this,o,i).call(hp,this,d,o).call(le,this,{x:u&&a,y:c&&f}).call(b=>b.selectAll().data(e).enter().append("text").call(ce,this).call(S5,this,d,l).attr("transform",Yo`translate(${u?x=>u[x]:g},${c?x=>c[x]:h})${s?x=>` rotate(${s[x]})`:m?` rotate(${m})`:""}`).call(et,"font-size",p&&(x=>p[x])).call(Ne,this,n)).node()}};function dp(t){return t==null?null:jt(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function S5(t,e,r,n){if(!r)return;let{lineAnchor:o,lineHeight:i,textOverflow:a,splitLines:f,clipLine:u}=e;t.each(function(c){var p;let s=f((p=tr(r[c]))!=null?p:"").map(u),d=s.length,l=o==="top"?.71:o==="bottom"?1-d:(164-d*100)/200;if(d>1){let m=0;for(let g=0;g<d;++g){if(++m,!s[g])continue;let h=this.ownerDocument.createElementNS(Re.svg,"tspan");h.setAttribute("x",0),g===m-1?h.setAttribute("y",`${(l+g)*i}em`):h.setAttribute("dy",`${m*i}em`),h.textContent=s[g],this.appendChild(h),m=0}}else l&&this.setAttribute("y",`${l*i}em`),this.textContent=s[0];if(a&&!n&&s[0]!==r[c]){let m=this.ownerDocument.createElementNS(Re.svg,"title");m.textContent=r[c],this.appendChild(m)}})}function qn(t,{x:e,y:r,...n}={}){return n.frameAnchor===void 0&&([e,r]=Vr(e,r)),new Bo(t,{...n,x:e,y:r})}function pp(t,{x:e=ee,...r}={}){return new Bo(t,Ax({...r,x:e}))}function mp(t,{y:e=ee,...r}={}){return new Bo(t,_x({...r,y:e}))}function hp(t,e,r){et(t,"text-anchor",e.textAnchor),et(t,"font-family",e.fontFamily),et(t,"font-size",e.fontSize),et(t,"font-style",e.fontStyle),et(t,"font-variant",e.fontVariant===void 0?T5(r):e.fontVariant),et(t,"font-weight",e.fontWeight)}function T5(t){return t&&(Fg(t)||Zt(t))?"tabular-nums":void 0}var _5=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function A5(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),_5.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function E5(t,e,r){let n=[],o,i=0;for(let[a,f,u]of C5(t)){if(o===void 0&&(o=a),i>o&&r(t,o,f)>e&&(n.push(t.slice(o,i)+(t[i-1]===Lx?"-":"")),o=a),u){n.push(t.slice(o,f)),o=void 0;continue}i=f}return n}function*C5(t){let e=0,r=0,n=t.length;for(;r<n;){let o=1;switch(t[r]){case Lx:case"-":++r,yield[e,r,!1],e=r;break;case" ":for(yield[e,r,!1];t[++r]===" ";);e=r;break;case"\r":t[r+1]===`
`&&++o;case`
`:yield[e,r,!0],r+=o,e=r;break;default:++r;break}}yield[e,r,!0]}var Nx={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"\u2018":31,"\u2019":31,"\u201C":47,"\u201D":47,"\u2026":82};function Fs(t,e=0,r=t.length){var o;let n=0;for(let i=e;i<r;i=Uo(t,i))n+=(o=Nx[t[i]])!=null?o:Px(t,i)?120:Nx.e;return n}function qs(t,e=0,r=t.length){let n=0;for(let o=e;o<r;o=Uo(t,o))n+=Px(t,o)?126:63;return n}function gp({monospace:t,lineWidth:e,textOverflow:r}){if(r!=null||e==1/0)return i=>i.split(/\r\n?|\n/g);let n=t?qs:Fs,o=e*100;return i=>E5(i,o,n)}function xp({monospace:t,lineWidth:e,textOverflow:r}){if(r==null||e==1/0)return i=>i;let n=t?qs:Fs,o=e*100;switch(r){case"clip-start":return i=>Dx(i,o,n,"");case"clip-end":return i=>Ix(i,o,n,"");case"ellipsis-start":return i=>Dx(i,o,n,Pn);case"ellipsis-middle":return i=>k5(i,o,n,Pn);case"ellipsis-end":return i=>Ix(i,o,n,Pn)}}var Pn="\u2026";function Fn(t,e,r,n){let o=[],i=0;for(let a=0,f=0,u=t.length;a<u;a=f){f=Uo(t,a);let c=r(t,a,f);if(i+c>e){for(i+=n;i>e&&a>0;)f=a,a=o.pop(),i-=r(t,a,f);return[a,e-i]}i+=c,o.push(a)}return[-1,0]}function Ix(t,e,r,n){t=t.trim();let o=r(n),[i]=Fn(t,e,r,o);return i<0?t:t.slice(0,i).trimEnd()+n}function k5(t,e,r,n){t=t.trim();let o=r(t);if(o<=e)return t;let i=r(n)/2,[a,f]=Fn(t,e/2,r,i),[u]=Fn(t,o-e/2-f+i,r,-i);return u<0?n:t.slice(0,a).trimEnd()+n+t.slice(Uo(t,u)).trimStart()}function Dx(t,e,r,n){t=t.trim();let o=r(t);if(o<=e)return t;let i=r(n),[a]=Fn(t,o-e+i,r,-i);return a<0?n:n+t.slice(Uo(t,a)).trimStart()}var lp=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Rx=/\p{Extended_Pictographic}/uy;function Uo(t,e){return e+=$5(t,e)?2:1,I5(t,e)&&(e=lp.lastIndex),N5(t,e)?Uo(t,e+1):e}function Ox(t,e){return t.charCodeAt(e)<128}function $5(t,e){let r=t.charCodeAt(e);if(r>=55296&&r<56320){let n=t.charCodeAt(e+1);return n>=56320&&n<57344}return!1}function N5(t,e){return t.charCodeAt(e)===8205}function I5(t,e){return Ox(t,e)?!1:(lp.lastIndex=e,lp.test(t))}function Px(t,e){return Ox(t,e)?!1:(Rx.lastIndex=e,Rx.test(t))}var D5={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Fx=3.5,R5=Fx*5,qx={draw(t,e,r){let n=e*r/R5;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-n,n-e),t.lineTo(0,-e),t.lineTo(n,n-e)}},L5={draw(t,e,r){t.moveTo(-r,0),t.lineTo(0,-e),t.lineTo(r,0)}},O5=new Map([["arrow",qx],["spike",L5]]);function P5(t){return t&&typeof t.draw=="function"}function F5(t){if(P5(t))return t;let e=O5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}var zs=class extends Nt{constructor(e,r={}){let{x:n,y:o,r:i=Fx,length:a,rotate:f,shape:u=qx,anchor:c="middle",frameAnchor:s}=r,[d,l]=xt(a,12),[p,m]=xt(f,0);super(e,{x:{value:n,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:p,optional:!0}},r,D5),this.r=+i,this.length=l,this.rotate=m,this.shape=F5(u),this.anchor=jt(c,"anchor",["start","middle","end"]),this.frameAnchor=Qr(s)}render(e,r,n,o,i){let{x:a,y:f}=r,{x:u,y:c,length:s,rotate:d}=n,{length:l,rotate:p,anchor:m,shape:g,r:h}=this,[b,x]=er(this,o);return mt("svg:g",i).call(se,this,o,i).call(le,this,{x:u&&a,y:c&&f}).call(M=>M.selectAll().data(e).enter().append("path").call(ce,this).attr("transform",Yo`translate(${u?y=>u[y]:b},${c?y=>c[y]:x})${d?y=>` rotate(${d[y]})`:p?` rotate(${p})`:""}${m==="start"?"":m==="end"?s?y=>` translate(0,${s[y]})`:` translate(0,${l})`:s?y=>` translate(0,${s[y]/2})`:` translate(0,${l/2})`}`).attr("d",s?y=>{let v=gn();return g.draw(v,s[y],h),v}:(()=>{let y=gn();return g.draw(y,l,h),y})()).call(Ne,this,n)).node()}};function zx(t,e={}){let{x:r=ee,...n}=e;return new zs(t,{...n,x:r})}function Yx(t,e={}){let{y:r=ee,...n}=e;return new zs(t,{...n,y:r})}function Jr(t,e){return arguments.length<2&&!ve(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Ys({anchor:t}={},e){return t===void 0?e[0]:jt(t,"anchor",e)}function Bx(t){return Ys(t,["left","right"])}function Ux(t){return Ys(t,["right","left"])}function Gx(t){return Ys(t,["bottom","top"])}function Hx(t){return Ys(t,["top","bottom"])}function bp(){let[t,e]=Jr(...arguments);return Vx("y",Bx(e),t,e)}function Wx(){let[t,e]=Jr(...arguments);return Vx("fy",Ux(e),t,e)}function wp(){let[t,e]=Jr(...arguments);return jx("x",Gx(e),t,e)}function Xx(){let[t,e]=Jr(...arguments);return jx("fx",Hx(e),t,e)}function Vx(t,e,r,{color:n="currentColor",opacity:o=1,stroke:i=n,strokeOpacity:a=o,strokeWidth:f=1,fill:u=n,fillOpacity:c=o,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:p,tickSize:m=t==="y"?6:0,tickPadding:g,tickRotate:h,x:b,margin:x,marginTop:M=x===void 0?20:x,marginRight:y=x===void 0?e==="right"?40:0:x,marginBottom:v=x===void 0?20:x,marginLeft:w=x===void 0?e==="left"?40:0:x,label:S,labelAnchor:C,labelArrow:k,labelOffset:I,...T}){return m=bt(m),g=bt(g),h=bt(h),C!==void 0&&(C=jt(C,"labelAnchor",["center","top","bottom"])),k=fy(k),jd(m&&!Ot(i)?q5(t,e,r,{stroke:i,strokeOpacity:a,strokeWidth:f,tickSize:m,tickPadding:g,tickRotate:h,x:b,...T}):null,Ot(u)?null:Y5(t,e,r,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:p,textAnchor:s,tickSize:m,tickPadding:g,tickRotate:h,x:b,marginTop:M,marginRight:y,marginBottom:v,marginLeft:w,...T}),!Ot(u)&&S!==null?qn([],ny({fill:u,fillOpacity:c,...T},function(D,R,O,_,F){let Q=_[t],{marginTop:j,marginRight:K,marginBottom:yt,marginLeft:at}=t==="y"&&F.inset||F,$=C!=null?C:Q.bandwidth?"center":"top",q=I!=null?I:(e==="right"?K:at)-3;return $==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=$,this.frameAnchor=`${$}-${e}`,this.rotate=0),this.dy=$==="top"?3-j:$==="bottom"?yt-3:0,this.dx=e==="right"?q:-q,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[ay(t,Q,{anchor:e,label:S,labelAnchor:$,labelArrow:k})]}}}})):null)}function jx(t,e,r,{color:n="currentColor",opacity:o=1,stroke:i=n,strokeOpacity:a=o,strokeWidth:f=1,fill:u=n,fillOpacity:c=o,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:p,tickSize:m=t==="x"?6:0,tickPadding:g,tickRotate:h,y:b,margin:x,marginTop:M=x===void 0?e==="top"?30:0:x,marginRight:y=x===void 0?20:x,marginBottom:v=x===void 0?e==="bottom"?30:0:x,marginLeft:w=x===void 0?20:x,label:S,labelAnchor:C,labelArrow:k,labelOffset:I,...T}){return m=bt(m),g=bt(g),h=bt(h),C!==void 0&&(C=jt(C,"labelAnchor",["center","left","right"])),k=fy(k),jd(m&&!Ot(i)?z5(t,e,r,{stroke:i,strokeOpacity:a,strokeWidth:f,tickSize:m,tickPadding:g,tickRotate:h,y:b,...T}):null,Ot(u)?null:B5(t,e,r,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:p,textAnchor:s,tickSize:m,tickPadding:g,tickRotate:h,y:b,marginTop:M,marginRight:y,marginBottom:v,marginLeft:w,...T}),!Ot(u)&&S!==null?qn([],ny({fill:u,fillOpacity:c,...T},function(D,R,O,_,F){let Q=_[t],{marginTop:j,marginRight:K,marginBottom:yt,marginLeft:at}=t==="x"&&F.inset||F,$=C!=null?C:Q.bandwidth?"center":"right",q=I!=null?I:(e==="top"?j:yt)-3;return $==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${$}`,this.textAnchor=$==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-q:q,this.dx=$==="right"?K-3:$==="left"?3-at:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[ay(t,Q,{anchor:e,label:S,labelAnchor:$,labelArrow:k})]}}}})):null)}function q5(t,e,r,{strokeWidth:n=1,strokeLinecap:o=null,strokeLinejoin:i=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetLeft:s=c,insetRight:d=c,dx:l=0,y:p=t==="y"?void 0:null,...m}){return Go(Yx,t,e,`${t}-axis tick`,r,{strokeWidth:n,strokeLinecap:o,strokeLinejoin:i,facetAnchor:a,frameAnchor:f,y:p,...m,dx:e==="left"?+l-Yt+ +s:+l+Yt-d,anchor:"start",length:u,shape:e==="left"?W5:X5})}function z5(t,e,r,{strokeWidth:n=1,strokeLinecap:o=null,strokeLinejoin:i=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetTop:s=c,insetBottom:d=c,dy:l=0,x:p=t==="x"?void 0:null,...m}){return Go(zx,t,e,`${t}-axis tick`,r,{strokeWidth:n,strokeLinejoin:i,strokeLinecap:o,facetAnchor:a,frameAnchor:f,x:p,...m,dy:e==="bottom"?+l-Yt-d:+l+Yt+ +s,anchor:"start",length:u,shape:e==="bottom"?G5:H5})}function Y5(t,e,r,{facetAnchor:n=e+(t==="y"?"-empty":""),frameAnchor:o=e,tickSize:i,tickRotate:a=0,tickPadding:f=Math.max(3,9-i)+(Math.abs(a)>60?4*Math.cos(a*rp):0),text:u,textAnchor:c=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:s=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:p=l,insetRight:m=l,dx:g=0,y:h=t==="y"?void 0:null,...b}){return Go(mp,t,e,`${t}-axis tick label`,r,{facetAnchor:n,frameAnchor:o,text:u,textAnchor:c,lineAnchor:s,fontVariant:d,rotate:a,y:h,...b,dx:e==="left"?+g-i-f+ +p:+g+ +i+ +f-m},function(x,M,y,v,w){d===void 0&&(this.fontVariant=iy(x)),u===void 0&&(w.text=oy(x,M,y,v,e))})}function B5(t,e,r,{facetAnchor:n=e+(t==="x"?"-empty":""),frameAnchor:o=e,tickSize:i,tickRotate:a=0,tickPadding:f=Math.max(3,9-i)+(Math.abs(a)>=10?4*Math.cos(a*rp):0),text:u,textAnchor:c=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:p=l,insetBottom:m=l,dy:g=0,x:h=t==="x"?void 0:null,...b}){return Go(pp,t,e,`${t}-axis tick label`,r,{facetAnchor:n,frameAnchor:o,text:u===void 0?null:u,textAnchor:c,lineAnchor:s,fontVariant:d,rotate:a,x:h,...b,dy:e==="bottom"?+g+ +i+ +f-m:+g-i-f+ +p},function(x,M,y,v,w){d===void 0&&(this.fontVariant=iy(x)),u===void 0&&(w.text=oy(x,M,y,v,e))})}function Zx(){let[t,e]=Jr(...arguments);return ty("y",Bx(e),t,e)}function Qx(){let[t,e]=Jr(...arguments);return ty("fy",Ux(e),t,e)}function Kx(){let[t,e]=Jr(...arguments);return ey("x",Gx(e),t,e)}function Jx(){let[t,e]=Jr(...arguments);return ey("fx",Hx(e),t,e)}function ty(t,e,r,{y:n=t==="y"?void 0:null,x:o=null,x1:i=e==="left"?o:null,x2:a=e==="right"?o:null,...f}){return Go(kx,t,e,`${t}-grid`,r,{y:n,x1:i,x2:a,...ry(f)})}function ey(t,e,r,{x:n=t==="x"?void 0:null,y:o=null,y1:i=e==="top"?o:null,y2:a=e==="bottom"?o:null,...f}){return Go(Cx,t,e,`${t}-grid`,r,{x:n,y1:i,y2:a,...ry(f)})}function ry({color:t="currentColor",opacity:e=.1,stroke:r=t,strokeOpacity:n=e,strokeWidth:o=1,...i}){return{stroke:r,strokeOpacity:n,strokeWidth:o,...i}}function ny({fill:t,fillOpacity:e,fontFamily:r,fontSize:n,fontStyle:o,fontVariant:i,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s=!1},d){return[,t]=_r(t),[,e]=xt(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:r,fontSize:n,fontStyle:o,fontVariant:i,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s,initializer:d}}function Go(t,e,r,n,o,i,a){let f;function u(d,l,p,m,g,h){var k,I,T;let b=d==null&&(e==="fx"||e==="fy"),{[e]:x}=m;if(!x)throw new Error(`missing scale: ${e}`);let M=x.domain(),{interval:y,ticks:v,tickFormat:w,tickSpacing:S=e==="x"?80:35}=i;if(typeof v=="string"&&uy(x)&&(y=v,v=void 0),v===void 0&&(v=(k=jr(y,x.type))!=null?k:U5(x,S)),d==null){if(ve(v))d=$t(v);else if(Rg(v))d=yp(v,...Ut(M));else if(x.interval){let D=x.interval;if(x.ticks){let[R,O]=Ut(M),_=(O-R)/D[To];D=(I=wd(D,_/v))!=null?I:D,d=yp(D,R,O)}else{d=M;let R=d.length;D=(T=wd(D,R/v))!=null?T:D,D!==x.interval&&(d=yp(D,...Ut(d)))}if(D===x.interval){let R=Math.round(d.length/v);R>1&&(d=d.filter((O,_)=>_%R===0))}}else x.ticks?d=x.ticks(v):d=M;if(!x.ticks&&d.length&&d!==M){let D=new Te(M);d=d.filter(R=>D.has(R)),d.length||Se(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?l=[Je(d)]:f[e]={scale:e,value:ee}}a==null||a.call(this,x,d,v,w,f);let C=Object.fromEntries(Object.entries(f).map(([D,R])=>[D,{...R,value:fe(d,R.value)}]));return b&&(l=h.filterFacets(d,C)),{data:d,facets:l,channels:C}}let c=Ar(i).initializer,s=t(o,Ar({...i,initializer:u},c));return o==null?(f=s.channels,s.channels={}):f={},s.ariaLabel=n,s.clip===void 0&&(s.clip=!1),s}function U5(t,e){let[r,n]=Ut(t.range());return(n-r)/e}function oy(t,e,r,n,o){return{value:_a(t,e,r,n,o)}}function _a(t,e,r,n,o){var i;return typeof n=="function"?n:n===void 0&&e&&Zt(e)?(i=Sg(t.type,e,o))!=null?i:tr:t.tickFormat?t.tickFormat(typeof r=="number"?r:null,n):n===void 0?tr:typeof n=="string"?(Zt(t.domain())?je:ge)(n):Wr(n)}function yp(t,e,r){return t.range(e,t.offset(t.floor(r)))}var G5={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},H5={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},W5={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},X5={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function iy(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function ay(t,e,{anchor:r,label:n=e.label,labelAnchor:o,labelArrow:i}={}){if(!(n==null||n.inferred&&uy(e)&&/^(date|time|year)$/i.test(n))){if(n=String(n),i==="auto"&&(i=(!e.bandwidth||e.interval)&&!/[]/.test(n)),!i)return n;if(i===!0){let a=ex(e);a&&(i=/x$/.test(t)||o==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(i){case"left":return`\u2190 ${n}`;case"right":return`${n} \u2192`;case"up":return r==="right"?`${n} \u2191`:`\u2191 ${n}`;case"down":return r==="right"?`${n} \u2193`:`\u2193 ${n}`}return n}}function fy(t="auto"){return Ot(t)?!1:typeof t=="boolean"?t:jt(t,"labelArrow",["auto","up","right","down","left"])}function uy(t){return Zt(t.domain())}function sy(t,e){if(e==null)return e;let r=t(e);if(!r)throw new Error(`scale not found: ${e}`);return r}function cy(t,{opacity:e,...r}={}){if(!rr(t)&&!Ud(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return dy(t,r,(n,o,i,a)=>n.append("svg").attr("width",i).attr("height",a).attr("fill",o.scale).attr("fill-opacity",xt(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function ly(t,{fill:e=(c=>(c=t.hint)==null?void 0:c.fill)()!==void 0?t.hint.fill:"none",fillOpacity:r=1,stroke:n=(s=>(s=t.hint)==null?void 0:s.stroke)()!==void 0?t.hint.stroke:Ot(e)?"currentColor":"none",strokeOpacity:o=1,strokeWidth:i=1.5,r:a=4.5,...f}={},u){let[d,l]=_r(e),[p,m]=_r(n),g=sy(u,d),h=sy(u,p),b=a*a*Math.PI;return r=xt(r)[1],o=xt(o)[1],i=xt(i)[1],dy(t,f,(x,M,y,v)=>x.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",v).attr("fill",d==="color"?w=>g.scale(w):l).attr("fill-opacity",r).attr("stroke",p==="color"?w=>h.scale(w):m).attr("stroke-opacity",o).attr("stroke-width",i).append("path").attr("d",w=>{let S=gn();return t.scale(w).draw(S,b),S}))}function dy(t,e={},r){let{columns:n,tickFormat:o,fontVariant:i=Ps(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:u=a,marginLeft:c=0,className:s,style:d,width:l}=e,p=Lo(e);s=Do(s),o=_a(t.scale,t.domain,void 0,o);let m=mt("div",p).attr("class",`${s}-swatches ${s}-swatches-${n!=null?"columns":"wrap"}`),g;return n!=null?(g=`:where(.${s}-swatches-columns .${s}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${s}-swatches-columns .${s}-swatch::before) {
  flex-shrink: 0;
}
:where(.${s}-swatches-columns .${s}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,m.style("columns",n).selectAll().data(t.domain).enter().append("div").attr("class",`${s}-swatch`).call(r,t,f,u).call(h=>h.append("div").attr("class",`${s}-swatch-label`).attr("title",o).text(o))):(g=`:where(.${s}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${s}-swatches-wrap .${s}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,m.selectAll().data(t.domain).enter().append("span").attr("class",`${s}-swatch`).call(r,t,f,u).append(function(){return this.ownerDocument.createTextNode(o.apply(this,arguments))})),m.call(h=>h.insert("style","*").text(`:where(.${s}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${s}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",c?`${+c}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",St(i,"normal")).call(Ro,d).node()}var vp=new Map([["symbol",ly],["color",hy],["opacity",V5]]);function py(t,e,r={}){return(n,o)=>{if(!vp.has(n))throw new Error(`unknown legend type: ${n}`);if(n in t)return vp.get(n)(t[n],my(e,r[n],o),i=>t[i])}}function my({className:t,...e},{label:r,ticks:n,tickFormat:o}={},i){return Yg(i,{className:t,...e},{label:r,ticks:n,tickFormat:o})}function hy(t,{legend:e=!0,...r}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return cy(t,r);case"ramp":return gx(t,r);default:throw new Error(`unknown legend type: ${e}`)}}function V5({type:t,interpolate:e,...r},{legend:n=!0,color:o=me(0,0,0),...i}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(n===!0&&(n="ramp"),`${n}`.toLowerCase()!=="ramp")throw new Error(`${n} opacity legends are not supported`);return hy({type:t,...r,interpolate:j5(o)},{legend:n,...i})}function j5(t){let{r:e,g:r,b:n}=me(t)||me(0,0,0);return o=>`rgba(${e},${r},${n},${o})`}function gy(t,e,r){let n=[];for(let[o,i]of vp){let a=r[o];if(a!=null&&a.legend&&o in t){let f=i(t[o],my(e,t[o],a),u=>t[u]);f!=null&&n.push(f)}}return n}var Z5={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Q5={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1},Mp=class extends Nt{constructor(e={}){let{anchor:r=null,inset:n=0,insetTop:o=n,insetRight:i=n,insetBottom:a=n,insetLeft:f=n,rx:u,ry:c}=e;super(_o,void 0,e,r==null?Z5:Q5),this.anchor=Md(r,"anchor",["top","right","bottom","left"]),this.insetTop=bt(o),this.insetRight=bt(i),this.insetBottom=bt(a),this.insetLeft=bt(f),this.rx=bt(u),this.ry=bt(c)}render(e,r,n,o,i){let{marginTop:a,marginRight:f,marginBottom:u,marginLeft:c,width:s,height:d}=o,{anchor:l,insetTop:p,insetRight:m,insetBottom:g,insetLeft:h,rx:b,ry:x}=this,M=c+h,y=s-f-m,v=a+p,w=d-u-g;return mt(l?"svg:line":"svg:rect",i).datum(0).call(se,this,o,i).call(ce,this).call(Ne,this,n).call(le,this,{}).call(l==="left"?S=>S.attr("x1",M).attr("x2",M).attr("y1",v).attr("y2",w):l==="right"?S=>S.attr("x1",y).attr("x2",y).attr("y1",v).attr("y2",w):l==="top"?S=>S.attr("x1",M).attr("x2",y).attr("y1",v).attr("y2",v):l==="bottom"?S=>S.attr("x1",M).attr("x2",y).attr("y1",w).attr("y2",w):S=>S.attr("x",M).attr("y",v).attr("width",y-M).attr("height",w-v).attr("rx",b).attr("ry",x)).node()}};function xy(t){return new Mp(t)}var Sp={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},K5=new Set(["geometry","href","src","ariaLabel","scales"]),Tp=class extends Nt{constructor(e,r={}){r.tip&&(r={...r,tip:!1}),r.title===void 0&&ve(e)&&Ss(e)&&(r={...r,title:ee});let{x:n,y:o,x1:i,x2:a,y1:f,y2:u,anchor:c,preferredAnchor:s="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:h,lineHeight:b=1,lineWidth:x=20,frameAnchor:M,format:y,textAnchor:v="start",textOverflow:w,textPadding:S=8,title:C,pointerSize:k=12,pathFilter:I="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=r;super(e,{x:{value:i!=null&&a!=null?null:n,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:o,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:i==null},y2:{value:u,scale:"y",optional:f==null},title:{value:C,optional:!0}},r,Sp),this.anchor=_s(c,"anchor"),this.preferredAnchor=_s(s,"preferredAnchor"),this.frameAnchor=Qr(M),this.textAnchor=St(v,"middle"),this.textPadding=+S,this.pointerSize=+k,this.pathFilter=Tt(I),this.lineHeight=+b,this.lineWidth=+x,this.textOverflow=dp(w),this.monospace=!!d,this.fontFamily=Tt(l),this.fontSize=bt(p),this.fontStyle=Tt(m),this.fontVariant=Tt(g),this.fontWeight=Tt(h);for(let T in Sp)T in this.channels&&(this[T]=Sp[T]);this.splitLines=gp(this),this.clipLine=xp(this),this.format={...y}}render(e,r,n,o,i){let a=this,{x:f,y:u,fx:c,fy:s}=r,{ownerSVGElement:d,document:l}=i,{anchor:p,monospace:m,lineHeight:g,lineWidth:h}=this,{textPadding:b,pointerSize:x,pathFilter:M}=this,{marginTop:y,marginLeft:v}=o,{x1:w,y1:S,x2:C,y2:k,x:I=w!=null?w:C,y:T=S!=null?S:k}=n,D=c?c(e.fx)-v:0,R=s?s(e.fy)-y:0,[O,_]=er(this,o),F=tp(n,O),Q=ep(n,_),j=m?qs:Fs,K=j(Pn),yt,at;"title"in n?(yt=n.channels,at=n3):(yt=r3.call(this,n,r),at=o3);let $=mt("svg:g",i).call(se,this,o,i).call(hp,this).call(le,this,{x:I&&f,y:T&&u}).call(H=>H.selectAll().data(e).enter().append("g").attr("transform",W=>`translate(${Math.round(F(W))},${Math.round(Q(W))})`).call(ce,this).call(W=>W.append("path").attr("filter",M)).call(W=>W.append("text").each(function(P){let X=rt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");let E=at.call(a,P,e,yt,r,n);if(typeof E=="string")for(let L of a.splitLines(E))q(X,{value:a.clipLine(L)});else{let L=new Set;for(let G of E){let{label:A=""}=G;A&&L.has(A)||(L.add(A),q(X,G))}}})));function q(H,{label:W,value:P,color:X,opacity:E}){W!=null||(W=""),P!=null||(P="");let L=X!=null||E!=null,G,A=h*100,[ht]=Fn(W,A,j,K);if(ht>=0)W=W.slice(0,ht).trimEnd()+Pn,G=P.trim(),P="";else{(W||!P&&!L)&&(P=" "+P);let[ct]=Fn(P,A-j(W),j,K);ct>=0&&(G=P.trim(),P=P.slice(0,ct).trimEnd()+Pn)}let J=H.append("tspan").attr("x",0).attr("dy",`${g}em`).text("\u200B");W&&J.append("tspan").attr("font-weight","bold").text(W),P&&J.append(()=>l.createTextNode(P)),L&&J.append("tspan").text(" \u25A0").attr("fill",X).attr("fill-opacity",E).style("user-select","none"),G&&J.append("title").text(G)}function Z(){var P;let{width:H,height:W}=(P=o.facet)!=null?P:o;$.selectChildren().each(function(X){let{x:E,width:L,height:G}=this.getBBox();L=Math.round(L),G=Math.round(G);let A=p;if(A===void 0){let ct=F(X)+D,Et=Q(X)+R,Qt=ct+L+x+b*2<H,Wo=ct-L-x-b*2>0,nc=Et+G+x+b*2<W,Xo=Et-G-x-b*2>0;A=Qt&&Wo?nc&&Xo?a.preferredAnchor:Xo?"bottom":"top":nc&&Xo?Qt?"left":"right":(Qt||Wo)&&(nc||Xo)?`${Xo?"bottom":"top"}-${Qt?"left":"right"}`:a.preferredAnchor}let ht=this.firstChild,J=this.lastChild;if(ht.setAttribute("d",e3(A,x,b,L,G)),E)for(let ct of J.childNodes)ct.setAttribute("x",-E);J.setAttribute("y",`${+J5(A,J.childNodes.length,g).toFixed(6)}em`),J.setAttribute("transform",`translate(${t3(A,x,b,L,G)})`)}),$.attr("visibility",null)}return e.length&&($.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(Z):typeof requestAnimationFrame!="undefined"&&requestAnimationFrame(Z)),$.node()}};function vy(t,{x:e,y:r,...n}={}){return n.frameAnchor===void 0&&([e,r]=Vr(e,r)),new Tp(t,{...n,x:e,y:r})}function J5(t,e,r){return/^top(?:-|$)/.test(t)?.94-r:-.29-e*r}function t3(t,e,r,n,o){switch(t){case"middle":return[-n/2,o/2];case"top-left":return[r,e+r];case"top":return[-n/2,e/2+r];case"top-right":return[-n-r,e+r];case"right":return[-e/2-n-r,o/2];case"bottom-left":return[r,-e-r];case"bottom":return[-n/2,-e/2-r];case"bottom-right":return[-n-r,-e-r];case"left":return[r+e/2,o/2]}}function e3(t,e,r,n,o){let i=n+r*2,a=o+r*2;switch(t){case"middle":return`M${-i/2},${-a/2}h${i}v${a}h${-i}z`;case"top-left":return`M0,0l${e},${e}h${i-e}v${a}h${-i}z`;case"top":return`M0,0l${e/2},${e/2}h${(i-e)/2}v${a}h${-i}v${-a}h${(i-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-i}v${a}h${i}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-i}v${a}h${i}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${i-e}v${-a}h${-i}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(i-e)/2}v${-a}h${-i}v${a}h${(i-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-i}v${-a}h${i}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${i}v${a}h${-i}v${e/2-a/2}z`}}function r3({channels:t},e){var o,i,a,f;let r={},n=this.format;n=yy(n,t,"x"),n=yy(n,t,"y"),this.format=n;for(let u in n){let c=n[u];if(!(c===null||c===!1))if(u==="fx"||u==="fy")r[u]=!0;else{let s=Nd(t,u);s&&(r[u]=s)}}for(let u in t){if(u in r||u in n||K5.has(u))continue;let c=Nd(t,u);c&&(r[u]=c)}this.facet&&(e.fx&&!("fx"in n)&&(r.fx=!0),e.fy&&!("fy"in n)&&(r.fy=!0));for(let u in r){let c=this.format[u];if(typeof c=="string"){let s=(f=(a=(o=r[u])==null?void 0:o.value)!=null?a:(i=e[u])==null?void 0:i.domain())!=null?f:[];this.format[u]=(Zt(s)?je:ge)(c)}else if(c===void 0||c===!0){let s=e[u];this.format[u]=s!=null&&s.bandwidth?_a(s,s.domain()):tr}}return r}function yy(t,e,r){if(!(r in t))return t;let n=`${r}1`,o=`${r}2`;if((n in t||!(n in e))&&(o in t||!(o in e)))return t;let i=Object.entries(t),a=t[r];return i.splice(i.findIndex(([f])=>f===r)+1,0,[n,a],[o,a]),Object.fromEntries(i)}function n3(t,e,{title:r}){return tr(r.value[t],t)}function*o3(t,e,r,n,o){for(let i in r){if(i==="fx"||i==="fy"){yield{label:Bs(n,r,i),value:this.format[i](e[i],t)};continue}if(i==="x1"&&"x2"in r||i==="y1"&&"y2"in r)continue;let a=r[i];if(i==="x2"&&"x1"in r)yield{label:wy(n,r,"x"),value:by(this.format.x2,r.x1,a,t)};else if(i==="y2"&&"y1"in r)yield{label:wy(n,r,"y"),value:by(this.format.y2,r.y1,a,t)};else{let f=a.value[t],u=a.scale;if(!$e(f)&&u==null)continue;yield{label:Bs(n,r,i),value:this.format[i](f,t),color:u==="color"?o[i][t]:null,opacity:u==="opacity"?o[i][t]:null}}}}function by(t,e,r,n){var o;return(o=r.hint)!=null&&o.length?`${t(r.value[n]-e.value[n],n)}`:`${t(e.value[n],n)}\u2013${t(r.value[n],n)}`}function wy(t,e,r){let n=Bs(t,e,`${r}1`,r),o=Bs(t,e,`${r}2`,r);return n===o?n:`${n}\u2013${o}`}function Bs(t,e,r,n=r){var a,f,u;let o=e[r],i=t[(a=o==null?void 0:o.scale)!=null?a:r];return String((u=(f=i==null?void 0:i.label)!=null?f:o==null?void 0:o.label)!=null?u:n)}function Ws(t={}){var K,yt,at;let{facet:e,style:r,title:n,subtitle:o,caption:i,ariaLabel:a,ariaDescription:f}=t,u=Do(t.className),c=t.marks===void 0?[]:Sy(t.marks);c.push(...l3(c));let s=s3(e,t),d=new Map;for(let $ of c){let q=Ty($,s,t);q&&d.set($,q)}let l=new Map;s&&Aa(l,[s],t),Aa(l,d,t);let p=Sy(d3(c,l,t));for(let $ of p){let q=Ty($,s,t);q&&d.set($,q)}c.unshift(...p);let m=ux(l,t);if(m!==void 0){let $=s?Os(m,s):void 0;for(let Z of c){if(Z.facet===null||Z.facet==="super")continue;let H=d.get(Z);H!==void 0&&(H.facetsIndex=Z.fx!=null||Z.fy!=null?Os(m,H):$)}let q=new Set;for(let{facetsIndex:Z}of d.values())Z==null||Z.forEach((H,W)=>{(H==null?void 0:H.length)>0&&q.add(W)});m.forEach(0<q.size&&q.size<m.length?(Z,H)=>Z.empty=!q.has(H):Z=>Z.empty=!1);for(let Z of c)if(Z.facet==="exclude"){let H=d.get(Z);H!==void 0&&(H.facetsIndex=lx(H.facetsIndex))}}for(let $ of st.keys())Ao(t[$])&&$!=="fx"&&$!=="fy"&&l.set($,[]);let g=new Map;for(let $ of c){if(g.has($))throw new Error("duplicate mark; each mark must be unique");let{facetsIndex:q,channels:Z}=(K=d.get($))!=null?K:{},{data:H,facets:W,channels:P}=$.initialize(q,Z,t);Ep(P,t),g.set($,{data:H,facets:W,channels:P})}let h=Sa(Aa(l,g,t),t),b=ax(h,c,t);tx(h,b);let x=Yd(h),{fx:M,fy:y}=x,v=M||y?Bd(h,b):b,w=M||y?b3(x,b):b,S=Lo(t),C=S.document,k=sr("svg").call(C.documentElement),I=k;S.ownerSVGElement=k,S.className=u,S.projection=d1(t,v),S.filterFacets=($,q)=>Os(m,{channels:q,groups:Rs($,q)}),S.getMarkState=$=>{let q=g.get($),Z=d.get($);return{...q,channels:{...q.channels,...Z==null?void 0:Z.channels}}},S.dispatchValue=$=>{I.value!==$&&(I.value=$,I.dispatchEvent(new Event("input",{bubbles:!0})))};let T=new Set;for(let[$,q]of g)if($.initializer!=null){let Z=$.facet==="super"?w:v,H=$.initializer(q.data,q.facets,q.channels,x,Z,S);if(H.data!==void 0&&(q.data=H.data),H.facets!==void 0&&(q.facets=H.facets),H.channels!==void 0){let{fx:W,fy:P,...X}=H.channels;u3(X),Object.assign(q.channels,X);for(let E of Object.values(X)){let{scale:L}=E;L!=null&&!Ug(st.get(L))&&(Ey(E,t),T.add(L))}(W!=null||P!=null)&&d.set($,!0)}}if(T.size){let $=new Map;Aa($,g,t,W=>T.has(W)),Aa(l,g,t,W=>T.has(W));let q=y3(Sa($,t),h),{scales:Z,...H}=Yd(q);Object.assign(h,q),Object.assign(x,H),Object.assign(x.scales,Z)}let D,R;m!==void 0&&(D={x:M==null?void 0:M.domain(),y:y==null?void 0:y.domain()},m=sx(m,D),R=cx(M,y,b));for(let[$,q]of g)q.values=$.scale(q.channels,x,S);let{width:O,height:_}=b;rt(k).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",O).attr("height",_).attr("viewBox",`0 0 ${O} ${_}`).attr("aria-label",a).attr("aria-description",f).call($=>$.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(Ro,r);for(let $ of c){let{channels:q,values:Z,facets:H}=g.get($);if(m===void 0||$.facet==="super"){let W=null;if(H&&(W=H[0],W=$.filter(W,q,Z),W.length===0))continue;let P=$.render(W,x,Z,w,S);if(P==null)continue;k.appendChild(P)}else{let W;for(let P of m){if(!((at=(yt=$.facetAnchor)==null?void 0:yt.call($,m,D,P))!=null?at:!P.empty))continue;let X=null;if(H){let L=d.has($);if(X=H[L?P.i:0],X=$.filter(X,q,Z),X.length===0)continue;!L&&X===H[0]&&(X=Ng(X)),X.fx=P.x,X.fy=P.y,X.fi=P.i}let E=$.render(X,x,Z,v,S);if(E!=null){(W!=null?W:W=rt(k).append("g")).append(()=>E).datum(P);for(let L of["aria-label","aria-description","aria-hidden","transform"])E.hasAttribute(L)&&(W.attr(L,E.getAttribute(L)),E.removeAttribute(L))}}W==null||W.selectChildren().attr("transform",R)}}let F=gy(h,S,t),{figure:Q=n!=null||o!=null||i!=null||F.length>0}=t;Q&&(I=C.createElement("figure"),I.className=`${u}-figure`,I.style.maxWidth="initial",n!=null&&I.append(My(C,n,"h2")),o!=null&&I.append(My(C,o,"h3")),I.append(...F,k),i!=null&&I.append(i3(C,i))),I.scale=ox(x.scales),I.legend=py(h,S,t);let j=f1();return j>0&&rt(k).append("text").attr("x",O).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("\u26A0\uFE0F").append("title").text(`${j.toLocaleString("en-US")} warning${j===1?"":"s"}. Please check the console.`),I}function My(t,e,r){if(e.ownerDocument)return e;let n=t.createElement(r);return n.append(e),n}function i3(t,e){let r=t.createElement("figcaption");return r.append(e),r}function a3({marks:t=[],...e}={}){return Ws({...e,marks:[...t,this]})}Nt.prototype.plot=a3;function Sy(t){return t.flat(1/0).filter(e=>e!=null).map(f3)}function f3(t){return typeof t.render=="function"?t:new Ap(t)}var Ap=class extends Nt{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}};function Ep(t,e){for(let r in t)Ey(t[r],e);return t}function Ey(t,e){var u;let{scale:r,transform:n=!0}=t;if(r==null||!n)return;let{type:o,percent:i,interval:a,transform:f=i?c=>c*100:Ig(a,o)}=(u=e[r])!=null?u:{};f!=null&&(t.value=Mt(t.value,f),t.transform=!1)}function u3(t){for(let e in t)$d(e,t[e])}function Aa(t,e,r,n=Eg){var o,i;for(let{channels:a}of e.values())for(let f in a){let u=a[f],{scale:c}=u;if(c!=null&&n(c))if(c==="projection"){if(!g1(r)){let s=((o=r.x)==null?void 0:o.domain)===void 0,d=((i=r.y)==null?void 0:i.domain)===void 0;if(s||d){let[l,p]=y1(u);s&&_p(t,"x",l),d&&_p(t,"y",p)}}}else _p(t,c,u)}return t}function _p(t,e,r){let n=t.get(e);n!==void 0?n.push(r):t.set(e,[r])}function s3(t,e){if(t==null)return;let{x:r,y:n}=t;if(r==null&&n==null)return;let o=$t(t.data);if(o==null)throw new Error("missing facet data");let i={};r!=null&&(i.fx=Io(o,{value:r,scale:"fx"})),n!=null&&(i.fy=Io(o,{value:n,scale:"fy"})),Ep(i,e);let a=Rs(o,i);return{channels:i,groups:a,data:t.data}}function Ty(t,e,r){var u,c,s;if(t.facet===null||t.facet==="super")return;let{fx:n,fy:o}=t;if(n!=null||o!=null){let d=$t((c=(u=t.data)!=null?u:n)!=null?c:o);if(d===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(d===null)return;let l={};return n!=null&&(l.fx=Io(d,{value:n,scale:"fx"})),o!=null&&(l.fy=Io(d,{value:o,scale:"fy"})),Ep(l,r),{channels:l,groups:Rs(d,l)}}if(e===void 0)return;let{channels:i,groups:a,data:f}=e;if(t.facet!=="auto"||t.data===f)return{channels:i,groups:a};f.length>0&&(a.size>1||a.size===1&&i.fx&&i.fy&&[...a][0][1].size>1)&&((s=$t(t.data))==null?void 0:s.length)===f.length&&Se(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn\u2019t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function c3(t,e={}){return Ar({...e,x:null,y:null},(r,n,o,i,a,f)=>f.getMarkState(t))}function l3(t){let e=[];for(let r of t){let n=r.tip;if(n){n===!0?n={}:typeof n=="string"&&(n={pointer:n});let{pointer:o,preferredAnchor:i}=n;o=/^x$/i.test(o)?hx:/^y$/i.test(o)?Jd:mx,n=o(c3(r,n)),n.title=null,i===void 0&&(n.preferredAnchor=o===Jd?"left":"bottom");let a=vy(r.data,n);a.facet=r.facet,a.facetAnchor=r.facetAnchor,e.push(a)}}return e}function d3(t,e,r){let{projection:n,x:o={},y:i={},fx:a={},fy:f={},axis:u,grid:c,facet:s={},facet:{axis:d=u,grid:l}=s,x:{axis:p=u,grid:m=p===null?null:c}=o,y:{axis:g=u,grid:h=g===null?null:c}=i,fx:{axis:b=d,grid:x=b===null?null:l}=a,fy:{axis:M=d,grid:y=M===null?null:l}=f}=r;(n||!Ao(o)&&!_y("x",t))&&(p=m=null),(n||!Ao(i)&&!_y("y",t))&&(g=h=null),e.has("fx")||(b=x=null),e.has("fy")||(M=y=null),p===void 0&&(p=!Hs(t,"x")),g===void 0&&(g=!Hs(t,"y")),b===void 0&&(b=!Hs(t,"fx")),M===void 0&&(M=!Hs(t,"fy")),p===!0&&(p="bottom"),g===!0&&(g="left"),b===!0&&(b=p==="top"||p===null?"bottom":"top"),M===!0&&(M=g==="right"||g===null?"left":"right");let v=[];return Gs(v,y,Qx,f),Us(v,M,Wx,"right","left",s,f),Gs(v,x,Jx,a),Us(v,b,Xx,"top","bottom",s,a),Gs(v,h,Zx,i),Us(v,g,bp,"left","right",r,i),Gs(v,m,Kx,o),Us(v,p,wp,"bottom","top",r,o),v}function Us(t,e,r,n,o,i,a){if(!e)return;let f=p3(e);a=m3(f?n:e,i,a);let{line:u}=a;(r===bp||r===wp)&&u&&!Dn(u)&&t.push(xy(h3(a))),t.push(r(a)),f&&t.push(r({...a,anchor:o,label:null}))}function Gs(t,e,r,n){!e||Dn(e)||t.push(r(g3(e,n)))}function p3(t){return/^\s*both\s*$/i.test(t)}function m3(t,e,{line:r=e.line,ticks:n,tickSize:o,tickSpacing:i,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:d,label:l=e.label,labelAnchor:p,labelArrow:m=e.labelArrow,labelOffset:g}){return{anchor:t,line:r,ticks:n,tickSize:o,tickSpacing:i,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:d,label:l,labelAnchor:p,labelArrow:m,labelOffset:g}}function h3(t){let{anchor:e,line:r}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:r===!0?void 0:r}}function g3(t,{stroke:e=ko(t)?t:void 0,ticks:r=x3(t)?t:void 0,tickSpacing:n,ariaLabel:o,ariaDescription:i}){return{stroke:e,ticks:r,tickSpacing:n,ariaLabel:o,ariaDescription:i}}function x3(t){switch(typeof t){case"number":return!0;case"string":return!ko(t)}return ve(t)||typeof(t==null?void 0:t.range)=="function"}function Hs(t,e){let r=`${e}-axis `;return t.some(n=>{var o;return(o=n.ariaLabel)==null?void 0:o.startsWith(r)})}function _y(t,e){for(let r of e)for(let n in r.channels){let{scale:o}=r.channels[n];if(o===t||o==="projection")return!0}return!1}function y3(t,e){for(let r in t){let n=t[r],o=e[r];n.label===void 0&&o&&(n.label=o.label)}return t}function b3({fx:t,fy:e},r){let{marginTop:n,marginRight:o,marginBottom:i,marginLeft:a,width:f,height:u}=Is(r),c=t&&Ay(t),s=e&&Ay(e);return{marginTop:e?s[0]:n,marginRight:t?f-c[1]:o,marginBottom:e?u-s[1]:i,marginLeft:t?c[0]:a,inset:{marginTop:r.marginTop,marginRight:r.marginRight,marginBottom:r.marginBottom,marginLeft:r.marginLeft},width:f,height:u}}function Ay(t){let e=t.domain(),r=t(e[0]),n=t(e[e.length-1]);return n<r&&([r,n]=[n,r]),[r,n+t.bandwidth()]}function Cy(t){return t.sort===void 0&&t.reverse===void 0?Zg({channel:"-r"},t):t}var w3={ariaLabel:"image",fill:null,stroke:null};function v3(t){return/^\.*\//.test(t)}function M3(t){return/^(blob|data|file|http|https):/i.test(t)}function S3(t){return typeof t=="string"&&(v3(t)||M3(t))?[void 0,t]:[t,void 0]}var Xs=class extends Nt{constructor(e,r={}){let{x:n,y:o,r:i,width:a,height:f,rotate:u,src:c,preserveAspectRatio:s,crossOrigin:d,frameAnchor:l,imageRendering:p}=r;i==null&&(i=void 0),i===void 0&&a===void 0&&f===void 0?a=f=16:a===void 0&&f!==void 0?a=f:f===void 0&&a!==void 0&&(f=a);let[m,g]=S3(c),[h,b]=xt(i),[x,M]=xt(a,b!==void 0?b*2:void 0),[y,v]=xt(f,b!==void 0?b*2:void 0),[w,S]=xt(u,0);super(e,{x:{value:n,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},r:{value:h,scale:"r",filter:Mr,optional:!0},width:{value:x,filter:Mr,optional:!0},height:{value:y,filter:Mr,optional:!0},rotate:{value:w,optional:!0},src:{value:m,optional:!0}},Cy(r),w3),this.src=g,this.width=M,this.rotate=S,this.height=v,this.r=b,this.preserveAspectRatio=St(s,"xMidYMid"),this.crossOrigin=Tt(d),this.frameAnchor=Qr(l),this.imageRendering=St(p,"auto")}render(e,r,n,o,i){let{x:a,y:f}=r,{x:u,y:c,width:s,height:d,r:l,rotate:p,src:m}=n,{r:g,width:h,height:b,rotate:x}=this,[M,y]=er(this,o);return mt("svg:g",i).call(se,this,o,i).call(le,this,{x:u&&a,y:c&&f}).call(v=>v.selectAll().data(e).enter().append("image").call(ce,this).attr("x",ky(u,s,l,M,h,g)).attr("y",ky(c,d,l,y,b,g)).attr("width",s?w=>s[w]:h!==void 0?h:l?w=>l[w]*2:g*2).attr("height",d?w=>d[w]:b!==void 0?b:l?w=>l[w]*2:g*2).attr("transform",p?w=>`rotate(${p[w]})`:x?`rotate(${x})`:null).attr("transform-origin",p||x?Yo`${u?w=>u[w]:M}px ${c?w=>c[w]:y}px`:null).call(et,"href",m?w=>m[w]:this.src).call(et,"preserveAspectRatio",this.preserveAspectRatio).call(et,"crossorigin",this.crossOrigin).call(et,"image-rendering",this.imageRendering).call(et,"clip-path",l?w=>`circle(${l[w]}px)`:g!==void 0?`circle(${g}px)`:null).call(Ne,this,n)).node()}};function ky(t,e,r,n,o,i){return e&&t?a=>t[a]-e[a]/2:e?a=>n-e[a]/2:t&&o!==void 0?a=>t[a]-o/2:o!==void 0?n-o/2:r&&t?a=>t[a]-r[a]:r?a=>n-r[a]:t?a=>t[a]-i:n-i}function Cp(t,{x:e,y:r,...n}={}){return n.frameAnchor===void 0&&([e,r]=Vr(e,r)),new Xs(t,{...n,x:e,y:r})}function $y(t){let e=document.createElement("template");return e.innerHTML=t,document.importNode(e.content,!0)}function Ny(t){let e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=t,e}var Ky=Object.assign(ec($y,t=>{if(t.firstChild===null)return null;if(t.firstChild===t.lastChild)return t.removeChild(t.firstChild);let e=document.createElement("span");return e.appendChild(t),e}),{fragment:ec($y,t=>t)}),vB=Object.assign(ec(Ny,t=>t.firstChild===null?null:t.firstChild===t.lastChild?t.removeChild(t.firstChild):t),{fragment:ec(Ny,t=>{let e=document.createDocumentFragment();for(;t.firstChild;)e.appendChild(t.firstChild);return e})}),_3=9,A3=10,E3=12,C3=13,k3=32,$3=65,N3=90,I3=97,D3=122,Vs=60,re=62,tn=47,nr=45,kp=33,$p=61,Iy=34,Dy=39,R3=63,Bt=1,Ry=2,Ly=3,Np=4,js=5,en=6,Ip=7,Zs=8,Qs=9,Dp=10,Rp=11,Ks=12,Lp=13,Ea=14,Oy=15,Py=16,Nr=17,Fy=18,qy=19,zy=20,Yy=21,Op=22,Ca=23,By=24,Uy=25,or=26,Gy=27,Hy=28,Wy=29,L3=128,Xy=1,O3=8,P3=1,Jy="http://www.w3.org/2000/svg",zn="http://www.w3.org/1999/xlink",Vy="http://www.w3.org/XML/1998/namespace",jy="http://www.w3.org/2000/xmlns/",tb=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),tc=new Map([["xlink:actuate",zn],["xlink:arcrole",zn],["xlink:href",zn],["xlink:role",zn],["xlink:show",zn],["xlink:title",zn],["xlink:type",zn],["xml:lang",Vy],["xml:space",Vy],["xmlns",jy],["xmlns:xlink",jy]]);function ec(t,e){return function({raw:r}){let n=Bt,o="",i,a,f,u,c=0;for(let p=0,m=arguments.length;p<m;++p){let g=r[p];if(p>0){let h=arguments[p];switch(n){case or:{if(h!=null){let b=`${h}`;if(eb(a))o+=b.replace(/[<]/g,Ho);else{if(new RegExp(`</${a}[\\s>/]`,"i").test(o.slice(-a.length-2)+b))throw new Error("unsafe raw text");o+=b}}break}case Bt:{h==null||(h instanceof Node||typeof h!="string"&&h[Symbol.iterator]||/(?:^|>)$/.test(r[p-1])&&/^(?:<|$)/.test(g)?(o+="<!--::"+p+"-->",c|=L3):o+=`${h}`.replace(/[<&]/g,Ho));break}case Qs:{n=Ks;let b;if(/^[\s>]/.test(g)){if(h==null||h===!1){o=o.slice(0,f-r[p-1].length);break}if(h===!0||(b=`${h}`)==""){o+="''";break}if(r[p-1].slice(f,u)==="style"&&Pp(h)||typeof h=="function"){o+="::"+p,c|=Xy;break}}if(b===void 0&&(b=`${h}`),b==="")throw new Error("unsafe unquoted empty string");o+=b.replace(/^['"]|[\s>&]/g,Ho);break}case Ks:{o+=`${h}`.replace(/[\s>&]/g,Ho);break}case Rp:{o+=`${h}`.replace(/['&]/g,Ho);break}case Dp:{o+=`${h}`.replace(/["&]/g,Ho);break}case en:{if(Pp(h)){o+="::"+p+"=''",c|=Xy;break}throw new Error("invalid binding")}case Nr:break;default:throw new Error("invalid binding")}}for(let h=0,b=g.length;h<b;++h){let x=g.charCodeAt(h);switch(n){case Bt:{x===Vs&&(n=Ry);break}case Ry:{x===kp?n=Uy:x===tn?n=Ly:Js(x)?(i=h,a=void 0,n=Np,--h):x===R3?(n=js,--h):(n=Bt,--h);break}case Ly:{Js(x)?(n=Np,--h):x===re?n=Bt:(n=js,--h);break}case Np:{rn(x)?(n=en,a=$a(g,i,h)):x===tn?n=Ea:x===re&&(a=$a(g,i,h),n=ka(a)?or:Bt);break}case en:{rn(x)||(x===tn||x===re?(n=Ip,--h):x===$p?(n=Zs,f=h+1,u=void 0):(n=Zs,--h,f=h+1,u=void 0));break}case Zs:{rn(x)||x===tn||x===re?(n=Ip,--h,u=h):x===$p&&(n=Qs,u=h);break}case Ip:{rn(x)||(x===tn?n=Ea:x===$p?n=Qs:x===re?n=ka(a)?or:Bt:(n=Zs,--h,f=h+1,u=void 0));break}case Qs:{rn(x)||(x===Iy?n=Dp:x===Dy?n=Rp:x===re?n=ka(a)?or:Bt:(n=Ks,--h));break}case Dp:{x===Iy&&(n=Lp);break}case Rp:{x===Dy&&(n=Lp);break}case Ks:{rn(x)?n=en:x===re&&(n=ka(a)?or:Bt);break}case Lp:{rn(x)?n=en:x===tn?n=Ea:x===re?n=ka(a)?or:Bt:(n=en,--h);break}case Ea:{x===re?n=Bt:(n=en,--h);break}case js:{x===re&&(n=Bt);break}case Oy:{x===nr?n=Py:x===re?n=Bt:(n=Nr,--h);break}case Py:{x===nr?n=Ca:x===re?n=Bt:(n=Nr,--h);break}case Nr:{x===Vs?n=Fy:x===nr&&(n=Op);break}case Fy:{x===kp?n=qy:x!==Vs&&(n=Nr,--h);break}case qy:{x===nr?n=zy:(n=Nr,--h);break}case zy:{x===nr?n=Yy:(n=Ca,--h);break}case Yy:{n=Ca,--h;break}case Op:{x===nr?n=Ca:(n=Nr,--h);break}case Ca:{x===re?n=Bt:x===kp?n=By:x!==nr&&(n=Nr,--h);break}case By:{x===nr?n=Op:x===re?n=Bt:(n=Nr,--h);break}case Uy:{x===nr&&g.charCodeAt(h+1)===nr?(n=Oy,++h):(n=js,--h);break}case or:{x===Vs&&(n=Gy);break}case Gy:{x===tn?n=Hy:(n=or,--h);break}case Hy:{Js(x)?(i=h,n=Wy,--h):(n=or,--h);break}case Wy:{rn(x)&&a===$a(g,i,h)?n=en:x===tn&&a===$a(g,i,h)?n=Ea:x===re&&a===$a(g,i,h)?n=Bt:Js(x)||(n=or,--h);break}default:{n=void 0;break}}}o+=g}let s=t(o),d=document.createTreeWalker(s,c,null,!1),l=[];for(;d.nextNode();){let p=d.currentNode;switch(p.nodeType){case P3:{let m=p.attributes;for(let g=0,h=m.length;g<h;++g){let{name:b,value:x}=m[g];if(/^::/.test(b)){let M=arguments[+b.slice(2)];Zy(p,b),--g,--h;for(let y in M){let v=M[y];v==null||v===!1||(typeof v=="function"?p[y]=v:y==="style"&&Pp(v)?Qy(p[y],v):F3(p,y,v===!0?"":v))}}else if(/^::/.test(x)){let M=arguments[+x.slice(2)];Zy(p,b),--g,--h,typeof M=="function"?p[b]=M:Qy(p[b],M)}}break}case O3:{if(/^::/.test(p.data)){let m=p.parentNode,g=arguments[+p.data.slice(2)];if(g instanceof Node)m.insertBefore(g,p);else if(typeof g!="string"&&g[Symbol.iterator])if(g instanceof NodeList||g instanceof HTMLCollection)for(let h=g.length-1,b=p;h>=0;--h)b=m.insertBefore(g[h],b);else for(let h of g)h!=null&&m.insertBefore(h instanceof Node?h:document.createTextNode(h),p);else m.insertBefore(document.createTextNode(g),p);l.push(p)}break}}}for(let p of l)p.parentNode.removeChild(p);return e(s)}}function Ho(t){return`&#${t.charCodeAt(0).toString()};`}function Js(t){return $3<=t&&t<=N3||I3<=t&&t<=D3}function rn(t){return t===_3||t===A3||t===E3||t===k3||t===C3}function Pp(t){return t&&t.toString===Object.prototype.toString}function ka(t){return t==="script"||t==="style"||eb(t)}function eb(t){return t==="textarea"||t==="title"}function $a(t,e,r){return t.slice(e,r).toLowerCase()}function F3(t,e,r){if(t.namespaceURI===Jy&&(e=e.toLowerCase(),e=tb.get(e)||e,tc.has(e))){t.setAttributeNS(tc.get(e),e,r);return}t.setAttribute(e,r)}function Zy(t,e){if(t.namespaceURI===Jy&&(e=e.toLowerCase(),e=tb.get(e)||e,tc.has(e))){t.removeAttributeNS(tc.get(e),e);return}t.removeAttribute(e)}function Qy(t,e){for(let r in e){let n=e[r];r.startsWith("--")?t.setProperty(r,n):t[r]=n}}function rb(t,e){let r={stroke:"blue","stroke-width":3},n={fill:"blue",opacity:.5},i=rt(t).node().tagName==="FIGURE"?rt(t).select("svg"):rt(t),a=rt(t).selectAll("svg");a.size()>1&&(i=rt([...a].pop())),i.style("overflow","visible"),i.selectAll("path").each(function(c,s,d){(rt(this).attr("fill")===null||rt(this).attr("fill")==="none")&&(rt(this).style("pointer-events","visibleStroke"),e===void 0&&(e=r))}),e===void 0&&(e=n);let f=i.selectAll(".hover").data([1]).join("g").attr("class","hover").style("pointer-events","none").style("text-anchor","middle"),u=id_generator();return rt(t).classed(u,!0),i.selectAll("title").each(function(){let c=rt(this),s=rt(this.parentNode),d=c.text();d&&(s.attr("__title",d).classed("has-title",!0),c.remove()),s.on("pointerenter pointermove",function(l){let p=rt(this).attr("__title"),m=ni(l,i.node());p?f.call(hover,m,p.split(`
`)):f.selectAll("*").remove(),rt(this).raise();let g=f.node().getBBox();m[0]+g.x<0?f.attr("transform",`translate(${g.width/2}, ${m[1]+7}) rotate(45)`):m[0]+g.width/2>i.attr("width")&&f.attr("transform",`translate(${i.attr("width")-g.width/2}, ${m[1]+7}) rotate(45)`)}).on("pointerout",function(l){f.selectAll("*").remove(),rt(this).lower()})}),i.on("touchstart",()=>f.selectAll("*").remove()),t.appendChild(Ky`<style>
  .${u} .has-title { cursor: pointer;  pointer-events: all; }
  .${u} .has-title:hover { ${Object.entries(e).map(([c,s])=>`${c}: ${s};`).join(" ")} }`),t}hover=(t,e,r)=>{t.selectAll("*").remove(),t.style("text-anchor","middle").style("pointer-events","none").attr("transform",`translate(${e[0]}, ${e[1]+7}) rotate(45)`).selectAll("text").data(r).join("text").style("dominant-baseline","ideographic").text(f=>f).attr("y",(f,u)=>(u-(r.length-1))*15-15).style("font-weight",(f,u)=>u===0?"bold":"normal");let a=t.node().getBBox();t.append("rect").attr("y",a.y-5).attr("x",a.x-10).attr("width",a.width+10*2).attr("height",a.height+5*2).style("fill","white").style("stroke","#d3d3d3").lower()};id_generator=()=>{var t=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return"a"+t()+t()};var ib="https://llimllib.github.io/nba_data";function q3(t){let e={month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,timeZone:"UTC"};return t.toLocaleString("en-US",e)}function z3(t,e){let r={poss:0,pts:0,opp_poss:0,opp_pts:0};for(let o of e)r.poss+=o.poss,r.pts+=o.pts,r.opp_pts+=o.opp_pts,r.opp_poss+=o.opp_poss;let n=t[e[0].team_abbreviation];if(!n)throw Error(`unable to find team ${e[0].team_abbreviation}`);return{games:e.length,off_rating:r.pts/r.poss,def_rating:r.opp_pts/r.opp_poss,team:e[0].team_abbreviation,w:n.W,l:n.L,fullname:n.TEAM_NAME}}async function rc(t,e,r,n){var m;let i=800/Math.sqrt(2),a=[5,10,15,20,30,40,50,60,70,80,90],f=new Map([...e].map(([g,h])=>[g,z3(t,h.slice(0,a[r]))]));if(!f)return;let u=Ut([...f].map(([g,h])=>[h.def_rating,h.off_rating]).flat());if(!u[0]||!u[1])return;let c=[u[0]*.99,u[1]*1.01],s=Ws({width:i,height:i,grid:!0,style:{background:"#fff9eb"},y:{domain:c,reverse:!0,tickFormat:".3",ticks:5,tickRotate:45,label:""},x:{domain:c,tickFormat:".3",ticks:5,tickRotate:45,label:""},marks:[Cp(f.values(),{x:"off_rating",y:"def_rating",width:40,height:40,rotate:45,title:g=>`${g.team}
Record: ${g.w} - ${g.l}
Offensive rating: ${g.off_rating}
Defensive rating: ${g.def_rating}`,src:g=>`../logos/${g.fullname}.svg`}),qn(["Offensive Rating"],{frameAnchor:"bottom",dy:70,fontSize:25,fontWeight:"bold",textAnchor:"middle"}),qn(["Defensive Rating"],{frameAnchor:"Left",dx:-60,fontSize:25,fontWeight:"bold",rotate:90,textAnchor:"middle"})]}),d=50;rt(s).insert("rect",":first-child").attr("x",d).attr("y",d).attr("width",i/2-d).attr("height",i/2-d).attr("fill","#fbe8c8"),rt(s).insert("rect",":first-child").attr("x",i/2).attr("y",d).attr("width",i/2-d).attr("height",i/2-d).attr("fill","#e2e6cf"),rt(s).insert("rect",":first-child").attr("x",d).attr("y",i/2).attr("width",i/2-d).attr("height",i/2-d).attr("fill","#f8d9d4"),rt(s).insert("rect",":first-child").attr("x",i/2).attr("y",i/2).attr("width",i/2-d).attr("height",i/2-d).attr("fill","#fbe8c8");let l=800;(m=rt("#plot").append("svg").attr("width",l).attr("height",l).append("g").attr("transform",` translate(${(l-506)/2} ${(l-828)/2}) rotate(-45 ${l/2} ${l/2})`).node())==null||m.append(rb(s));let p=new Date(n);rt("#updated").html(`data updated ${q3(p)} UTC`)}async function nb(t){let r=await(await fetch(`${ib}/team_efficiency_${t}.json`)).json(),n=Bn(r.games,o=>o.team_abbreviation);return n.forEach(o=>o.sort((i,a)=>i.game_date<a.game_date?1:-1)),n}async function ob(t){return await(await fetch(`${ib}/team_summary_${t}.json`)).json()}window.addEventListener("DOMContentLoaded",async()=>{var o,i,a;let t="2024",e=await ob(t),r=await nb(t),n=parseFloat(document.querySelector("#ngames").value);await rc(e.teams,r,n,e.updated),(o=document.querySelector("#year"))==null||o.addEventListener("change",async f=>{rt("#plot").html("");let u=f.target.value;e=await ob(u),r=await nb(u),await rc(e.teams,r,parseFloat(document.querySelector("#ngames").value),e.updated)}),(i=document.querySelector("#ngames"))==null||i.addEventListener("change",async f=>{rt("#plot").html(""),await rc(e.teams,r,parseFloat(document.querySelector("#ngames").value),e.updated)}),(a=document.querySelector("#ngames"))==null||a.addEventListener("input",async f=>{let u=parseFloat(document.querySelector("#ngames").value),c=[5,10,15,20,30,40,50,60,70,80,90];u<10?document.querySelector("#gameslabel").innerText=`Last ${c[u]} games`:document.querySelector("#gameslabel").innerText="All games",rt("#plot").html(""),await rc(e.teams,r,parseFloat(document.querySelector("#ngames").value),e.updated)})});
