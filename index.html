<!DOCTYPE HTML>
<html><head>
    <meta charset="UTF-8">
    <title>NBA Statistics Viewer</title>
    <!-- vendor this? -->
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="dist/viewer_duckdb.js"></script>
<style>
pre {
  margin: 0px;
}
text.label {
  font: 12px sans-serif;
}
text.pointLabel {
  font: 10px sans-serif;
}
.code {
  background-color: #eee;
  font-family: monospace;
}
</style>
  </head>
  <body>
    <div>
      <svg id="canvas" width="800" height="800"></svg>
    </div>
    <div style="margin-top: 50px">
      <span>X axis: <select id="statx"></select></span>
      <br>
      Y axis: <select id="staty"></select></span>
      <br>
      <span>radius:
        <select id="radius">
          <option value="8" selected>constant: 8</option>
          <option value="4">constant: 4</option>
        </select>
      </span>
    </div>
    <div style="margin-top: 20px">
        <label for="teamcolors">Team Colors</label><input type="checkbox" id="teamcolors" checked></input>
      </span>
      <span style="margin-left: 40px" id="updated"></span>
    </div>
    <div style="margin-top: 20px" class="settings">
      width: <input type="text" id="settings-width"></input>
      <span style="margin-left: 40px">
        height: <input type="text" id="settings-height"></input>
      </span>
      <br>
      minRadius: <input type="text" id="settings-min-radius"></input>
      <span style="margin-left: 40px">
        maxRadius: <input type="text" id="settings-max-radius"></input>
      </span>
    </div>
    <div style="margin-top: 20px">
      <span>Year: <select id="yearChooser">
        <option value="2022" selected>2022</option>
        <option value="2021">2021</option>
        <option value="2020">2020</option>
        <option value="2019">2019</option>
        <option value="2018">2018</option>
        <option value="2017">2017</option>
        <option value="2016">2016</option>
        <option value="2015">2015</option>
        <option value="2014">2014</option>
        <option value="2013">2013</option>
        <option value="2012">2012</option>
        <option value="2011">2011</option>
        <option value="2010">2010</option>
        </select></span>
      filter: <input type="text"
        id="filter"
        value="quantile(fga, 66)"
        style="width: 500px"></input>
      <span style="margin-left: 40px">
        <button id="applyFilter">filter</button>
        <p>
          The filter syntax is a work in progress. You're essentially writing the
          <span class="code">where</span> clause in a SQL statement (using <a
          href="https://duckdb.org/docs/sql/query_syntax/where">DuckDB SQL</a>).
        </p>
        <p>
          Here's some you can try:
        </p>
        <ul>
          <li><pre>usg_pct &gt; 26 and fga &gt; 80</pre></li>
          <li><pre>team in ('BOS', 'MIA', 'BRK') and fga &gt; 30</pre></li>
          <li><pre>team = 'BOS'</pre></li>
          <li><pre>quantile(fga) &gt; 80 or quantile(trb) &gt; 80</pre></li>
          <li><pre>pts_per_g &gt; 20</pre></li>
          <li><pre>fg3a_per_g &gt; 5 and quantile(fg3a) &gt; 75</pre></li>
          <li><pre>quantile(stl) &gt; 75 and quantile(ast) &gt; 75 or name like '%Thybulle'</pre></li>
        </ul>
      </span>
    </div>
    <hr>
    <ul>
      <li><a href="./teams/">team efficiency graph</a></li>
      <li><a href="https://github.com/llimllib/nbastats/">source code</a></li>
    </ul>
  </body>
</html>
